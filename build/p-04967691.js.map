{"version":3,"names":["resolveMap","WeakMap","promiseMap","setUpLoadableComponent","component","set","Promise","resolve","setComponentLoaded","get","componentLoaded"],"sources":["./node_modules/@esri/calcite-components/dist/collection/utils/loadable.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.2.0\n */\nconst resolveMap = new WeakMap();\nconst promiseMap = new WeakMap();\n/**\n * This helper util sets up the component for the ability to know when the component has been loaded.\n *\n * This should be used in the `componentWillLoad` lifecycle hook.\n *\n * ```\n * componentWillLoad(): void {\n *   setUpLoadableComponent(this);\n * }\n * ```\n *\n * @param component\n */\nexport function setUpLoadableComponent(component) {\n  promiseMap.set(component, new Promise((resolve) => resolveMap.set(component, resolve)));\n}\n/**\n * This helper util lets the loadable component know that it is now loaded.\n *\n * This should be used in the `componentDidLoad` lifecycle hook.\n *\n * ```\n * componentDidLoad(): void {\n *   setComponentLoaded(this);\n * }\n * ```\n *\n * @param component\n */\nexport function setComponentLoaded(component) {\n  resolveMap.get(component)();\n}\n/**\n * This helper util can be used to ensure a component has been loaded (The \"componentDidLoad\" stencil lifecycle method has been called).\n *\n * Requires \"setUpLoadableComponent\" and \"setComponentLoaded\" to be called first.\n *\n * A component developer can await this method before proceeding with any logic that requires a component to be loaded first.\n *\n * ```\n * async setFocus(): Promise<void> {\n *   await componentLoaded(this);\n * }\n * ```\n *\n * @param component\n * @returns Promise<void>\n */\nexport function componentLoaded(component) {\n  return promiseMap.get(component);\n}\n"],"mappings":";;;;;AAKA,MAAMA,EAAa,IAAIC,QACvB,MAAMC,EAAa,IAAID,QAchB,SAASE,EAAuBC,GACrCF,EAAWG,IAAID,EAAW,IAAIE,SAASC,GAAYP,EAAWK,IAAID,EAAWG,KAC/E,CAcO,SAASC,EAAmBJ,GACjCJ,EAAWS,IAAIL,EAAfJ,EACF,CAiBO,SAASU,EAAgBN,GAC9B,OAAOF,EAAWO,IAAIL,EACxB,Q"}