{"version":3,"names":["Object","defineProperty","exports","value","Strings","errors","unknownElementType","typeName","concat","unknownActionType","elementTypeNotAllowed","actionTypeNotAllowed","invalidPropertyValue","propertyName","showCardMustHaveCard","invalidColumnWidth","invalidWidth","invalidCardVersion","defaultingToVersion","invalidVersionString","versionString","propertyValueNotSupported","supportedInVersion","versionUsed","propertyNotSupported","indexOutOfRange","index","elementCannotBeUsedAsInline","inlineAlreadyParented","interactivityNotAllowed","inputsMustHaveUniqueId","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","propertyMustBeSet","actionHttpHeadersMustHaveNameAndValue","tooManyActions","maximumActions","tooLittleTimeDelay","minAutoplayDelay","tooManyCarouselPages","maxCarouselPages","invalidInitialPageIndex","initialPageIndex","columnAlreadyBelongsToAnotherSet","invalidCardType","unsupportedCardVersion","version","maxSupportedVersion","duplicateId","id","markdownProcessingNotEnabled","processMarkdownEventRemoved","elementAlreadyParented","actionAlreadyParented","elementTypeNotStandalone","invalidInputLabelWidth","magicCodeInputCard","tryAgain","pleaseLogin","enterMagicCode","pleaseEnterMagicCodeYouReceived","submit","cancel","somethingWentWrong","authenticationFailed","runtime","automaticRefreshPaused","clckToRestartAutomaticRefresh","refreshThisCard","hints","dontUseWeightedAndStrecthedColumnsInSameSet","defaults","inlineActionTitle","overflowButtonText","overflowButtonTooltip","mediaPlayerAriaLabel","mediaPlayerPlayMedia","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","carouselNavigationPreviousTooltip","carouselNavigationNextTooltip","CarouselInteractionEvent","LogLevel","RefreshMode","TypeErrorType","ContainerFitStatus","ValidationEvent","ValidationPhase","InputLabelPosition","InputTextStyle","ActionIconPlacement","FillMode","Orientation","ShowCardActionMode","ImageStyle","ActionAlignment","VerticalAlignment","HorizontalAlignment","TextColor","Spacing","FontType","TextWeight","InputStyle","TextSize","SizeUnit","ImageSetPresentationStyle","ImageSize","Size","ActionMode","ActionStyle","ContainerStyle","Default","Emphasis","Accent","Good","Attention","Warning","Positive","Destructive","Primary","Secondary","UUID","SizeAndUnit","PaddingDefinition","SpacingDefinition","StringWithSubstitutions","ContentTypes","GlobalSettings","useAdvancedTextBlockTruncation","useAdvancedCardBottomTruncation","useMarkdownInRadioButtonAndCheckbox","allowMarkForTextHighlighting","alwaysBleedSeparators","enableFullJsonRoundTrip","displayInputValidationErrors","allowPreProcessingPropertyValues","setTabIndexAtCardRoot","enableFallback","useWebkitLineClamp","allowMoreThanMaxActionsInOverflowMenu","removePaddingFromContainersWithBackgroundImage","resetInputsDirtyStateAfterActionExecution","applets","logEnabled","logLevel","Enums","Error","maximumRetryAttempts","defaultTimeBetweenRetryAttempts","authPromptWidth","authPromptHeight","refresh","mode","Manual","timeBetweenAutomaticRefreshes","maximumConsecutiveAutomaticRefreshes","allowManualRefreshesAfterAutomaticRefreshes","applicationJson","applicationXWwwFormUrlencoded","this","_isProcessed","prototype","getReferencedInputs","inputs","referencedInputs","_original","_i","inputs_1","length","input","matches","RegExp","exec","substituteInputValues","contentType","_processed","regEx","_a","keys","key","toLowerCase","matchedInput","valueForReplace","JSON","stringify","slice","encodeURIComponent","replace","getOriginal","get","set","top","right","bottom","left","None","physicalSize","unit","parse","requireUnitSpecifier","result","Weight","regExp","expectedMatchCount","parseInt","Pixel","generate","d0","Math","random","d1","d2","d3","lut","initialize","i","toString","addCancelSelectActionEventHandler","clearElementChildren","getScrollY","getScrollX","getFitStatus","truncate","truncateText","stringToCssColor","parseEnum","getEnumValueByName","parseBool","parseNumber","parseString","appendChild","generateUniqueId","isMobileOS","isInternetExplorer","window","document","documentMode","undefined","userAgent","navigator","match","Shared","node","child","obj","defaultValue","enumType","name","keyAsNumber","enumValue","color","a","r","g","b","truncateWorker","element","maxHeight","fullText","truncateAt","lineHeight","fits","scrollHeight","breakableIndices","findBreakableIndices","lo","hi","bestBreakIdx","mid","floor","idx","findNextCharacter","innerText","text","substring","ttDeprecatedPolicy","trustedTypes","createPolicy","createHTML","innerHTML","truncatedString","truncatedHTML","html","results","push","currIdx","containerEnd","start","offsetTop","end","clientHeight","FullyInContainer","Overflowing","FullyOutOfContainer","pageXOffset","pageYOffset","firstChild","removeChild","onclick","e","preventDefault","cancelBubble","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","SerializableObject","property","SerializableObjectSchema","CustomProperty","SerializableObjectCollectionProperty","SerializableObjectProperty","EnumProperty","ValueSetProperty","StringArrayProperty","PixelSizeProperty","NumProperty","BoolProperty","StringProperty","PropertyDefinition","BaseSerializationContext","isVersionLessOrEqual","Versions","Version","major","minor","label","_isValid","_major","_minor","_label","context","_versionString","logParseEvent","InvalidPropertyValue","strings_1","toJSON","compareTo","otherVersion","isValid","enumerable","configurable","getAllDeclaredVersions","ctor","properties","propertyValue","sort","v1","v2","v1_0","v1_1","v1_2","v1_3","v1_4","v1_5","v1_6","latest","targetVersion","_validationEvents","isTemplateString","startsWith","tryDeleteValue","target","shared_1","tryDeleteDefaultValue","serializeValue","forceDeleteIfNullOrDefault","serializeString","serializeBool","serializeNumber","isNaN","serializeEnum","serializeArray","items","propertyValue_1","item","serializedItem","isArray","clearEvents","logEvent","source","phase","event","message","Parse","getEventAt","SimpleSerializationContext","_super","apply","arguments","onGetInitialValue","isSerializationEnabled","sequentialNumber","_sequentialNumber","getInternalName","sender","treatEmptyAsUndefined","_this","parsedValue","Utils","isUndefined","size","sourceValue","sourceValue_1","values","isValidValue","versionedValue","invalidValue","ToJSON","_values","objectType","nullable","serializedValue","hasAllDefaultValues","onItemAdded","sourceCollection","sourceCollection_1","sourceItem","onParse","onToJSON","_properties","indexOf","prop","add","properties_1","remove","properties_2","splice","getItemAt","getCount","propertyKey","descriptor","getOwnPropertyDescriptor","getValue","setValue","_propertyBag","_rawProperties","maxVersion","defaultMaxVersion","s","getSchema","getDefaultSerializationContext","populateSchema","schema","sortedProperties","p1","p2","onRegisterCustomProperties","internalParse","UnsupportedProperty","resetDefaultValues","internalToJSON","serializedProperties","shouldSerialize","_context","effectiveContext","toJSONOriginalParam","hasDefaultValue","setCustomProperty","shouldDeleteProperty","getCustomProperty","_schemaCache","getSchemaKey","HostCapabilities","_capabilities","name_1","jsonVersion","addCapability","serialization_1","removeCapability","clear","hasCapability","areAllMet","hostCapabilities","capabilityName","defaultHostConfig","HostConfig","CarouselConfig","FontTypeSet","FontTypeDefinition","ContainerStyleSet","ContainerStyleDefinition","ColorSetDefinition","ActionsConfig","ShowCardActionConfig","FactSetConfig","FactTitleDefinition","FactTextDefinition","InputConfig","InputLabelConfig","RequiredInputLabelTextDefinition","TextBlockConfig","TextStyleSet","TextStyleDefinition","BaseTextDefinition","TableConfig","MediaConfig","ImageSetConfig","AdaptiveCardConfig","TextColorDefinition","ColorDefinition","parseHostConfigEnum","targetEnum","defaultColor","subtleColor","default","subtle","highlightColors","allowCustomStyle","imageSize","Medium","maxImageHeight","allowInlinePlayback","defaultPoster","cellSpacing","isSubtle","weight","getDefaultWeight","fontType","heading","columnHeader","getStyleByName","headingLevel","suffix","suffixColor","inputSpacing","Small","width","requiredInputs","optionalInputs","errorMessage","wrap","maxWidth","Bolder","title","spacing","actionMode","Inline","inlineTopMargin","style","maxActions","buttonSpacing","showCard","preExpandSingleShowCardAction","actionsOrientation","Horizontal","actionAlignment","Left","iconPlacement","LeftOfTitle","allowTitleToWrap","iconSize","sizeAndUnit","dark","light","accent","good","warning","attention","parseSingleColor","foregroundColors","backgroundColor","highlightBackgroundColor","highlightForegroundColor","borderColor","BuiltInContainerStyleDefinition","_allStyles","customStyleArray","customStyleArray_1","customStyle","styleName","forEach","isBuiltIn","emphasis","customStyles","fontFamily","fontSizes","small","medium","large","extraLarge","fontWeights","lighter","bolder","monospace","getStyleDefinition","Monospace","host_capabilities_1","choiceSetInputValueSeparator","supportsInteractivity","padding","separator","lineThickness","lineColor","imageSizes","containerStyles","actions","adaptiveCard","imageSet","media","factSet","table","textStyles","textBlock","carousel","alwaysAllowBleed","_legacyFontType","fontTypes","lineHeights","getFontTypeDefinition","getEffectiveSpacing","Large","ExtraLarge","Padding","paddingDefinitionToSpacingDefinition","paddingDefinition","makeCssClassNames","classNames","classNames_1","className","cssClassNamePrefix","makeCssClassName","join","minAutoplayDuration","GlobalRegistry","CardObjectRegistry","_items","findByName","copyTo","keys_1","typeRegistration","register","schemaVersion","registrationInfo","unregister","createInstance","getItemCount","map","populateWithDefaultElements","registry","defaultElements","populateWithDefaultActions","defaultActions","_elements","_actions","reset","__decorate","decorators","desc","c","Reflect","decorate","CardObject","ValidationResults","allIds","validationEvents","addFailure","cardObject","Validation","_shouldFallback","getJsonTypeName","requiresProperty","contains","_renderedElement","preProcessPropertyValue","currentObject","onPreProcessPropertyValue","parent","setParent","_parent","setShouldFallback","shouldFallback","requires","hostConfig","getRootObject","internalValidateProperties","DuplicateId","validateProperties","findDOMNodeOwner","releaseDOMResources","typeNameProperty","idProperty","formatText","AbstractTextFormatter","regularExpression","_regularExpression","format","lang","internalFormat","DateFormatter","date","Date","toLocaleDateString","day","weekday","month","year","TimeFormatter","toLocaleTimeString","hour","minute","formatters","formatters_1","formatter","Constants","tab","enter","escape","space","up","down","delete","MenuItem","_isEnabled","_value","click","isEnabled","onClick","updateCssClasses","_element","effectiveHostConfig","_hostConfig","host_config_1","classList","render","createElement","setAttribute","onmouseup","_e","onkeydown","constants_1","newValue","Collection","onItemRemoved","PopupControl","_isOpen","keyDown","closePopup","_rootElementBounds","tabIndex","renderContent","focus","_popupElement","firstElementChild","popup","rootElement","_b","_c","_d","_f","_overlayElement","documentElement","scrollWidth","height","onfocus","body","rootElementBounds","getBoundingClientRect","addEventListener","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","availableSpaceAbove","availableSpaceRight","innerWidth","availableSpaceLeft","top_1","actualPopupHeight","min","actualPopupWidth","wasCancelled","onClose","PopupMenu","collection_1","_renderedItems","_selectedIndex","renderedItem","selectedIndex","selectedItemIndex","popup_control_1","__createBinding","o","m","k","k2","__esModule","writable","__exportStar","require$$0","require$$1","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","done","then","__generator","_","sent","t","trys","ops","f","y","verb","throw","return","Symbol","iterator","n","v","op","pop","ContainerWithActions","ColumnSet","Column","Container","BackgroundImage","ContainerBase","StylableCardElementContainer","ContainerStyleProperty","ActionSet","ShowCardAction","HttpAction","HttpHeader","ToggleVisibilityAction","OpenUrlAction","ExecuteAction","SubmitAction","SubmitActionBase","Action","TimeInput","TimeProperty","DateInput","NumberInput","ChoiceSetInput","Choice","ToggleInput","TextInput","Input","Media","YouTubePlayer","DailymotionPlayer","VimeoPlayer","IFrameMediaMediaPlayer","CustomMediaPlayer","HTML5MediaPlayer","MediaPlayer","MediaSource","CaptionSource","ContentSource","ImageSet","CardElementContainer","Image","FactSet","Fact","RichTextBlock","TextRun","TextBlock","BaseTextBlock","ActionProperty","CardElement","renderSeparation","SerializationContext","AdaptiveCard","Authentication","TokenExchangeResource","AuthCardButton","RefreshDefinition","RefreshActionProperty","clearElement","trustedHtml","emptyHTML","separationDefinition","orientation","paddingTop","marginBottom","borderBottom","paddingLeft","marginRight","borderRight","overflow","flex","_truncatedDueToOverflow","langProperty","isVisibleProperty","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","raiseElementVisibilityChangedEvent","internalRenderSeparator","renderedSeparator","separatorOrientation","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","marginLeft","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","display","removeProperty","_separatorElement","isFirstElement","hideElementDueToOverflow","visibility","showElementHiddenDueToOverflow","handleOverflow","isHiddenDueToOverflow","handled","truncateOverflow","resetOverflow","sizeChanged","createPlaceholderElement","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","border","minHeight","fontSize","adjustRenderedElementSize","renderedElement","updateInputsVisualState","hover","allInputs","getAllInputs","inputEventType","InputEventType","MouseEnterOnCard","MouseLeaveOnCard","updateVisualState","isDisplayed","offsetHeight","overrideInternalRender","internalRender","applyPadding","separatorElement","isBleeding","getImmediateSurroundingPadding","physicalPadding","_maxHeight","getDefaultPadding","getHasBackground","ignoreBackgroundImages","getHasBorder","getPadding","_padding","setPadding","elementRegistry","asString","getEffectiveStyle","defaultStyle","getEffectiveTextStyleDefinition","getForbiddenActionTypes","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","getActionCount","getActionAt","indexOfAction","action","removeItem","customCssSelector","boxSizing","updateLayout","_processChildren","updateActionsEnabledState","allActions","getRootElement","getAllActions","allActions_1","updateEnabledState","_cardElement","designMode","isLastElement","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isAtTheVeryBottom","isBleedingAtTop","isBleedingAtBottom","currentElement","processActions","getResourceInformation","getElementById","getActionById","_id","getElementByIdFromAction","card","getEffectiveHorizontalAlignment","horizontalAlignment","separatorProperty","heightProperty","horizontalAlignmentProperty","spacingProperty","card_object_1","forbiddenActionTypes","parseAction","ariaHidden","selectActionProperty","textProperty","setText","getFontSize","effectiveSize","getColorDefinition","colorSet","Dark","Light","init","textDefinition","applyStylesTo","targetElement","effectiveFontType","colorDefinition","effectiveColor","targetColor","effectiveIsSubtle","fontWeight","effectiveWeight","Lighter","selectAction","sizeProperty","weightProperty","colorProperty","isSubtleProperty","fontTypeProperty","_treatAsPlainText","useMarkdown","restoreOriginalContent","maxLines","_computedLineHeight","originalHtml","_ttRoundtripPolicy","_originalInnerHtml","truncateIfSupported","children","isTextOnly","truncationSupported","tagName","_processedText","preProcessedText","forElementId","labelElement","htmlFor","isEffectivelyEnabled","execute","setupElementForAccessibility","formattedText","TextFormatters","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","processedHtml","_ttMarkdownPolicy","HTMLElement","marginTop","textOverflow","lastElementChild","anchors","getElementsByTagName","_loop_1","anchor","raiseAnchorClickedEvent","oncontextmenu","from","wordWrap","webkitBoxOrient","webkitLineClamp","whiteSpace","Center","textAlign","Right","processChildren","wrapProperty","maxLinesProperty","styleProperty","italic","strikethrough","highlight","underline","href","getHref","fontStyle","textDecoration","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","_inlines","internalAddInline","inline","forceAdd","isInline","doAdd","jsonInline","textRun","parseElement","jsonInlines","renderedInlines","renderedInline","getInlineCount","getInlineAt","addInline","removeInline","titleProperty","valueProperty","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","tdElement","verticalAlign","factsProperty","ImageDimensionProperty","internalName","fallbackProperty","Auto","applySize","pixelWidth","pixelHeight","Stretch","url","alignItems","justifyContent","imageElement","renderedImageElement","onload","raiseImageLoadedEvent","onerror","errorElement","minWidth","onkeypress","code","Person","borderRadius","backgroundPosition","backgroundRepeat","setImageSource","altTextProperty","alt","mimeType","imageForceLoader","ImageForceLoader","forceLoad","configureImage","src","urlProperty","resetImage","backgroundColorProperty","pixelWidthProperty","pixelHeightProperty","shouldForceLoadProperty","doForceLoad","uniqueHash","now","urlWithForceLoadOption","image","allowVerticalOverflow","isSelectable","isElementAllowed","isInteractive","paddingRight","paddingBottom","forbiddenChildElements","InteractivityNotAllowed","_selectAction","overflowX","overflowY","_images","presentationStyle","pixelOffset","flexWrap","renderedImage","margin","Stacked","applyStackedPresentationStyle","dimension","StackedImageConfigurator","parseNumericPixelDimension","bgColor","getEffectiveBackgroundColor","stackedImageConfigurator","configureImagesArrayAsStackedLayout","getFirstVisibleRenderedItem","getLastVisibleRenderedItem","itemIndex","addImage","cardElement","imagesProperty","imageSizeProperty","imagePresentationStyle","offset","sign45","maxImageCounts","normalizationConstant","max","moveImageRight","moveImageUp","moveImageDown","makeImageRound","applyBorder","configureImageForBottomLeft","zIndex","configureImageForTopRight","elements","mimeTypeProperty","kind","labelProperty","type","play","_posterUrl","owner","_selectedSources","_captionSources","processSources","_selectedMediaType","sources","mimeComponents","split","supportedMediaTypes","captionSources","canPlay","fetchVideoDetails","_mediaElement","altText","autoplay","controls","muted","preload","renderedSource","captionSource","renderedCaptionSource","iFrameTitle","_videoId","container","position","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","oEmbedUrl","response","json","fetch","ok","posterUrl","videoId","apiUrl","_startTimeIndex","createMediaPlayer","customMediaPlayers","provider","urlPatterns","pattern","handlePlayButtonInvoke","mediaPlayerElement","_mediaPlayer","onPlay","displayPoster","playButtonArrowWidth","playButtonArrowHeight","posterRootElement_1","posterImageElement_1","playButtonOuterElement","playButtonInnerElement","playButtonContainer","poster","parentNode","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","mediaSource","selectedMediaType","sourcesProperty","captionSourcesProperty","posterProperty","inputStyle","getAllLabelIds","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","updateInputControlAriaLabelledBy","_renderedInputControlElement","removeAttribute","_inputControlContainerElement","_outerContainerElement","labelPosition","flexDirection","renderedInputControlId","labelRichTextBlock","labelInline","isRequired","isRequiredCueInline","alignSelf","isNullable","labelWidth","defaultLabelWidth","labelWidthInPercent","labelWidthInPixel","InitialRender","onblur","ev","FocusLeave","resetDirtyState","valueChanged","resetValidationFailureCue","onValueChanged","raiseInputValueChangedEvent","renderedInputControlElement","showValidationErrorMessage","errorMessageTextBlock","eventType","RevealOnHover","isDirty","_oldValue","PropertyCantBeNull","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","validateValue","isSet","isRequiredProperty","errorMessageProperty","inputStyleProperty","labelWidthProperty","invalidLabelWidth","labelPositionProperty","Above","isMultiline","Text","setupInput","placeholder","maxLength","oninput","ctrlKey","inlineAction","Password","renderedInputControl","button_1","iconUrl","icon_1","textContent","inputControlContainerElement","regex","test","maxLengthProperty","isMultilineProperty","placeholderProperty","Tel","Url","Email","inlineActionProperty","regexProperty","valueOn","valueOff","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","checked","_oldCheckboxValue","onchange","spacerElement","valueOnProperty","valueOffProperty","isMultiSelect","choices","getUniqueCategoryName","uniqueCategoryName","_uniqueCategoryCounter","createPlaceholderOptionWhenValueDoesNotExist","placeholderOption","selected","disabled","hidden","internalApplyAriaCurrent","_selectElement","options","option","renderCompoundInput","cssClassName","defaultValues","_toggleInputs","_labels","choice","_uniqueCategoryName","compoundInput","inputContainer","_textInput","dataList","append","isCompact","hideDropDownPicker","shouldHideInputAdornersForRevealOnHover","appearance","CollectionCantBeEmpty","toggleInput","choicesProperty","isMultiSelectProperty","_numberInputElement","valueAsNumber","minProperty","maxProperty","_dateInputElement","hideDatePicker","updateInputAdornersVisibility","valueAsDate","minDate","maxDate","convertTimeStringToDate","timeString","_timeInputElement","hideTimePicker","_state","_isFocusable","renderButtonContent","titleElement","AboveTitle","iconElement","parentContainerStyle","isFocusable","internalGetReferencedInputs","internalPrepareForExecution","_inputs","internalValidateInputs","actionRegistry","raiseExecuteActionEvent","onExecute","internalAfterExecute","rootObject","getAriaRole","promoteTooltipToLabel","HTMLButtonElement","tooltip","buttonElement","_actionCollection","actionExecuted","prepareForExecution","invalidInputs","removeAction","validateInputs","iconUrlProperty","modeProperty","tooltipProperty","isEnabledProperty","disabledUnlessAssociatedInputsChange","_isPrepared","_areReferencedInputsDirty","associatedInputs","current","_originalData","_processedData","resetReferencedInputsDirtyState","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","JsonTypeName","verbProperty","targetElements","updateAriaControlsAttribute","elementIds","elementId","addTargetElement","removeTargetElement","targetElementsProperty","StringWithSubstitutionProperty","nameProperty","_ignoreInputValidation","_url","headers","header","_body","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","state","jsonCard","Popup","OverflowAction","getActions","shouldDisplayPopupMenu","raiseDisplayOverflowActionMenuEvent","contextMenu_1","controls_1","_loop_2","menuItem","this_1","actionToExecute","ActionCollection","_renderedActions","_owner","isActionAllowed","forbiddenTypes","forbiddenTypes_1","forbiddenType","refreshContainer","_actionCardContainer","_actionCard","renderedActionCount","layoutChanged","showActionCard","suppressStyle","raiseEvent","renderedCard","_expandedAction","raiseInlineCardExpandedEvent","collapseExpandedAction","previouslyExpandedAction","expandShowCardAction","afterSelectedAction","renderedAction","ra","source_1","jsonAction","forbiddenActions","getForbiddenActionNames","addAction","TooManyActions","ActionTypeNotAllowed","buttonStrip","allowedActions","filter","bind","primaryActions_1","secondaryActions_1","overflowPrimaryActions","shouldRenderOverflowActionButton","_overflowAction","isRootAction","raiseRenderOverflowActionsEvent","spacer","buttonStripContainer","expandedAction","actionIndex","orientationProperty","applyBackground","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","explicitStyle","_bleed","minPixelHeight","getHasExpandedAction","getBleed","setBleed","bleedProperty","minHeightProperty","fillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","backgroundImageProperty","insertItemAt","forceInsert","isStandalone","getItemsCollectionPropertyName","applyRTL","rtl","dir","getEffectiveVerticalContentAlignment","placeholderElement","boundary_1","handleElement_1","elt","containerMaxHeight","jsonItems","jsonItems_1","collectionPropertyName","verticalContentAlignment","isRtl","firstRenderedItem","lastRenderedItem","addItem","insertItemBefore","insertBefore","insertItemAfter","insertAfter","verticalContentAlignmentProperty","rtlProperty","_computedWeight","minDesignTimeColumnHeight","Vertical","widthProperty","_columns","createColumnInstance","parseCardObject","_errorType","ElementTypeNotAllowed","_renderedColumns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","jsonColumns_1","getColumnAt","weightedColumns","stretchedColumns","Hint","addColumn","onImageLoadedHandler","onImageLoaded","onAnchorClickedHandler","onAnchorClicked","onExecuteActionHandler","onExecuteAction","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","onInputValueChangedHandler","onInputValueChanged","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","hide","readOnly","required","isInputInFocus","activeElement","isMouseOverCard","hideInputAdorners","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","parseActions","renderedActions","renderIfEmpty","actionProperty","userIdsProperty","typeProperty","imageProperty","uriProperty","providerIdProperty","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","refreshProperty","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","console","warn","isVersionSupported","bypassVersionCheck","unsupportedVersion","_fallbackCard","fallbackElement","versionProperty","MissingCardType","UnsupportedCardVersion","speak","onmouseenter","onmouseleave","schemaUrl","$schemaProperty","fallbackTextProperty","speakProperty","authenticationProperty","_forbiddenTypes","Set","internalParseCardObject","allowFallback","createInstanceCallback","oldForbiddenTypes_1","has","ForbiddenType","tryToFallback","UnknownType","fallback","cardObjectParsed","onParseAction","onParseElement","forbiddenTypeNames","errorType","UnknownElementType","UnknownActionType","_elementRegistry","registry_1","setElementRegistry","_actionRegistry","setActionRegistry","isObject","extend","ssrDocument","removeEventListener","blur","nodeName","querySelector","querySelectorAll","createEvent","initEvent","childNodes","createElementNS","importNode","location","hash","host","hostname","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","getWindow","win","makeReactive","proto","Dom7","super","arrayFlat","arr","res","el","arrayFilter","arrayUnique","uniqueArray","qsa","selector","$","trim","toCreate","tempParent","nodeType","fn","addClass","classes","removeClass","toggleClass","toggle","hasClass","attr","attrs","attrName","removeAttr","transition","duration","transitionDuration","on","args","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","handleEvent","events","j","dom7Listeners","proxyListener","dom7LiveListeners","off","handlers","handler","dom7proxy","trigger","evt","detail","bubbles","cancelable","data","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","styles","offsetWidth","parseFloat","outerHeight","box","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","css","props","each","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","closest","find","foundElements","found","Methods","methodName","deleteProps","object","nextTick","delay","currentStyle","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","translate","startTime","time","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","support","calcSupport","smoothScroll","touch","DocumentTouch","passiveListener","checkPassiveListener","supportsPassive","opts","gestures","checkGestures","getSupport","deviceCached","calcDevice","platform","ua","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","os","getDevice","overrides","browser","calcBrowser","isSafari","isWebView","getBrowser","Resize","emit","observer","animationFrame","resizeHandler","destroyed","initialized","createObserver","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","observe","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","ObserverFunc","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","destroy","disconnect","eventsEmitter","priority","self","eventsListeners","method","once","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","eventHandler","eventsArray","updateSize","clientWidth","isHorizontal","isVertical","Number","assign","updateSlides","getDirectionLabel","getDirectionPropertyValue","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","initSlides","slideSize","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","update","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","x","z","previousTranslate","newProgress","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","behavior","onTranslateToWrapperTransitionEnd","transitionEmit","direction","transitionStart","slideTo","initial","indexAsNumber","isValidNumber","isFinite","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","nextSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","loopedSlidesLimit","prependSlides","appendSlides","cloneNode","snapTranslate","diff","slideChanged","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","cursor","unsetGrabCursor","grabCursor","closestElement","base","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","isTouchEvent","which","button","isTouched","isMoved","swipingClassHasValue","noSwipingClass","eventPath","composedPath","path","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","isNavButtonTarget","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","move","passiveListeners","passive","updateOnWindowResize","attachEvents","detachEvents","events$1","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointOnlyParams","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","fill","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","containerEl","currentHeight","points","point","minRatio","substr","prepareClasses","prefix","resultClasses","addClasses","suffixes","autoheight","centered","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","isPicture","complete","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","images","wasLocked","lastSlideIndex","lastSlideRightEdge","checkOverflow$1","initialSlide","createElements","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","swiperParams","passedParams","eventName","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","slideInView","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","deleteInstance","cleanStyles","static","newDefaults","module","installModule","prototypeGroup","protoMethod","use","Virtual","cache","renderSlide","renderExternal","renderExternalUpdate","addSlidesBefore","addSlidesAfter","cssModeTimeout","$slideEl","force","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","getSlides","slidesToRender","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","keyboard","onlyInViewport","pageUpDown","handle","kc","keyCode","charCode","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","timeout","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","releaseScroll","rtlFactor","positions","sign","shift","prevEvent","ignoreWheelEvents","sticky","firstEvent","snapToThreshold","autoplayDisableOnInteraction","stop","createElementIfNotDefined","checkProps","Navigation","hideOnClick","disabledClass","hiddenClass","lockClass","navigationDisabledClass","$nextEl","$prevEl","getEl","toggleEl","onPrevClick","onNextClick","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","bulletSize","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragTimeout","dragStartPos","dragSize","trackSize","divider","scrollbar","draggable","snapOnRelease","dragClass","scrollbarDisabledClass","dragEl","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","Parallax","parallax","setTransform","currentOpacity","currentScale","parallaxEl","$parallaxEl","parallaxDuration","_swiper","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","isScaling","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","distance","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchAction","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","controller","control","inverse","by","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","spline","_t","controlled","controlledTranslate","setControlledTranslate","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","clicked","liveRegion","notify","notification","getRandomNumber","randomChar","round","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","handlePointerDown","handlePointerUp","handleFocus","includes","isActive","sourceCapabilities","firesTouchEvents","ariaLabelMessage","$containerEl","History","root","keepQuery","paths","slugify","getPathValues","urlOverride","URL","pathArray","part","setHistory","currentState","scrollToSlide","slideHistory","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","activeSlideHash","setHash","slideHash","Autoplay","waitForTransition","disableOnInteraction","stopOnLastSlide","reverseDirection","pauseOnMouseEnter","$activeSlideEl","autoplayResult","pause","onVisibilityChange","visibilityState","onMouseEnter","onMouseLeave","attachMouseEvents","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","currentIndex","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","currentThumbsIndex","newThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","velocityEvent","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","row","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","overwriteParamsResult","slideShadows","requireUpdateOnVirtual","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","eventTriggered","$transitionEndTarget","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","$transitionElements","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","wrapperRotate","$cubeShadowEl","slideAngle","tz","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotate","rotateY","rotateX","EffectCoverflow","coverflowEffect","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","perSlideRotate","perSlideOffset","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","__spreadArray","pack","l","ar","CarouselEvent","Carousel","CarouselPage","enums_1","card_elements_1","carouselSlide","getForbiddenChildElements","carouselLoop","carouselOrientation","_pages","_currentIndex","_previousEventType","timer","timerProperty","initialPageProperty","isValidParsedPageIndex","isValidPageIndex","isValidRenderedPageIndex","_renderedPages","collectionSize","_containerForAdorners","carouselHeight","_carouselPageContainer","addPage","page","_carousel","jsonPages","jsonPages_1","createCarouselPageInstance","validateParsing","validateOrientationProperties","cardLevelContainer","carouselContainer","containerForAdorners","navigationContainer","carouselWrapper","prevElementDiv","nextElementDiv","updateCssForHorizontalCarousel","updateCssForVerticalCarousel","requestedNumberOfPages","initializeCarouselControl","nextElement","prevElement","paginationElement","nextElementAdjustedForRtl","prevElementAdjustedForRtl","prevElementAdjustedForOrientation","nextElementAdjustedForOrientation","swiperOptions","swiper_1","_event","raiseCarouselEvent","NavigationNext","NavigationPrevious","paginationEl","destroyResizeObserver","ariaLabel","createResizeObserver","createCarouselEvent","currentPageId","currentPageIndex","onCarouselEventHandler","onCarouselEvent","previousEventType","checkIfCarouselInValidStateForResizeEvent","_observer","loopProperty","carouselHeightProperty","carouselId","activeCarouselPageId","activeCarouselPageIndex","Table","TableRow","TableCell","StylableContainer","TableColumnDefinition","horizontalCellContentAlignmentProperty","verticalCellContentAlignmentProperty","parseItem","createItemInstance","internalAddItem","internalRemoveItem","internalIndexOf","getCollectionPropertyName","items_1","instance","_columnIndex","_cellType","parentRow","parentTable","showGridLines","gridStyle","utils_1","cellElement","cellType","horizontalCellContentAlignment","columnIndex","verticalCellContentAlignment","isFirstRow","getIsFirstRow","rowElement","getColumnCount","cell","firstRowAsHeaders","renderedCell","computedWidth","addCell","removeCellAt","ensureHasEnoughCells","cellCount","gridStyleProperty","ensureRowsHaveEnoughCells","removeCellsFromColumn","totalWeights","tableElement","borderTop","borderLeft","renderedRow","separatorRow","removeColumn","addRow","_columnsProperty","firstRowAsHeadersProperty","showGridLinesProperty","ChannelAdapter","LoginRequestResponse","ErrorResponse","SuccessResponse","ActivityResponse","ActivityRequestError","ActivityRequestTrigger","request","rawContent","error","auth","_auth","buttons","signinButton","tokenExchangeResource","AdaptiveApplet","level","optionalParams","onLogEvent","log","ActivityRequest","consecutiveRefreshes","attemptNumber","retryAsync","onSend","_allowAutomaticCardUpdate","_cardHostElement","_refreshButtonHostElement","displayCard","showManualRefreshButton","refreshAction","displayBuiltInManualRefreshButton","onShowManualRefreshButton","renderedRefreshButton","onRenderManualRefreshButton","Automatic","cardPayload","inlines","internalExecuteAction","activity_request_1","createActivityRequest","request_1","internalSendActivityRequestAsync","onPrepareActivityRequest","createMagicCodeInputCard","payload","_submitMagicCodeActionId","_cancelMagicCodeAuthActionId","cancelAutomaticRefresh","createSerializationContext","onCreateSerializationContext","internalSetCard","_cardPayload","serializationContext","doChangeCard","onCardChanging","_card","authentication","onPrefetchSSOToken","_input","onCardChanged","Info","action_1","Disabled","channelAdapter","onAction","createProgressOverlay","_progressOverlay","onCreateProgressOverlay","spinner","removeProgressOverlay","onRemoveProgressOverlay","activityRequestSucceeded","parsedContent","onActivityRequestSucceeded","activityRequestFailed","onActivityRequestFailed","showAuthCodeInputDialog","showBuiltInAuthCodeInputCard","onShowAuthCodeInputDialog","authCodeInputCard","submitMagicCodeAction","authCode","alert","overlay","state_1","error_1","retryIn_1","attemptOAuth","sendRequestAsync","_reject","onSSOTokenNeeded","onShowSigninPrompt","screenX","screenY","open","refreshCard","setCard","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","hubLayoutCardCss","CardComponent","componentDidLoad","AdaptiveCards.AdaptiveCard","config","content","h","slot","lat","lon","class","hubLayoutSectionCss","HubLayoutSection","cards"],"sources":["./node_modules/adaptivecards/lib/strings.js","./node_modules/adaptivecards/lib/enums.js","./node_modules/adaptivecards/lib/shared.js","./node_modules/adaptivecards/lib/utils.js","./node_modules/adaptivecards/lib/serialization.js","./node_modules/adaptivecards/lib/host-capabilities.js","./node_modules/adaptivecards/lib/host-config.js","./node_modules/adaptivecards/lib/registry.js","./node_modules/adaptivecards/lib/card-object.js","./node_modules/adaptivecards/lib/text-formatters.js","./node_modules/adaptivecards/lib/controls/constants.js","./node_modules/adaptivecards/lib/controls/menu-item.js","./node_modules/adaptivecards/lib/controls/collection.js","./node_modules/adaptivecards/lib/controls/popup-control.js","./node_modules/adaptivecards/lib/controls/popup-menu.js","./node_modules/adaptivecards/lib/controls/index.js","./node_modules/adaptivecards/lib/card-elements.js","./node_modules/ssr-window/ssr-window.esm.js","./node_modules/dom7/dom7.esm.js","./node_modules/swiper/shared/dom.js","./node_modules/swiper/shared/utils.js","./node_modules/swiper/shared/get-support.js","./node_modules/swiper/shared/get-device.js","./node_modules/swiper/shared/get-browser.js","./node_modules/swiper/core/modules/resize/resize.js","./node_modules/swiper/core/modules/observer/observer.js","./node_modules/swiper/core/events-emitter.js","./node_modules/swiper/core/update/updateSize.js","./node_modules/swiper/core/update/updateSlides.js","./node_modules/swiper/core/update/updateAutoHeight.js","./node_modules/swiper/core/update/updateSlidesOffset.js","./node_modules/swiper/core/update/updateSlidesProgress.js","./node_modules/swiper/core/update/updateProgress.js","./node_modules/swiper/core/update/updateSlidesClasses.js","./node_modules/swiper/core/update/updateActiveIndex.js","./node_modules/swiper/core/update/updateClickedSlide.js","./node_modules/swiper/core/update/index.js","./node_modules/swiper/core/translate/getTranslate.js","./node_modules/swiper/core/translate/setTranslate.js","./node_modules/swiper/core/translate/minTranslate.js","./node_modules/swiper/core/translate/maxTranslate.js","./node_modules/swiper/core/translate/translateTo.js","./node_modules/swiper/core/translate/index.js","./node_modules/swiper/core/transition/setTransition.js","./node_modules/swiper/core/transition/transitionEmit.js","./node_modules/swiper/core/transition/transitionStart.js","./node_modules/swiper/core/transition/transitionEnd.js","./node_modules/swiper/core/transition/index.js","./node_modules/swiper/core/slide/slideTo.js","./node_modules/swiper/core/slide/slideToLoop.js","./node_modules/swiper/core/slide/slideNext.js","./node_modules/swiper/core/slide/slidePrev.js","./node_modules/swiper/core/slide/slideReset.js","./node_modules/swiper/core/slide/slideToClosest.js","./node_modules/swiper/core/slide/slideToClickedSlide.js","./node_modules/swiper/core/slide/index.js","./node_modules/swiper/core/loop/loopCreate.js","./node_modules/swiper/core/loop/loopFix.js","./node_modules/swiper/core/loop/loopDestroy.js","./node_modules/swiper/core/loop/index.js","./node_modules/swiper/core/grab-cursor/setGrabCursor.js","./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","./node_modules/swiper/core/grab-cursor/index.js","./node_modules/swiper/core/events/onTouchStart.js","./node_modules/swiper/core/events/onTouchMove.js","./node_modules/swiper/core/events/onTouchEnd.js","./node_modules/swiper/core/events/onResize.js","./node_modules/swiper/core/events/onClick.js","./node_modules/swiper/core/events/onScroll.js","./node_modules/swiper/core/events/index.js","./node_modules/swiper/core/breakpoints/setBreakpoint.js","./node_modules/swiper/core/breakpoints/getBreakpoint.js","./node_modules/swiper/core/breakpoints/index.js","./node_modules/swiper/core/classes/addClasses.js","./node_modules/swiper/core/classes/removeClasses.js","./node_modules/swiper/core/classes/index.js","./node_modules/swiper/core/images/loadImage.js","./node_modules/swiper/core/images/preloadImages.js","./node_modules/swiper/core/images/index.js","./node_modules/swiper/core/check-overflow/index.js","./node_modules/swiper/core/defaults.js","./node_modules/swiper/core/moduleExtendParams.js","./node_modules/swiper/core/core.js","./node_modules/swiper/modules/virtual/virtual.js","./node_modules/swiper/modules/keyboard/keyboard.js","./node_modules/swiper/modules/mousewheel/mousewheel.js","./node_modules/swiper/shared/create-element-if-not-defined.js","./node_modules/swiper/modules/navigation/navigation.js","./node_modules/swiper/shared/classes-to-selector.js","./node_modules/swiper/modules/pagination/pagination.js","./node_modules/swiper/modules/scrollbar/scrollbar.js","./node_modules/swiper/modules/parallax/parallax.js","./node_modules/swiper/modules/zoom/zoom.js","./node_modules/swiper/modules/lazy/lazy.js","./node_modules/swiper/modules/controller/controller.js","./node_modules/swiper/modules/a11y/a11y.js","./node_modules/swiper/modules/history/history.js","./node_modules/swiper/modules/hash-navigation/hash-navigation.js","./node_modules/swiper/modules/autoplay/autoplay.js","./node_modules/swiper/modules/thumbs/thumbs.js","./node_modules/swiper/modules/free-mode/free-mode.js","./node_modules/swiper/modules/grid/grid.js","./node_modules/swiper/modules/manipulation/methods/appendSlide.js","./node_modules/swiper/modules/manipulation/methods/prependSlide.js","./node_modules/swiper/modules/manipulation/methods/addSlide.js","./node_modules/swiper/modules/manipulation/methods/removeSlide.js","./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","./node_modules/swiper/modules/manipulation/manipulation.js","./node_modules/swiper/shared/effect-init.js","./node_modules/swiper/shared/effect-target.js","./node_modules/swiper/shared/effect-virtual-transition-end.js","./node_modules/swiper/modules/effect-fade/effect-fade.js","./node_modules/swiper/modules/effect-cube/effect-cube.js","./node_modules/swiper/shared/create-shadow.js","./node_modules/swiper/modules/effect-flip/effect-flip.js","./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","./node_modules/swiper/modules/effect-creative/effect-creative.js","./node_modules/swiper/modules/effect-cards/effect-cards.js","./node_modules/adaptivecards/lib/carousel.js","./node_modules/adaptivecards/lib/table.js","./node_modules/adaptivecards/lib/channel-adapter.js","./node_modules/adaptivecards/lib/activity-request.js","./node_modules/adaptivecards/lib/adaptive-applet.js","./node_modules/adaptivecards/lib/adaptivecards.js","./src/components/hub-layout-card/hub-layout-card.css?tag=hub-layout-card&encapsulation=shadow","./src/components/hub-layout-card/hub-layout-card.tsx","./src/components/hub-layout-section/hub-layout-section.css?tag=hub-layout-section&encapsulation=shadow","./src/components/hub-layout-section/hub-layout-section.tsx"],"sourcesContent":["\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Strings = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Strings = /** @class */ (function () {\n    function Strings() {\n    }\n    Strings.errors = {\n        unknownElementType: function (typeName) {\n            return \"Unknown element type \\\"\".concat(typeName, \"\\\". Fallback will be used if present.\");\n        },\n        unknownActionType: function (typeName) {\n            return \"Unknown action type \\\"\".concat(typeName, \"\\\". Fallback will be used if present.\");\n        },\n        elementTypeNotAllowed: function (typeName) {\n            return \"Element type \\\"\".concat(typeName, \"\\\" is not allowed in this context.\");\n        },\n        actionTypeNotAllowed: function (typeName) {\n            return \"Action type \\\"\".concat(typeName, \"\\\" is not allowed in this context.\");\n        },\n        invalidPropertyValue: function (value, propertyName) {\n            return \"Invalid value \\\"\".concat(value, \"\\\" for property \\\"\").concat(propertyName, \"\\\".\");\n        },\n        showCardMustHaveCard: function () {\n            return \"\\\"An Action.ShowCard must have its \\\"card\\\" property set to a valid AdaptiveCard object.\";\n        },\n        invalidColumnWidth: function (invalidWidth) {\n            return \"Invalid column width \\\"\".concat(invalidWidth, \"\\\" - defaulting to \\\"auto\\\".\");\n        },\n        invalidCardVersion: function (defaultingToVersion) {\n            return \"Invalid card version. Defaulting to \\\"\".concat(defaultingToVersion, \"\\\".\");\n        },\n        invalidVersionString: function (versionString) {\n            return \"Invalid version string \\\"\".concat(versionString, \"\\\".\");\n        },\n        propertyValueNotSupported: function (value, propertyName, supportedInVersion, versionUsed) {\n            return \"Value \\\"\".concat(value, \"\\\" for property \\\"\").concat(propertyName, \"\\\" is supported in version \").concat(supportedInVersion, \", but you are using version \").concat(versionUsed, \".\");\n        },\n        propertyNotSupported: function (propertyName, supportedInVersion, versionUsed) {\n            return \"Property \\\"\".concat(propertyName, \"\\\" is supported in version \").concat(supportedInVersion, \", but you are using version \").concat(versionUsed, \".\");\n        },\n        indexOutOfRange: function (index) { return \"Index out of range (\".concat(index, \").\"); },\n        elementCannotBeUsedAsInline: function () {\n            return \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\";\n        },\n        inlineAlreadyParented: function () {\n            return \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\";\n        },\n        interactivityNotAllowed: function () { return \"Interactivity is not allowed.\"; },\n        inputsMustHaveUniqueId: function () { return \"All inputs must have a unique Id.\"; },\n        choiceSetMustHaveAtLeastOneChoice: function () {\n            return \"An Input.ChoiceSet must have at least one choice defined.\";\n        },\n        choiceSetChoicesMustHaveTitleAndValue: function () {\n            return \"All choices in an Input.ChoiceSet must have their title and value properties set.\";\n        },\n        propertyMustBeSet: function (propertyName) { return \"Property \\\"\".concat(propertyName, \"\\\" must be set.\"); },\n        actionHttpHeadersMustHaveNameAndValue: function () {\n            return \"All headers of an Action.Http must have their name and value properties set.\";\n        },\n        tooManyActions: function (maximumActions) {\n            return \"Maximum number of actions exceeded (\".concat(maximumActions, \").\");\n        },\n        tooLittleTimeDelay: function (minAutoplayDelay) {\n            return \"Autoplay Delay is too short (\".concat(minAutoplayDelay, \").\");\n        },\n        tooManyCarouselPages: function (maxCarouselPages) {\n            return \"Maximum number of Carousel pages exceeded (\".concat(maxCarouselPages, \").\");\n        },\n        invalidInitialPageIndex: function (initialPageIndex) {\n            return \"InitialPage for carousel is invalid (\".concat(initialPageIndex, \").\");\n        },\n        columnAlreadyBelongsToAnotherSet: function () { return \"This column already belongs to another ColumnSet.\"; },\n        invalidCardType: function () {\n            return \"Invalid or missing card type. Make sure the card's type property is set to \\\"AdaptiveCard\\\".\";\n        },\n        unsupportedCardVersion: function (version, maxSupportedVersion) {\n            return \"The specified card version (\".concat(version, \") is not supported or still in preview. The latest released card version is \").concat(maxSupportedVersion, \".\");\n        },\n        duplicateId: function (id) { return \"Duplicate Id \\\"\".concat(id, \"\\\".\"); },\n        markdownProcessingNotEnabled: function () {\n            return \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\";\n        },\n        processMarkdownEventRemoved: function () {\n            return \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\";\n        },\n        elementAlreadyParented: function () { return \"The element already belongs to another container.\"; },\n        actionAlreadyParented: function () { return \"The action already belongs to another element.\"; },\n        elementTypeNotStandalone: function (typeName) {\n            return \"Elements of type \".concat(typeName, \" cannot be used as standalone elements.\");\n        },\n        invalidInputLabelWidth: function () {\n            return \"Invalid input label width. Defaulting to label width from host config.\";\n        },\n    };\n    Strings.magicCodeInputCard = {\n        tryAgain: function () { return \"That didn't work... let's try again.\"; },\n        pleaseLogin: function () {\n            return 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"';\n        },\n        enterMagicCode: function () { return \"Enter magic code\"; },\n        pleaseEnterMagicCodeYouReceived: function () { return \"Please enter the magic code you received.\"; },\n        submit: function () { return \"Submit\"; },\n        cancel: function () { return \"Cancel\"; },\n        somethingWentWrong: function () { return \"Something went wrong. This action can't be handled.\"; },\n        authenticationFailed: function () { return \"Authentication failed.\"; }\n    };\n    Strings.runtime = {\n        automaticRefreshPaused: function () { return \"Automatic refresh paused.\"; },\n        clckToRestartAutomaticRefresh: function () { return \"Click to restart.\"; },\n        refreshThisCard: function () { return \"Refresh this card\"; }\n    };\n    Strings.hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: function () {\n            return \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\";\n        }\n    };\n    Strings.defaults = {\n        inlineActionTitle: function () { return \"Inline Action\"; },\n        overflowButtonText: function () { return \"...\"; },\n        overflowButtonTooltip: function () { return \"More options\"; },\n        mediaPlayerAriaLabel: function () { return \"Media content\"; },\n        mediaPlayerPlayMedia: function () { return \"Play media\"; },\n        youTubeVideoPlayer: function () { return \"YouTube video player\"; },\n        vimeoVideoPlayer: function () { return \"Vimeo video player\"; },\n        dailymotionVideoPlayer: function () { return \"Dailymotion video player\"; },\n        carouselNavigationPreviousTooltip: function () { return \"Previous carousel page\"; },\n        carouselNavigationNextTooltip: function () { return \"Next carousel page\"; }\n    };\n    return Strings;\n}());\nexports.Strings = Strings;\n//# sourceMappingURL=strings.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CarouselInteractionEvent = exports.LogLevel = exports.RefreshMode = exports.TypeErrorType = exports.ContainerFitStatus = exports.ValidationEvent = exports.ValidationPhase = exports.InputLabelPosition = exports.InputTextStyle = exports.ActionIconPlacement = exports.FillMode = exports.Orientation = exports.ShowCardActionMode = exports.ImageStyle = exports.ActionAlignment = exports.VerticalAlignment = exports.HorizontalAlignment = exports.TextColor = exports.Spacing = exports.FontType = exports.TextWeight = exports.InputStyle = exports.TextSize = exports.SizeUnit = exports.ImageSetPresentationStyle = exports.ImageSize = exports.Size = exports.ActionMode = exports.ActionStyle = exports.ContainerStyle = void 0;\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nvar ContainerStyle = /** @class */ (function () {\n    function ContainerStyle() {\n    }\n    ContainerStyle.Default = \"default\";\n    ContainerStyle.Emphasis = \"emphasis\";\n    ContainerStyle.Accent = \"accent\";\n    ContainerStyle.Good = \"good\";\n    ContainerStyle.Attention = \"attention\";\n    ContainerStyle.Warning = \"warning\";\n    return ContainerStyle;\n}());\nexports.ContainerStyle = ContainerStyle;\nvar ActionStyle = /** @class */ (function () {\n    function ActionStyle() {\n    }\n    ActionStyle.Default = \"default\";\n    ActionStyle.Positive = \"positive\";\n    ActionStyle.Destructive = \"destructive\";\n    return ActionStyle;\n}());\nexports.ActionStyle = ActionStyle;\nvar ActionMode = /** @class */ (function () {\n    function ActionMode() {\n    }\n    ActionMode.Primary = \"primary\";\n    ActionMode.Secondary = \"secondary\";\n    return ActionMode;\n}());\nexports.ActionMode = ActionMode;\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nvar Size;\n(function (Size) {\n    Size[Size[\"Auto\"] = 0] = \"Auto\";\n    Size[Size[\"Stretch\"] = 1] = \"Stretch\";\n    Size[Size[\"Small\"] = 2] = \"Small\";\n    Size[Size[\"Medium\"] = 3] = \"Medium\";\n    Size[Size[\"Large\"] = 4] = \"Large\";\n})(Size = exports.Size || (exports.Size = {}));\nvar ImageSize;\n(function (ImageSize) {\n    ImageSize[ImageSize[\"Small\"] = 0] = \"Small\";\n    ImageSize[ImageSize[\"Medium\"] = 1] = \"Medium\";\n    ImageSize[ImageSize[\"Large\"] = 2] = \"Large\";\n})(ImageSize = exports.ImageSize || (exports.ImageSize = {}));\nvar ImageSetPresentationStyle;\n(function (ImageSetPresentationStyle) {\n    ImageSetPresentationStyle[ImageSetPresentationStyle[\"Default\"] = 0] = \"Default\";\n    ImageSetPresentationStyle[ImageSetPresentationStyle[\"Stacked\"] = 1] = \"Stacked\";\n})(ImageSetPresentationStyle = exports.ImageSetPresentationStyle || (exports.ImageSetPresentationStyle = {}));\nvar SizeUnit;\n(function (SizeUnit) {\n    SizeUnit[SizeUnit[\"Weight\"] = 0] = \"Weight\";\n    SizeUnit[SizeUnit[\"Pixel\"] = 1] = \"Pixel\";\n})(SizeUnit = exports.SizeUnit || (exports.SizeUnit = {}));\nvar TextSize;\n(function (TextSize) {\n    TextSize[TextSize[\"Small\"] = 0] = \"Small\";\n    TextSize[TextSize[\"Default\"] = 1] = \"Default\";\n    TextSize[TextSize[\"Medium\"] = 2] = \"Medium\";\n    TextSize[TextSize[\"Large\"] = 3] = \"Large\";\n    TextSize[TextSize[\"ExtraLarge\"] = 4] = \"ExtraLarge\";\n})(TextSize = exports.TextSize || (exports.TextSize = {}));\nvar InputStyle;\n(function (InputStyle) {\n    InputStyle[InputStyle[\"RevealOnHover\"] = 0] = \"RevealOnHover\";\n    InputStyle[InputStyle[\"Default\"] = 1] = \"Default\";\n})(InputStyle = exports.InputStyle || (exports.InputStyle = {}));\nvar TextWeight;\n(function (TextWeight) {\n    TextWeight[TextWeight[\"Lighter\"] = 0] = \"Lighter\";\n    TextWeight[TextWeight[\"Default\"] = 1] = \"Default\";\n    TextWeight[TextWeight[\"Bolder\"] = 2] = \"Bolder\";\n})(TextWeight = exports.TextWeight || (exports.TextWeight = {}));\nvar FontType;\n(function (FontType) {\n    FontType[FontType[\"Default\"] = 0] = \"Default\";\n    FontType[FontType[\"Monospace\"] = 1] = \"Monospace\";\n})(FontType = exports.FontType || (exports.FontType = {}));\nvar Spacing;\n(function (Spacing) {\n    Spacing[Spacing[\"None\"] = 0] = \"None\";\n    Spacing[Spacing[\"Small\"] = 1] = \"Small\";\n    Spacing[Spacing[\"Default\"] = 2] = \"Default\";\n    Spacing[Spacing[\"Medium\"] = 3] = \"Medium\";\n    Spacing[Spacing[\"Large\"] = 4] = \"Large\";\n    Spacing[Spacing[\"ExtraLarge\"] = 5] = \"ExtraLarge\";\n    Spacing[Spacing[\"Padding\"] = 6] = \"Padding\";\n})(Spacing = exports.Spacing || (exports.Spacing = {}));\nvar TextColor;\n(function (TextColor) {\n    TextColor[TextColor[\"Default\"] = 0] = \"Default\";\n    TextColor[TextColor[\"Dark\"] = 1] = \"Dark\";\n    TextColor[TextColor[\"Light\"] = 2] = \"Light\";\n    TextColor[TextColor[\"Accent\"] = 3] = \"Accent\";\n    TextColor[TextColor[\"Good\"] = 4] = \"Good\";\n    TextColor[TextColor[\"Warning\"] = 5] = \"Warning\";\n    TextColor[TextColor[\"Attention\"] = 6] = \"Attention\";\n})(TextColor = exports.TextColor || (exports.TextColor = {}));\nvar HorizontalAlignment;\n(function (HorizontalAlignment) {\n    HorizontalAlignment[HorizontalAlignment[\"Left\"] = 0] = \"Left\";\n    HorizontalAlignment[HorizontalAlignment[\"Center\"] = 1] = \"Center\";\n    HorizontalAlignment[HorizontalAlignment[\"Right\"] = 2] = \"Right\";\n})(HorizontalAlignment = exports.HorizontalAlignment || (exports.HorizontalAlignment = {}));\nvar VerticalAlignment;\n(function (VerticalAlignment) {\n    VerticalAlignment[VerticalAlignment[\"Top\"] = 0] = \"Top\";\n    VerticalAlignment[VerticalAlignment[\"Center\"] = 1] = \"Center\";\n    VerticalAlignment[VerticalAlignment[\"Bottom\"] = 2] = \"Bottom\";\n})(VerticalAlignment = exports.VerticalAlignment || (exports.VerticalAlignment = {}));\nvar ActionAlignment;\n(function (ActionAlignment) {\n    ActionAlignment[ActionAlignment[\"Left\"] = 0] = \"Left\";\n    ActionAlignment[ActionAlignment[\"Center\"] = 1] = \"Center\";\n    ActionAlignment[ActionAlignment[\"Right\"] = 2] = \"Right\";\n    ActionAlignment[ActionAlignment[\"Stretch\"] = 3] = \"Stretch\";\n})(ActionAlignment = exports.ActionAlignment || (exports.ActionAlignment = {}));\nvar ImageStyle;\n(function (ImageStyle) {\n    ImageStyle[ImageStyle[\"Default\"] = 0] = \"Default\";\n    ImageStyle[ImageStyle[\"Person\"] = 1] = \"Person\";\n})(ImageStyle = exports.ImageStyle || (exports.ImageStyle = {}));\nvar ShowCardActionMode;\n(function (ShowCardActionMode) {\n    ShowCardActionMode[ShowCardActionMode[\"Inline\"] = 0] = \"Inline\";\n    ShowCardActionMode[ShowCardActionMode[\"Popup\"] = 1] = \"Popup\";\n})(ShowCardActionMode = exports.ShowCardActionMode || (exports.ShowCardActionMode = {}));\nvar Orientation;\n(function (Orientation) {\n    Orientation[Orientation[\"Horizontal\"] = 0] = \"Horizontal\";\n    Orientation[Orientation[\"Vertical\"] = 1] = \"Vertical\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));\nvar FillMode;\n(function (FillMode) {\n    FillMode[FillMode[\"Cover\"] = 0] = \"Cover\";\n    FillMode[FillMode[\"RepeatHorizontally\"] = 1] = \"RepeatHorizontally\";\n    FillMode[FillMode[\"RepeatVertically\"] = 2] = \"RepeatVertically\";\n    FillMode[FillMode[\"Repeat\"] = 3] = \"Repeat\";\n})(FillMode = exports.FillMode || (exports.FillMode = {}));\nvar ActionIconPlacement;\n(function (ActionIconPlacement) {\n    ActionIconPlacement[ActionIconPlacement[\"LeftOfTitle\"] = 0] = \"LeftOfTitle\";\n    ActionIconPlacement[ActionIconPlacement[\"AboveTitle\"] = 1] = \"AboveTitle\";\n})(ActionIconPlacement = exports.ActionIconPlacement || (exports.ActionIconPlacement = {}));\nvar InputTextStyle;\n(function (InputTextStyle) {\n    InputTextStyle[InputTextStyle[\"Text\"] = 0] = \"Text\";\n    InputTextStyle[InputTextStyle[\"Tel\"] = 1] = \"Tel\";\n    InputTextStyle[InputTextStyle[\"Url\"] = 2] = \"Url\";\n    InputTextStyle[InputTextStyle[\"Email\"] = 3] = \"Email\";\n    InputTextStyle[InputTextStyle[\"Password\"] = 4] = \"Password\";\n})(InputTextStyle = exports.InputTextStyle || (exports.InputTextStyle = {}));\nvar InputLabelPosition;\n(function (InputLabelPosition) {\n    InputLabelPosition[InputLabelPosition[\"Inline\"] = 0] = \"Inline\";\n    InputLabelPosition[InputLabelPosition[\"Above\"] = 1] = \"Above\";\n})(InputLabelPosition = exports.InputLabelPosition || (exports.InputLabelPosition = {}));\nvar ValidationPhase;\n(function (ValidationPhase) {\n    ValidationPhase[ValidationPhase[\"Parse\"] = 0] = \"Parse\";\n    ValidationPhase[ValidationPhase[\"ToJSON\"] = 1] = \"ToJSON\";\n    ValidationPhase[ValidationPhase[\"Validation\"] = 2] = \"Validation\";\n})(ValidationPhase = exports.ValidationPhase || (exports.ValidationPhase = {}));\nvar ValidationEvent;\n(function (ValidationEvent) {\n    ValidationEvent[ValidationEvent[\"Hint\"] = 0] = \"Hint\";\n    ValidationEvent[ValidationEvent[\"ActionTypeNotAllowed\"] = 1] = \"ActionTypeNotAllowed\";\n    ValidationEvent[ValidationEvent[\"CollectionCantBeEmpty\"] = 2] = \"CollectionCantBeEmpty\";\n    ValidationEvent[ValidationEvent[\"Deprecated\"] = 3] = \"Deprecated\";\n    ValidationEvent[ValidationEvent[\"ElementTypeNotAllowed\"] = 4] = \"ElementTypeNotAllowed\";\n    ValidationEvent[ValidationEvent[\"InteractivityNotAllowed\"] = 5] = \"InteractivityNotAllowed\";\n    ValidationEvent[ValidationEvent[\"InvalidPropertyValue\"] = 6] = \"InvalidPropertyValue\";\n    ValidationEvent[ValidationEvent[\"MissingCardType\"] = 7] = \"MissingCardType\";\n    ValidationEvent[ValidationEvent[\"PropertyCantBeNull\"] = 8] = \"PropertyCantBeNull\";\n    ValidationEvent[ValidationEvent[\"TooManyActions\"] = 9] = \"TooManyActions\";\n    ValidationEvent[ValidationEvent[\"UnknownActionType\"] = 10] = \"UnknownActionType\";\n    ValidationEvent[ValidationEvent[\"UnknownElementType\"] = 11] = \"UnknownElementType\";\n    ValidationEvent[ValidationEvent[\"UnsupportedCardVersion\"] = 12] = \"UnsupportedCardVersion\";\n    ValidationEvent[ValidationEvent[\"DuplicateId\"] = 13] = \"DuplicateId\";\n    ValidationEvent[ValidationEvent[\"UnsupportedProperty\"] = 14] = \"UnsupportedProperty\";\n    ValidationEvent[ValidationEvent[\"RequiredInputsShouldHaveLabel\"] = 15] = \"RequiredInputsShouldHaveLabel\";\n    ValidationEvent[ValidationEvent[\"RequiredInputsShouldHaveErrorMessage\"] = 16] = \"RequiredInputsShouldHaveErrorMessage\";\n    ValidationEvent[ValidationEvent[\"Other\"] = 17] = \"Other\";\n})(ValidationEvent = exports.ValidationEvent || (exports.ValidationEvent = {}));\nvar ContainerFitStatus;\n(function (ContainerFitStatus) {\n    ContainerFitStatus[ContainerFitStatus[\"FullyInContainer\"] = 0] = \"FullyInContainer\";\n    ContainerFitStatus[ContainerFitStatus[\"Overflowing\"] = 1] = \"Overflowing\";\n    ContainerFitStatus[ContainerFitStatus[\"FullyOutOfContainer\"] = 2] = \"FullyOutOfContainer\";\n})(ContainerFitStatus = exports.ContainerFitStatus || (exports.ContainerFitStatus = {}));\nvar TypeErrorType;\n(function (TypeErrorType) {\n    TypeErrorType[TypeErrorType[\"UnknownType\"] = 0] = \"UnknownType\";\n    TypeErrorType[TypeErrorType[\"ForbiddenType\"] = 1] = \"ForbiddenType\";\n})(TypeErrorType = exports.TypeErrorType || (exports.TypeErrorType = {}));\nvar RefreshMode;\n(function (RefreshMode) {\n    RefreshMode[RefreshMode[\"Disabled\"] = 0] = \"Disabled\";\n    RefreshMode[RefreshMode[\"Manual\"] = 1] = \"Manual\";\n    RefreshMode[RefreshMode[\"Automatic\"] = 2] = \"Automatic\";\n})(RefreshMode = exports.RefreshMode || (exports.RefreshMode = {}));\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Info\"] = 0] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nvar CarouselInteractionEvent;\n(function (CarouselInteractionEvent) {\n    CarouselInteractionEvent[CarouselInteractionEvent[\"NavigationNext\"] = 0] = \"NavigationNext\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"NavigationPrevious\"] = 1] = \"NavigationPrevious\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"Pagination\"] = 2] = \"Pagination\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"Autoplay\"] = 3] = \"Autoplay\";\n})(CarouselInteractionEvent = exports.CarouselInteractionEvent || (exports.CarouselInteractionEvent = {}));\n//# sourceMappingURL=enums.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UUID = exports.SizeAndUnit = exports.PaddingDefinition = exports.SpacingDefinition = exports.StringWithSubstitutions = exports.ContentTypes = exports.GlobalSettings = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar GlobalSettings = /** @class */ (function () {\n    function GlobalSettings() {\n    }\n    GlobalSettings.useAdvancedTextBlockTruncation = true;\n    GlobalSettings.useAdvancedCardBottomTruncation = false;\n    GlobalSettings.useMarkdownInRadioButtonAndCheckbox = true;\n    GlobalSettings.allowMarkForTextHighlighting = false;\n    GlobalSettings.alwaysBleedSeparators = false;\n    GlobalSettings.enableFullJsonRoundTrip = false;\n    GlobalSettings.displayInputValidationErrors = true;\n    GlobalSettings.allowPreProcessingPropertyValues = false;\n    GlobalSettings.setTabIndexAtCardRoot = true;\n    GlobalSettings.enableFallback = true;\n    GlobalSettings.useWebkitLineClamp = true;\n    GlobalSettings.allowMoreThanMaxActionsInOverflowMenu = false;\n    GlobalSettings.removePaddingFromContainersWithBackgroundImage = false;\n    GlobalSettings.resetInputsDirtyStateAfterActionExecution = true;\n    GlobalSettings.applets = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000,\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000,\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n    return GlobalSettings;\n}());\nexports.GlobalSettings = GlobalSettings;\nexports.ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\nvar StringWithSubstitutions = /** @class */ (function () {\n    function StringWithSubstitutions() {\n        this._isProcessed = false;\n    }\n    StringWithSubstitutions.prototype.getReferencedInputs = function (inputs, referencedInputs) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n        if (this._original) {\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input = inputs_1[_i];\n                var matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(this._original);\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    };\n    StringWithSubstitutions.prototype.substituteInputValues = function (inputs, contentType) {\n        this._processed = this._original;\n        if (this._original) {\n            var regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            var matches = void 0;\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (var _i = 0, _a = Object.keys(inputs); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        var matchedInput = inputs[key];\n                        var valueForReplace = \"\";\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n                        if (contentType === exports.ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        }\n                        else if (contentType === exports.ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n                        break;\n                    }\n                }\n            }\n        }\n        this._isProcessed = true;\n    };\n    StringWithSubstitutions.prototype.getOriginal = function () {\n        return this._original;\n    };\n    StringWithSubstitutions.prototype.get = function () {\n        if (!this._isProcessed) {\n            return this._original;\n        }\n        else {\n            return this._processed;\n        }\n    };\n    StringWithSubstitutions.prototype.set = function (value) {\n        this._original = value;\n        this._isProcessed = false;\n    };\n    return StringWithSubstitutions;\n}());\nexports.StringWithSubstitutions = StringWithSubstitutions;\nvar SpacingDefinition = /** @class */ (function () {\n    function SpacingDefinition(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = 0; }\n        if (bottom === void 0) { bottom = 0; }\n        if (left === void 0) { left = 0; }\n        this.left = 0;\n        this.top = 0;\n        this.right = 0;\n        this.bottom = 0;\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    return SpacingDefinition;\n}());\nexports.SpacingDefinition = SpacingDefinition;\nvar PaddingDefinition = /** @class */ (function () {\n    function PaddingDefinition(top, right, bottom, left) {\n        if (top === void 0) { top = Enums.Spacing.None; }\n        if (right === void 0) { right = Enums.Spacing.None; }\n        if (bottom === void 0) { bottom = Enums.Spacing.None; }\n        if (left === void 0) { left = Enums.Spacing.None; }\n        this.top = Enums.Spacing.None;\n        this.right = Enums.Spacing.None;\n        this.bottom = Enums.Spacing.None;\n        this.left = Enums.Spacing.None;\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    return PaddingDefinition;\n}());\nexports.PaddingDefinition = PaddingDefinition;\nvar SizeAndUnit = /** @class */ (function () {\n    function SizeAndUnit(physicalSize, unit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n    SizeAndUnit.parse = function (input, requireUnitSpecifier) {\n        if (requireUnitSpecifier === void 0) { requireUnitSpecifier = false; }\n        var result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n            return result;\n        }\n        else if (typeof input === \"string\") {\n            var regExp = /^([0-9]+)(px|\\*)?$/g;\n            var matches = regExp.exec(input);\n            var expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n                return result;\n            }\n        }\n        throw new Error(\"Invalid size: \" + input);\n    };\n    return SizeAndUnit;\n}());\nexports.SizeAndUnit = SizeAndUnit;\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nvar UUID = /** @class */ (function () {\n    function UUID() {\n    }\n    UUID.generate = function () {\n        var d0 = (Math.random() * 0xffffffff) | 0;\n        var d1 = (Math.random() * 0xffffffff) | 0;\n        var d2 = (Math.random() * 0xffffffff) | 0;\n        var d3 = (Math.random() * 0xffffffff) | 0;\n        return (UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]);\n    };\n    UUID.initialize = function () {\n        for (var i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    };\n    UUID.lut = [];\n    return UUID;\n}());\nexports.UUID = UUID;\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n//# sourceMappingURL=shared.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addCancelSelectActionEventHandler = exports.clearElementChildren = exports.getScrollY = exports.getScrollX = exports.getFitStatus = exports.truncate = exports.truncateText = exports.stringToCssColor = exports.parseEnum = exports.getEnumValueByName = exports.parseBool = exports.parseNumber = exports.parseString = exports.appendChild = exports.generateUniqueId = exports.isMobileOS = exports.isInternetExplorer = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Shared = require(\"./shared\");\nfunction isInternetExplorer() {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\nexports.isInternetExplorer = isInternetExplorer;\nfunction isMobileOS() {\n    var userAgent = window.navigator.userAgent;\n    return (!!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i));\n}\nexports.isMobileOS = isMobileOS;\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nfunction generateUniqueId() {\n    return \"__ac-\" + Shared.UUID.generate();\n}\nexports.generateUniqueId = generateUniqueId;\nfunction appendChild(node, child) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\nexports.appendChild = appendChild;\nfunction parseString(obj, defaultValue) {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\nexports.parseString = parseString;\nfunction parseNumber(obj, defaultValue) {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\nexports.parseNumber = parseNumber;\nfunction parseBool(value, defaultValue) {\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n    return defaultValue;\n}\nexports.parseBool = parseBool;\nfunction getEnumValueByName(enumType, name) {\n    // eslint-disable-next-line guard-for-in\n    for (var key in enumType) {\n        var keyAsNumber = parseInt(key, 10);\n        if (keyAsNumber >= 0) {\n            var value = enumType[key];\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n    return undefined;\n}\nexports.getEnumValueByName = getEnumValueByName;\nfunction parseEnum(enumType, name, defaultValue) {\n    if (!name) {\n        return defaultValue;\n    }\n    var enumValue = getEnumValueByName(enumType, name);\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\nexports.parseEnum = parseEnum;\nfunction stringToCssColor(color) {\n    if (color) {\n        var regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        var matches = regEx.exec(color);\n        if (matches && matches[4]) {\n            var a = parseInt(matches[1], 16) / 255;\n            var r = parseInt(matches[2], 16);\n            var g = parseInt(matches[3], 16);\n            var b = parseInt(matches[4], 16);\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n    return color;\n}\nexports.stringToCssColor = stringToCssColor;\nfunction truncateWorker(element, maxHeight, fullText, truncateAt, lineHeight) {\n    var fits = function () {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n    if (fits()) {\n        return;\n    }\n    var breakableIndices = findBreakableIndices(fullText);\n    var lo = 0;\n    var hi = breakableIndices.length;\n    var bestBreakIdx = 0;\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        var mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    truncateAt(fullText, bestBreakIdx);\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        var idx = findNextCharacter(fullText, bestBreakIdx);\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            }\n            else {\n                break;\n            }\n        }\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\nfunction truncateText(element, maxHeight, lineHeight) {\n    truncateWorker(element, maxHeight, element.innerText, function (text, idx) {\n        element.innerText = text.substring(0, idx) + \"...\";\n    }, lineHeight);\n}\nexports.truncateText = truncateText;\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nvar ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: function (value) { return value; }\n});\n/** @deprecated Use {@link truncateText} instead. */\nfunction truncate(element, maxHeight, lineHeight) {\n    truncateWorker(element, maxHeight, element.innerHTML, function (text, idx) {\n        var _a;\n        var truncatedString = text.substring(0, idx) + \"...\";\n        var truncatedHTML = (_a = ttDeprecatedPolicy === null || ttDeprecatedPolicy === void 0 ? void 0 : ttDeprecatedPolicy.createHTML(truncatedString)) !== null && _a !== void 0 ? _a : truncatedString;\n        element.innerHTML = truncatedHTML;\n    }, lineHeight);\n}\nexports.truncate = truncate;\nfunction findBreakableIndices(html) {\n    var results = [];\n    var idx = findNextCharacter(html, -1);\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n        idx = findNextCharacter(html, idx);\n    }\n    return results;\n}\nfunction findNextCharacter(html, currIdx) {\n    currIdx += 1;\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n    return currIdx;\n}\nfunction getFitStatus(element, containerEnd) {\n    var start = element.offsetTop;\n    var end = start + element.clientHeight;\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    }\n    else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    }\n    else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\nexports.getFitStatus = getFitStatus;\nfunction getScrollX() {\n    return window.pageXOffset;\n}\nexports.getScrollX = getScrollX;\nfunction getScrollY() {\n    return window.pageYOffset;\n}\nexports.getScrollY = getScrollY;\nfunction clearElementChildren(element) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\nexports.clearElementChildren = clearElementChildren;\nfunction addCancelSelectActionEventHandler(element) {\n    element.onclick = function (e) {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\nexports.addCancelSelectActionEventHandler = addCancelSelectActionEventHandler;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SerializableObject = exports.property = exports.SerializableObjectSchema = exports.CustomProperty = exports.SerializableObjectCollectionProperty = exports.SerializableObjectProperty = exports.EnumProperty = exports.ValueSetProperty = exports.StringArrayProperty = exports.PixelSizeProperty = exports.NumProperty = exports.BoolProperty = exports.StringProperty = exports.PropertyDefinition = exports.BaseSerializationContext = exports.isVersionLessOrEqual = exports.Versions = exports.Version = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar shared_1 = require(\"./shared\");\nvar Utils = require(\"./utils\");\nvar Enums = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar Version = /** @class */ (function () {\n    function Version(major, minor, label) {\n        if (major === void 0) { major = 1; }\n        if (minor === void 0) { minor = 1; }\n        this._isValid = true;\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n    Version.parse = function (versionString, context) {\n        if (!versionString) {\n            return undefined;\n        }\n        var result = new Version();\n        result._versionString = versionString;\n        var regEx = /(\\d+).(\\d+)/gi;\n        var matches = regEx.exec(versionString);\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        }\n        else {\n            result._isValid = false;\n        }\n        if (!result._isValid) {\n            context.logParseEvent(undefined, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidVersionString(result._versionString));\n        }\n        return result;\n    };\n    Version.prototype.toString = function () {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    };\n    Version.prototype.toJSON = function () {\n        return this.toString();\n    };\n    Version.prototype.compareTo = function (otherVersion) {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n        if (this.major > otherVersion.major) {\n            return 1;\n        }\n        else if (this.major < otherVersion.major) {\n            return -1;\n        }\n        else if (this.minor > otherVersion.minor) {\n            return 1;\n        }\n        else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n        return 0;\n    };\n    Object.defineProperty(Version.prototype, \"label\", {\n        get: function () {\n            return this._label ? this._label : this.toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"major\", {\n        get: function () {\n            return this._major;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"minor\", {\n        get: function () {\n            return this._minor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"isValid\", {\n        get: function () {\n            return this._isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Version;\n}());\nexports.Version = Version;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Versions = /** @class */ (function () {\n    function Versions() {\n    }\n    /* eslint-enable @typescript-eslint/naming-convention */\n    Versions.getAllDeclaredVersions = function () {\n        var ctor = Versions;\n        var properties = [];\n        for (var propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    var propertyValue = ctor[propertyName];\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                }\n                catch (_a) {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort(function (v1, v2) { return v1.compareTo(v2); });\n    };\n    /* eslint-disable @typescript-eslint/naming-convention */\n    Versions.v1_0 = new Version(1, 0);\n    Versions.v1_1 = new Version(1, 1);\n    Versions.v1_2 = new Version(1, 2);\n    Versions.v1_3 = new Version(1, 3);\n    Versions.v1_4 = new Version(1, 4);\n    Versions.v1_5 = new Version(1, 5);\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    Versions.v1_6 = new Version(1, 6, \"1.6 Preview\");\n    Versions.latest = Versions.v1_5;\n    return Versions;\n}());\nexports.Versions = Versions;\nfunction isVersionLessOrEqual(version, targetVersion) {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        }\n        else {\n            // Target version is *\n            return true;\n        }\n    }\n    else {\n        // Version is *\n        return true;\n    }\n}\nexports.isVersionLessOrEqual = isVersionLessOrEqual;\nvar BaseSerializationContext = /** @class */ (function () {\n    function BaseSerializationContext(targetVersion) {\n        if (targetVersion === void 0) { targetVersion = Versions.latest; }\n        this._validationEvents = [];\n        this.targetVersion = targetVersion;\n    }\n    BaseSerializationContext.prototype.isTemplateString = function (value) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        }\n        else {\n            return false;\n        }\n    };\n    BaseSerializationContext.prototype.tryDeleteValue = function (target, propertyName) {\n        if (!shared_1.GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    };\n    BaseSerializationContext.prototype.tryDeleteDefaultValue = function (target, propertyName) {\n        if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    };\n    BaseSerializationContext.prototype.serializeValue = function (target, propertyName, propertyValue, defaultValue, forceDeleteIfNullOrDefault) {\n        if (defaultValue === void 0) { defaultValue = undefined; }\n        if (forceDeleteIfNullOrDefault === void 0) { forceDeleteIfNullOrDefault = false; }\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        }\n        else if (propertyValue === defaultValue) {\n            if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeString = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeBool = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeNumber = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeEnum = function (enumType, target, propertyName, propertyValue, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = undefined; }\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    };\n    BaseSerializationContext.prototype.serializeArray = function (target, propertyName, propertyValue) {\n        var items = [];\n        if (propertyValue) {\n            for (var _i = 0, propertyValue_1 = propertyValue; _i < propertyValue_1.length; _i++) {\n                var item = propertyValue_1[_i];\n                var serializedItem = undefined;\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                }\n                else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                }\n                else {\n                    serializedItem = item;\n                }\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        }\n        else {\n            this.serializeValue(target, propertyName, items);\n        }\n    };\n    BaseSerializationContext.prototype.clearEvents = function () {\n        this._validationEvents = [];\n    };\n    BaseSerializationContext.prototype.logEvent = function (source, phase, event, message) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    };\n    BaseSerializationContext.prototype.logParseEvent = function (source, event, message) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    };\n    BaseSerializationContext.prototype.getEventAt = function (index) {\n        return this._validationEvents[index];\n    };\n    Object.defineProperty(BaseSerializationContext.prototype, \"eventCount\", {\n        get: function () {\n            return this._validationEvents.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BaseSerializationContext;\n}());\nexports.BaseSerializationContext = BaseSerializationContext;\nvar SimpleSerializationContext = /** @class */ (function (_super) {\n    __extends(SimpleSerializationContext, _super);\n    function SimpleSerializationContext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SimpleSerializationContext;\n}(BaseSerializationContext));\nvar PropertyDefinition = /** @class */ (function () {\n    function PropertyDefinition(targetVersion, name, defaultValue, onGetInitialValue) {\n        this.targetVersion = targetVersion;\n        this.name = name;\n        this.defaultValue = defaultValue;\n        this.onGetInitialValue = onGetInitialValue;\n        this.isSerializationEnabled = true;\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n        PropertyDefinition._sequentialNumber++;\n    }\n    PropertyDefinition.prototype.getInternalName = function () {\n        return this.name;\n    };\n    PropertyDefinition.prototype.parse = function (sender, source, context) {\n        return source[this.name];\n    };\n    PropertyDefinition.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    };\n    PropertyDefinition._sequentialNumber = 0;\n    return PropertyDefinition;\n}());\nexports.PropertyDefinition = PropertyDefinition;\nvar StringProperty = /** @class */ (function (_super) {\n    __extends(StringProperty, _super);\n    function StringProperty(targetVersion, name, treatEmptyAsUndefined, regEx, defaultValue, onGetInitialValue) {\n        if (treatEmptyAsUndefined === void 0) { treatEmptyAsUndefined = true; }\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.treatEmptyAsUndefined = treatEmptyAsUndefined;\n        _this.regEx = regEx;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    StringProperty.prototype.parse = function (sender, source, context) {\n        var parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        var isUndefined = parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n        if (!isUndefined && this.regEx !== undefined) {\n            var matches = this.regEx.exec(parsedValue);\n            if (!matches) {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(parsedValue, this.name));\n                return undefined;\n            }\n        }\n        return parsedValue;\n    };\n    StringProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeString(target, this.name, value === \"\" && this.treatEmptyAsUndefined ? undefined : value, this.defaultValue);\n    };\n    return StringProperty;\n}(PropertyDefinition));\nexports.StringProperty = StringProperty;\nvar BoolProperty = /** @class */ (function (_super) {\n    __extends(BoolProperty, _super);\n    function BoolProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    BoolProperty.prototype.parse = function (sender, source, context) {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    };\n    BoolProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    };\n    return BoolProperty;\n}(PropertyDefinition));\nexports.BoolProperty = BoolProperty;\nvar NumProperty = /** @class */ (function (_super) {\n    __extends(NumProperty, _super);\n    function NumProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    NumProperty.prototype.parse = function (sender, source, context) {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    };\n    NumProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    };\n    return NumProperty;\n}(PropertyDefinition));\nexports.NumProperty = NumProperty;\nvar PixelSizeProperty = /** @class */ (function (_super) {\n    __extends(PixelSizeProperty, _super);\n    function PixelSizeProperty() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PixelSizeProperty.prototype.parse = function (sender, source, context) {\n        var result = undefined;\n        var value = source[this.name];\n        if (typeof value === \"string\") {\n            var isValid = false;\n            try {\n                var size = shared_1.SizeAndUnit.parse(value, true);\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n                    isValid = true;\n                }\n            }\n            catch (_a) {\n                // Do nothing. A parse error is emitted below\n            }\n            if (!isValid) {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(source[this.name], this.name));\n            }\n        }\n        return result;\n    };\n    PixelSizeProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined);\n    };\n    return PixelSizeProperty;\n}(PropertyDefinition));\nexports.PixelSizeProperty = PixelSizeProperty;\nvar StringArrayProperty = /** @class */ (function (_super) {\n    __extends(StringArrayProperty, _super);\n    function StringArrayProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    StringArrayProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n        var result = [];\n        for (var _i = 0, sourceValue_1 = sourceValue; _i < sourceValue_1.length; _i++) {\n            var value = sourceValue_1[_i];\n            if (typeof value === \"string\") {\n                result.push(value);\n            }\n            else {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, \"Invalid array value \\\"\".concat(JSON.stringify(value), \"\\\" of type \\\"\").concat(typeof value, \"\\\" ignored for \\\"\").concat(this.name, \"\\\".\"));\n            }\n        }\n        return result;\n    };\n    StringArrayProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeArray(target, this.name, value);\n    };\n    return StringArrayProperty;\n}(PropertyDefinition));\nexports.StringArrayProperty = StringArrayProperty;\nvar ValueSetProperty = /** @class */ (function (_super) {\n    __extends(ValueSetProperty, _super);\n    function ValueSetProperty(targetVersion, name, values, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.values = values;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    ValueSetProperty.prototype.isValidValue = function (value, context) {\n        for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n            var versionedValue = _a[_i];\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                var targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n        return false;\n    };\n    ValueSetProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n        if (typeof sourceValue === \"string\") {\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    }\n                    else {\n                        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(sourceValue, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        return this.defaultValue;\n    };\n    ValueSetProperty.prototype.toJSON = function (sender, target, value, context) {\n        var invalidValue = false;\n        if (value !== undefined) {\n            invalidValue = true;\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === value) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n                        break;\n                    }\n                    else {\n                        context.logEvent(sender, Enums.ValidationPhase.ToJSON, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(value, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                    }\n                }\n            }\n        }\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    };\n    return ValueSetProperty;\n}(PropertyDefinition));\nexports.ValueSetProperty = ValueSetProperty;\nvar EnumProperty = /** @class */ (function (_super) {\n    __extends(EnumProperty, _super);\n    function EnumProperty(targetVersion, name, enumType, defaultValue, values, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.enumType = enumType;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        _this._values = [];\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (var key in enumType) {\n                var keyAsNumber = parseInt(key, 10);\n                if (keyAsNumber >= 0) {\n                    _this._values.push({ value: keyAsNumber });\n                }\n            }\n        }\n        else {\n            _this._values = values;\n        }\n        return _this;\n    }\n    EnumProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n        var enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n        if (enumValue !== undefined) {\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === enumValue) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    }\n                    else {\n                        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(sourceValue, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        return this.defaultValue;\n    };\n    EnumProperty.prototype.toJSON = function (sender, target, value, context) {\n        var invalidValue = false;\n        if (value !== undefined) {\n            invalidValue = true;\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === value) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n                        break;\n                    }\n                    else {\n                        context.logEvent(sender, Enums.ValidationPhase.ToJSON, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(value, this.name));\n                    }\n                }\n            }\n        }\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    };\n    Object.defineProperty(EnumProperty.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EnumProperty;\n}(PropertyDefinition));\nexports.EnumProperty = EnumProperty;\nvar SerializableObjectProperty = /** @class */ (function (_super) {\n    __extends(SerializableObjectProperty, _super);\n    function SerializableObjectProperty(targetVersion, name, objectType, nullable, defaultValue) {\n        if (nullable === void 0) { nullable = false; }\n        var _this = _super.call(this, targetVersion, name, defaultValue, function (sender) {\n            return _this.nullable ? undefined : new _this.objectType();\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.objectType = objectType;\n        _this.nullable = nullable;\n        return _this;\n    }\n    SerializableObjectProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n        var result = new this.objectType();\n        result.parse(sourceValue, context);\n        return result;\n    };\n    SerializableObjectProperty.prototype.toJSON = function (sender, target, value, context) {\n        var serializedValue = undefined;\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    };\n    return SerializableObjectProperty;\n}(PropertyDefinition));\nexports.SerializableObjectProperty = SerializableObjectProperty;\nvar SerializableObjectCollectionProperty = /** @class */ (function (_super) {\n    __extends(SerializableObjectCollectionProperty, _super);\n    function SerializableObjectCollectionProperty(targetVersion, name, objectType, onItemAdded) {\n        var _this = _super.call(this, targetVersion, name, undefined, function (sender) {\n            return [];\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.objectType = objectType;\n        _this.onItemAdded = onItemAdded;\n        return _this;\n    }\n    SerializableObjectCollectionProperty.prototype.parse = function (sender, source, context) {\n        var result = [];\n        var sourceCollection = source[this.name];\n        if (Array.isArray(sourceCollection)) {\n            for (var _i = 0, sourceCollection_1 = sourceCollection; _i < sourceCollection_1.length; _i++) {\n                var sourceItem = sourceCollection_1[_i];\n                var item = new this.objectType();\n                item.parse(sourceItem, context);\n                result.push(item);\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n                ? this.onGetInitialValue(sender)\n                : undefined;\n    };\n    SerializableObjectCollectionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeArray(target, this.name, value);\n    };\n    return SerializableObjectCollectionProperty;\n}(PropertyDefinition));\nexports.SerializableObjectCollectionProperty = SerializableObjectCollectionProperty;\nvar CustomProperty = /** @class */ (function (_super) {\n    __extends(CustomProperty, _super);\n    function CustomProperty(targetVersion, name, onParse, onToJSON, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.onParse = onParse;\n        _this.onToJSON = onToJSON;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        if (!_this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n        if (!_this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n        return _this;\n    }\n    CustomProperty.prototype.parse = function (sender, source, context) {\n        return this.onParse(sender, this, source, context);\n    };\n    CustomProperty.prototype.toJSON = function (sender, target, value, context) {\n        this.onToJSON(sender, this, target, value, context);\n    };\n    return CustomProperty;\n}(PropertyDefinition));\nexports.CustomProperty = CustomProperty;\nvar SerializableObjectSchema = /** @class */ (function () {\n    function SerializableObjectSchema() {\n        this._properties = [];\n    }\n    SerializableObjectSchema.prototype.indexOf = function (prop) {\n        for (var i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    SerializableObjectSchema.prototype.add = function () {\n        var properties = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            properties[_i] = arguments[_i];\n        }\n        for (var _a = 0, properties_1 = properties; _a < properties_1.length; _a++) {\n            var prop = properties_1[_a];\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    };\n    SerializableObjectSchema.prototype.remove = function () {\n        var properties = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            properties[_i] = arguments[_i];\n        }\n        for (var _a = 0, properties_2 = properties; _a < properties_2.length; _a++) {\n            var prop = properties_2[_a];\n            while (true) {\n                var index = this.indexOf(prop);\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n    };\n    SerializableObjectSchema.prototype.getItemAt = function (index) {\n        return this._properties[index];\n    };\n    SerializableObjectSchema.prototype.getCount = function () {\n        return this._properties.length;\n    };\n    return SerializableObjectSchema;\n}());\nexports.SerializableObjectSchema = SerializableObjectSchema;\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nfunction property(prop) {\n    return function (target, propertyKey) {\n        var descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function () {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (value) {\n                this.setValue(prop, value);\n            };\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\nexports.property = property;\nvar SerializableObject = /** @class */ (function () {\n    function SerializableObject() {\n        this._propertyBag = {};\n        this._rawProperties = {};\n        this.maxVersion = SerializableObject.defaultMaxVersion;\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n    SerializableObject.prototype.getDefaultSerializationContext = function () {\n        return new SimpleSerializationContext();\n    };\n    SerializableObject.prototype.populateSchema = function (schema) {\n        var ctor = this.constructor;\n        var properties = [];\n        // eslint-disable-next-line guard-for-in\n        for (var propertyName in ctor) {\n            try {\n                var propertyValue = ctor[propertyName];\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            }\n            catch (_a) {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n        if (properties.length > 0) {\n            var sortedProperties = properties.sort(function (p1, p2) {\n                if (p1.sequentialNumber > p2.sequentialNumber) {\n                    return 1;\n                }\n                else if (p1.sequentialNumber < p2.sequentialNumber) {\n                    return -1;\n                }\n                return 0;\n            });\n            schema.add.apply(schema, sortedProperties);\n        }\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    };\n    SerializableObject.prototype.getValue = function (prop) {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    };\n    SerializableObject.prototype.setValue = function (prop, value) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        }\n        else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    };\n    SerializableObject.prototype.internalParse = function (source, context) {\n        this._propertyBag = {};\n        this._rawProperties = shared_1.GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n        if (source) {\n            var s = this.getSchema();\n            for (var i = 0; i < s.getCount(); i++) {\n                var prop = s.getItemAt(i);\n                if (prop.isSerializationEnabled) {\n                    var propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        }\n                        else {\n                            context.logParseEvent(this, Enums.ValidationEvent.UnsupportedProperty, strings_1.Strings.errors.propertyNotSupported(prop.name, prop.targetVersion.toString(), context.targetVersion.toString()));\n                        }\n                    }\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        }\n        else {\n            this.resetDefaultValues();\n        }\n    };\n    SerializableObject.prototype.internalToJSON = function (target, context) {\n        var s = this.getSchema();\n        var serializedProperties = [];\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n                serializedProperties.push(prop.name);\n            }\n        }\n    };\n    SerializableObject.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    SerializableObject.prototype.parse = function (source, context) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    };\n    SerializableObject.prototype.toJSON = function (context) {\n        var effectiveContext;\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        }\n        else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n        if (this.shouldSerialize(effectiveContext)) {\n            var result = void 0;\n            if (shared_1.GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\") {\n                result = this._rawProperties;\n            }\n            else {\n                result = {};\n            }\n            this.internalToJSON(result, effectiveContext);\n            return result;\n        }\n        else {\n            return undefined;\n        }\n    };\n    SerializableObject.prototype.hasDefaultValue = function (prop) {\n        return this.getValue(prop) === prop.defaultValue;\n    };\n    SerializableObject.prototype.hasAllDefaultValues = function () {\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    SerializableObject.prototype.resetDefaultValues = function () {\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            this.setValue(prop, prop.defaultValue);\n        }\n    };\n    SerializableObject.prototype.setCustomProperty = function (name, value) {\n        var shouldDeleteProperty = (typeof value === \"string\" && !value) || value === undefined || value === null;\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        }\n        else {\n            this._rawProperties[name] = value;\n        }\n    };\n    SerializableObject.prototype.getCustomProperty = function (name) {\n        return this._rawProperties[name];\n    };\n    SerializableObject.prototype.getSchema = function () {\n        var schema = SerializableObject._schemaCache[this.getSchemaKey()];\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n            this.populateSchema(schema);\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n        return schema;\n    };\n    SerializableObject.defaultMaxVersion = Versions.latest;\n    SerializableObject._schemaCache = {};\n    return SerializableObject;\n}());\nexports.SerializableObject = SerializableObject;\n//# sourceMappingURL=serialization.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HostCapabilities = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar serialization_1 = require(\"./serialization\");\nvar HostCapabilities = /** @class */ (function (_super) {\n    __extends(HostCapabilities, _super);\n    function HostCapabilities() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._capabilities = {};\n        return _this;\n    }\n    HostCapabilities.prototype.getSchemaKey = function () {\n        return \"HostCapabilities\";\n    };\n    HostCapabilities.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (var name_1 in source) {\n                var jsonVersion = source[name_1];\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name_1, \"*\");\n                    }\n                    else {\n                        var version = serialization_1.Version.parse(jsonVersion, context);\n                        if (version === null || version === void 0 ? void 0 : version.isValid) {\n                            this.addCapability(name_1, version);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    HostCapabilities.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        // eslint-disable-next-line guard-for-in\n        for (var key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    };\n    HostCapabilities.prototype.addCapability = function (name, version) {\n        this._capabilities[name] = version;\n    };\n    HostCapabilities.prototype.removeCapability = function (name) {\n        delete this._capabilities[name];\n    };\n    HostCapabilities.prototype.clear = function () {\n        this._capabilities = {};\n    };\n    HostCapabilities.prototype.hasCapability = function (name, version) {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n            return version.compareTo(this._capabilities[name]) <= 0;\n        }\n        return false;\n    };\n    HostCapabilities.prototype.areAllMet = function (hostCapabilities) {\n        for (var capabilityName in this._capabilities) {\n            if (!hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return HostCapabilities;\n}(serialization_1.SerializableObject));\nexports.HostCapabilities = HostCapabilities;\n//# sourceMappingURL=host-capabilities.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultHostConfig = exports.HostConfig = exports.CarouselConfig = exports.FontTypeSet = exports.FontTypeDefinition = exports.ContainerStyleSet = exports.ContainerStyleDefinition = exports.ColorSetDefinition = exports.ActionsConfig = exports.ShowCardActionConfig = exports.FactSetConfig = exports.FactTitleDefinition = exports.FactTextDefinition = exports.InputConfig = exports.InputLabelConfig = exports.RequiredInputLabelTextDefinition = exports.TextBlockConfig = exports.TextStyleSet = exports.TextStyleDefinition = exports.BaseTextDefinition = exports.TableConfig = exports.MediaConfig = exports.ImageSetConfig = exports.AdaptiveCardConfig = exports.TextColorDefinition = exports.ColorDefinition = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Utils = require(\"./utils\");\nvar Shared = require(\"./shared\");\nvar host_capabilities_1 = require(\"./host-capabilities\");\nfunction parseHostConfigEnum(targetEnum, value, defaultValue) {\n    if (typeof value === \"string\") {\n        var parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    }\n    else if (typeof value === \"number\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\nvar ColorDefinition = /** @class */ (function () {\n    function ColorDefinition(defaultColor, subtleColor) {\n        this.default = \"#000000\";\n        this.subtle = \"#666666\";\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n    ColorDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    };\n    return ColorDefinition;\n}());\nexports.ColorDefinition = ColorDefinition;\nvar TextColorDefinition = /** @class */ (function (_super) {\n    __extends(TextColorDefinition, _super);\n    function TextColorDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n        return _this;\n    }\n    TextColorDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    };\n    return TextColorDefinition;\n}(ColorDefinition));\nexports.TextColorDefinition = TextColorDefinition;\nvar AdaptiveCardConfig = /** @class */ (function () {\n    function AdaptiveCardConfig(obj) {\n        this.allowCustomStyle = false;\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n    return AdaptiveCardConfig;\n}());\nexports.AdaptiveCardConfig = AdaptiveCardConfig;\nvar ImageSetConfig = /** @class */ (function () {\n    function ImageSetConfig(obj) {\n        this.imageSize = Enums.Size.Medium;\n        this.maxImageHeight = 100;\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100);\n        }\n    }\n    ImageSetConfig.prototype.toJSON = function () {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    };\n    return ImageSetConfig;\n}());\nexports.ImageSetConfig = ImageSetConfig;\nvar MediaConfig = /** @class */ (function () {\n    function MediaConfig(obj) {\n        this.allowInlinePlayback = true;\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n    MediaConfig.prototype.toJSON = function () {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    };\n    return MediaConfig;\n}());\nexports.MediaConfig = MediaConfig;\nvar TableConfig = /** @class */ (function () {\n    function TableConfig(obj) {\n        this.cellSpacing = 8;\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n    TableConfig.prototype.toJSON = function () {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    };\n    return TableConfig;\n}());\nexports.TableConfig = TableConfig;\nvar BaseTextDefinition = /** @class */ (function () {\n    function BaseTextDefinition(obj) {\n        this.size = Enums.TextSize.Default;\n        this.color = Enums.TextColor.Default;\n        this.isSubtle = false;\n        this.weight = Enums.TextWeight.Default;\n        this.parse(obj);\n    }\n    BaseTextDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(Enums.TextWeight, obj[\"weight\"], this.getDefaultWeight());\n        }\n    };\n    BaseTextDefinition.prototype.getDefaultWeight = function () {\n        return Enums.TextWeight.Default;\n    };\n    BaseTextDefinition.prototype.toJSON = function () {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    };\n    return BaseTextDefinition;\n}());\nexports.BaseTextDefinition = BaseTextDefinition;\nvar TextStyleDefinition = /** @class */ (function (_super) {\n    __extends(TextStyleDefinition, _super);\n    function TextStyleDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.fontType = Enums.FontType.Default;\n        return _this;\n    }\n    TextStyleDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    };\n    return TextStyleDefinition;\n}(BaseTextDefinition));\nexports.TextStyleDefinition = TextStyleDefinition;\nvar TextStyleSet = /** @class */ (function () {\n    function TextStyleSet(obj) {\n        this.default = new TextStyleDefinition();\n        this.heading = new TextStyleDefinition({\n            size: \"Large\",\n            weight: \"Bolder\"\n        });\n        this.columnHeader = new TextStyleDefinition({\n            weight: \"Bolder\"\n        });\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n    TextStyleSet.prototype.getStyleByName = function (name) {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    };\n    return TextStyleSet;\n}());\nexports.TextStyleSet = TextStyleSet;\nvar TextBlockConfig = /** @class */ (function () {\n    function TextBlockConfig(obj) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n    return TextBlockConfig;\n}());\nexports.TextBlockConfig = TextBlockConfig;\nvar RequiredInputLabelTextDefinition = /** @class */ (function (_super) {\n    __extends(RequiredInputLabelTextDefinition, _super);\n    function RequiredInputLabelTextDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.suffix = \" *\";\n        _this.suffixColor = Enums.TextColor.Attention;\n        return _this;\n    }\n    RequiredInputLabelTextDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(Enums.TextColor, obj[\"suffixColor\"], this.suffixColor);\n        }\n    };\n    RequiredInputLabelTextDefinition.prototype.toJSON = function () {\n        var result = _super.prototype.toJSON.call(this);\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n        return result;\n    };\n    return RequiredInputLabelTextDefinition;\n}(BaseTextDefinition));\nexports.RequiredInputLabelTextDefinition = RequiredInputLabelTextDefinition;\nvar InputLabelConfig = /** @class */ (function () {\n    function InputLabelConfig(obj) {\n        this.inputSpacing = Enums.Spacing.Small;\n        this.width = 30;\n        this.requiredInputs = new RequiredInputLabelTextDefinition();\n        this.optionalInputs = new BaseTextDefinition();\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(Enums.Spacing, obj[\"inputSpacing\"], this.inputSpacing);\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n    return InputLabelConfig;\n}());\nexports.InputLabelConfig = InputLabelConfig;\nvar InputConfig = /** @class */ (function () {\n    function InputConfig(obj) {\n        this.label = new InputLabelConfig();\n        this.errorMessage = new BaseTextDefinition({\n            color: Enums.TextColor.Attention\n        });\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n        }\n    }\n    return InputConfig;\n}());\nexports.InputConfig = InputConfig;\nvar FactTextDefinition = /** @class */ (function (_super) {\n    __extends(FactTextDefinition, _super);\n    function FactTextDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.wrap = true;\n        return _this;\n    }\n    FactTextDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    };\n    FactTextDefinition.prototype.toJSON = function () {\n        var result = _super.prototype.toJSON.call(this);\n        result[\"wrap\"] = this.wrap;\n        return result;\n    };\n    return FactTextDefinition;\n}(BaseTextDefinition));\nexports.FactTextDefinition = FactTextDefinition;\nvar FactTitleDefinition = /** @class */ (function (_super) {\n    __extends(FactTitleDefinition, _super);\n    function FactTitleDefinition(obj) {\n        var _this = _super.call(this, obj) || this;\n        _this.maxWidth = 150;\n        _this.weight = Enums.TextWeight.Bolder;\n        if (obj) {\n            _this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : _this.maxWidth;\n            _this.weight = parseHostConfigEnum(Enums.TextWeight, obj[\"weight\"], Enums.TextWeight.Bolder);\n        }\n        return _this;\n    }\n    FactTitleDefinition.prototype.getDefaultWeight = function () {\n        return Enums.TextWeight.Bolder;\n    };\n    return FactTitleDefinition;\n}(FactTextDefinition));\nexports.FactTitleDefinition = FactTitleDefinition;\nvar FactSetConfig = /** @class */ (function () {\n    function FactSetConfig(obj) {\n        this.title = new FactTitleDefinition();\n        this.value = new FactTextDefinition();\n        this.spacing = 10;\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n    return FactSetConfig;\n}());\nexports.FactSetConfig = FactSetConfig;\nvar ShowCardActionConfig = /** @class */ (function () {\n    function ShowCardActionConfig(obj) {\n        this.actionMode = Enums.ShowCardActionMode.Inline;\n        this.inlineTopMargin = 16;\n        this.style = Enums.ContainerStyle.Emphasis;\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(Enums.ShowCardActionMode, obj[\"actionMode\"], Enums.ShowCardActionMode.Inline);\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n    ShowCardActionConfig.prototype.toJSON = function () {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    };\n    return ShowCardActionConfig;\n}());\nexports.ShowCardActionConfig = ShowCardActionConfig;\nvar ActionsConfig = /** @class */ (function () {\n    function ActionsConfig(obj) {\n        this.maxActions = 5;\n        this.spacing = Enums.Spacing.Default;\n        this.buttonSpacing = 20;\n        this.showCard = new ShowCardActionConfig();\n        this.preExpandSingleShowCardAction = false;\n        this.actionsOrientation = Enums.Orientation.Horizontal;\n        this.actionAlignment = Enums.ActionAlignment.Left;\n        this.iconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n        this.allowTitleToWrap = false;\n        this.iconSize = 16;\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(Enums.Spacing, obj.spacing && obj.spacing, Enums.Spacing.Default);\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(obj[\"preExpandSingleShowCardAction\"], false);\n            this.actionsOrientation = parseHostConfigEnum(Enums.Orientation, obj[\"actionsOrientation\"], Enums.Orientation.Horizontal);\n            this.actionAlignment = parseHostConfigEnum(Enums.ActionAlignment, obj[\"actionAlignment\"], Enums.ActionAlignment.Left);\n            this.iconPlacement = parseHostConfigEnum(Enums.ActionIconPlacement, obj[\"iconPlacement\"], Enums.ActionIconPlacement.LeftOfTitle);\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n            try {\n                var sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            }\n            catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n    ActionsConfig.prototype.toJSON = function () {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    };\n    return ActionsConfig;\n}());\nexports.ActionsConfig = ActionsConfig;\nvar ColorSetDefinition = /** @class */ (function () {\n    function ColorSetDefinition(obj) {\n        this.default = new TextColorDefinition();\n        this.dark = new TextColorDefinition();\n        this.light = new TextColorDefinition();\n        this.accent = new TextColorDefinition();\n        this.good = new TextColorDefinition();\n        this.warning = new TextColorDefinition();\n        this.attention = new TextColorDefinition();\n        this.parse(obj);\n    }\n    ColorSetDefinition.prototype.parseSingleColor = function (obj, propertyName) {\n        if (obj) {\n            this[propertyName].parse(obj[propertyName]);\n        }\n    };\n    ColorSetDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    };\n    return ColorSetDefinition;\n}());\nexports.ColorSetDefinition = ColorSetDefinition;\nvar ContainerStyleDefinition = /** @class */ (function () {\n    function ContainerStyleDefinition(obj) {\n        this.foregroundColors = new ColorSetDefinition({\n            \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n            \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n            \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n            \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n            \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n            \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n            \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n        });\n        this.parse(obj);\n    }\n    ContainerStyleDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n            this.borderColor = obj[\"borderColor\"];\n        }\n    };\n    Object.defineProperty(ContainerStyleDefinition.prototype, \"isBuiltIn\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerStyleDefinition;\n}());\nexports.ContainerStyleDefinition = ContainerStyleDefinition;\nvar BuiltInContainerStyleDefinition = /** @class */ (function (_super) {\n    __extends(BuiltInContainerStyleDefinition, _super);\n    function BuiltInContainerStyleDefinition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BuiltInContainerStyleDefinition.prototype, \"isBuiltIn\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BuiltInContainerStyleDefinition;\n}(ContainerStyleDefinition));\nvar ContainerStyleSet = /** @class */ (function () {\n    function ContainerStyleSet(obj) {\n        this._allStyles = {};\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(obj[Enums.ContainerStyle.Emphasis]);\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(obj[Enums.ContainerStyle.Attention]);\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n            var customStyleArray = obj[\"customStyles\"];\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (var _i = 0, customStyleArray_1 = customStyleArray; _i < customStyleArray_1.length; _i++) {\n                    var customStyle = customStyleArray_1[_i];\n                    if (customStyle) {\n                        var styleName = customStyle[\"name\"];\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            }\n                            else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(customStyle[\"style\"]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    ContainerStyleSet.prototype.toJSON = function () {\n        var _this = this;\n        var customStyleArray = [];\n        Object.keys(this._allStyles).forEach(function (key) {\n            if (!_this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: _this._allStyles[key]\n                });\n            }\n        });\n        var result = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n        return result;\n    };\n    ContainerStyleSet.prototype.getStyleByName = function (name, defaultValue) {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        }\n        else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    };\n    Object.defineProperty(ContainerStyleSet.prototype, \"default\", {\n        get: function () {\n            return this._allStyles[Enums.ContainerStyle.Default];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContainerStyleSet.prototype, \"emphasis\", {\n        get: function () {\n            return this._allStyles[Enums.ContainerStyle.Emphasis];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerStyleSet;\n}());\nexports.ContainerStyleSet = ContainerStyleSet;\nvar FontTypeDefinition = /** @class */ (function () {\n    function FontTypeDefinition(fontFamily) {\n        this.fontFamily = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n        this.fontSizes = {\n            small: 12,\n            default: 14,\n            medium: 17,\n            large: 21,\n            extraLarge: 26\n        };\n        this.fontWeights = {\n            lighter: 200,\n            default: 400,\n            bolder: 600\n        };\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n    FontTypeDefinition.prototype.parse = function (obj) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    };\n    FontTypeDefinition.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n    return FontTypeDefinition;\n}());\nexports.FontTypeDefinition = FontTypeDefinition;\nvar FontTypeSet = /** @class */ (function () {\n    function FontTypeSet(obj) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n    FontTypeSet.prototype.getStyleDefinition = function (style) {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    };\n    return FontTypeSet;\n}());\nexports.FontTypeSet = FontTypeSet;\nvar CarouselConfig = /** @class */ (function () {\n    function CarouselConfig(obj) {\n        this.maxCarouselPages = 10;\n        this.minAutoplayDelay = 5000.0;\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n    CarouselConfig.prototype.toJSON = function () {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    };\n    return CarouselConfig;\n}());\nexports.CarouselConfig = CarouselConfig;\nvar HostConfig = /** @class */ (function () {\n    function HostConfig(obj) {\n        this.hostCapabilities = new host_capabilities_1.HostCapabilities();\n        this.choiceSetInputValueSeparator = \",\";\n        this.supportsInteractivity = true;\n        this.spacing = {\n            small: 3,\n            default: 8,\n            medium: 20,\n            large: 30,\n            extraLarge: 40,\n            padding: 15\n        };\n        this.separator = {\n            lineThickness: 1,\n            lineColor: \"#EEEEEE\"\n        };\n        this.imageSizes = {\n            small: 40,\n            medium: 80,\n            large: 160\n        };\n        this.containerStyles = new ContainerStyleSet();\n        this.inputs = new InputConfig();\n        this.actions = new ActionsConfig();\n        this.adaptiveCard = new AdaptiveCardConfig();\n        this.imageSet = new ImageSetConfig();\n        this.media = new MediaConfig();\n        this.factSet = new FactSetConfig();\n        this.table = new TableConfig();\n        this.textStyles = new TextStyleSet();\n        this.textBlock = new TextBlockConfig();\n        this.carousel = new CarouselConfig();\n        this.alwaysAllowBleed = false;\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj);\n            }\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n            this.separator = {\n                lineThickness: (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n    HostConfig.prototype.getFontTypeDefinition = function (style) {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        }\n        else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    };\n    HostConfig.prototype.getEffectiveSpacing = function (spacing) {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    };\n    HostConfig.prototype.paddingDefinitionToSpacingDefinition = function (paddingDefinition) {\n        return new Shared.SpacingDefinition(this.getEffectiveSpacing(paddingDefinition.top), this.getEffectiveSpacing(paddingDefinition.right), this.getEffectiveSpacing(paddingDefinition.bottom), this.getEffectiveSpacing(paddingDefinition.left));\n    };\n    HostConfig.prototype.makeCssClassNames = function () {\n        var classNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            classNames[_i] = arguments[_i];\n        }\n        var result = [];\n        for (var _a = 0, classNames_1 = classNames; _a < classNames_1.length; _a++) {\n            var className = classNames_1[_a];\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n        return result;\n    };\n    HostConfig.prototype.makeCssClassName = function () {\n        var classNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            classNames[_i] = arguments[_i];\n        }\n        var result = this.makeCssClassNames.apply(this, classNames).join(\" \");\n        return result ? result : \"\";\n    };\n    Object.defineProperty(HostConfig.prototype, \"fontFamily\", {\n        get: function () {\n            return this._legacyFontType.fontFamily;\n        },\n        set: function (value) {\n            this._legacyFontType.fontFamily = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HostConfig.prototype, \"fontSizes\", {\n        get: function () {\n            return this._legacyFontType.fontSizes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HostConfig.prototype, \"fontWeights\", {\n        get: function () {\n            return this._legacyFontType.fontWeights;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return HostConfig;\n}());\nexports.HostConfig = HostConfig;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexports.defaultHostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        }\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    }\n});\n//# sourceMappingURL=host-config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalRegistry = exports.CardObjectRegistry = void 0;\nvar serialization_1 = require(\"./serialization\");\nvar CardObjectRegistry = /** @class */ (function () {\n    function CardObjectRegistry() {\n        this._items = {};\n    }\n    CardObjectRegistry.prototype.findByName = function (typeName) {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    };\n    CardObjectRegistry.prototype.clear = function () {\n        this._items = {};\n    };\n    CardObjectRegistry.prototype.copyTo = function (target) {\n        var keys = Object.keys(this._items);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var typeRegistration = this._items[key];\n            target.register(typeRegistration.typeName, typeRegistration.objectType, typeRegistration.schemaVersion);\n        }\n    };\n    CardObjectRegistry.prototype.register = function (typeName, objectType, schemaVersion) {\n        if (schemaVersion === void 0) { schemaVersion = serialization_1.Versions.v1_0; }\n        var registrationInfo = this.findByName(typeName);\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        }\n        else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n        this._items[typeName] = registrationInfo;\n    };\n    CardObjectRegistry.prototype.unregister = function (typeName) {\n        delete this._items[typeName];\n    };\n    CardObjectRegistry.prototype.createInstance = function (typeName, targetVersion) {\n        var registrationInfo = this.findByName(typeName);\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    };\n    CardObjectRegistry.prototype.getItemCount = function () {\n        return Object.keys(this._items).length;\n    };\n    CardObjectRegistry.prototype.getItemAt = function (index) {\n        var _this = this;\n        return Object.keys(this._items).map(function (e) { return _this._items[e]; })[index];\n    };\n    return CardObjectRegistry;\n}());\nexports.CardObjectRegistry = CardObjectRegistry;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar GlobalRegistry = /** @class */ (function () {\n    function GlobalRegistry() {\n    }\n    GlobalRegistry.populateWithDefaultElements = function (registry) {\n        registry.clear();\n        GlobalRegistry.defaultElements.copyTo(registry);\n    };\n    GlobalRegistry.populateWithDefaultActions = function (registry) {\n        registry.clear();\n        GlobalRegistry.defaultActions.copyTo(registry);\n    };\n    Object.defineProperty(GlobalRegistry, \"elements\", {\n        get: function () {\n            if (!GlobalRegistry._elements) {\n                GlobalRegistry._elements = new CardObjectRegistry();\n                GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n            }\n            return GlobalRegistry._elements;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalRegistry, \"actions\", {\n        get: function () {\n            if (!GlobalRegistry._actions) {\n                GlobalRegistry._actions = new CardObjectRegistry();\n                GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n            }\n            return GlobalRegistry._actions;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GlobalRegistry.reset = function () {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    };\n    GlobalRegistry.defaultElements = new CardObjectRegistry();\n    GlobalRegistry.defaultActions = new CardObjectRegistry();\n    return GlobalRegistry;\n}());\nexports.GlobalRegistry = GlobalRegistry;\n//# sourceMappingURL=registry.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardObject = exports.ValidationResults = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar shared_1 = require(\"./shared\");\nvar host_capabilities_1 = require(\"./host-capabilities\");\nvar serialization_1 = require(\"./serialization\");\nvar ValidationResults = /** @class */ (function () {\n    function ValidationResults() {\n        this.allIds = {};\n        this.validationEvents = [];\n    }\n    ValidationResults.prototype.addFailure = function (cardObject, event, message) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    };\n    return ValidationResults;\n}());\nexports.ValidationResults = ValidationResults;\nvar CardObject = /** @class */ (function (_super) {\n    __extends(CardObject, _super);\n    function CardObject() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //#endregion\n        _this._shouldFallback = false;\n        return _this;\n    }\n    CardObject.prototype.getSchemaKey = function () {\n        return this.getJsonTypeName();\n    };\n    Object.defineProperty(CardObject.prototype, \"requires\", {\n        get: function () {\n            return this.getValue(CardObject.requiresProperty);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    CardObject.prototype.contains = function (node) {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n        return false;\n    };\n    CardObject.prototype.preProcessPropertyValue = function (prop, propertyValue) {\n        var value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n        if (shared_1.GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var currentObject = this;\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n        return value;\n    };\n    CardObject.prototype.setParent = function (value) {\n        this._parent = value;\n    };\n    CardObject.prototype.setShouldFallback = function (value) {\n        this._shouldFallback = value;\n    };\n    CardObject.prototype.shouldFallback = function () {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    };\n    CardObject.prototype.getRootObject = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var currentObject = this;\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n        return currentObject;\n    };\n    CardObject.prototype.internalValidateProperties = function (context) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(this, Enums.ValidationEvent.DuplicateId, strings_1.Strings.errors.duplicateId(this.id));\n                }\n                context.allIds[this.id] += 1;\n            }\n            else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    };\n    CardObject.prototype.validateProperties = function () {\n        var result = new ValidationResults();\n        this.internalValidateProperties(result);\n        return result;\n    };\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    CardObject.prototype.findDOMNodeOwner = function (node) {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    };\n    CardObject.prototype.releaseDOMResources = function () {\n        // Do nothing in base implementation\n    };\n    Object.defineProperty(CardObject.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardObject.prototype, \"renderedElement\", {\n        get: function () {\n            return this._renderedElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardObject.typeNameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"type\", undefined, undefined, undefined, function (sender) {\n        return sender.getJsonTypeName();\n    });\n    CardObject.idProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"id\");\n    CardObject.requiresProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_2, \"requires\", host_capabilities_1.HostCapabilities, false, new host_capabilities_1.HostCapabilities());\n    __decorate([\n        (0, serialization_1.property)(CardObject.idProperty)\n    ], CardObject.prototype, \"id\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardObject.requiresProperty)\n    ], CardObject.prototype, \"requires\", null);\n    return CardObject;\n}(serialization_1.SerializableObject));\nexports.CardObject = CardObject;\n//# sourceMappingURL=card-object.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatText = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar AbstractTextFormatter = /** @class */ (function () {\n    function AbstractTextFormatter(regularExpression) {\n        this._regularExpression = regularExpression;\n    }\n    AbstractTextFormatter.prototype.format = function (lang, input) {\n        var matches;\n        if (input) {\n            var result = input;\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n            return result;\n        }\n        else {\n            return input;\n        }\n    };\n    return AbstractTextFormatter;\n}());\nvar DateFormatter = /** @class */ (function (_super) {\n    __extends(DateFormatter, _super);\n    function DateFormatter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DateFormatter.prototype.internalFormat = function (lang, matches) {\n        var date = new Date(Date.parse(matches[1]));\n        var format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            });\n        }\n        else {\n            return date.toLocaleDateString();\n        }\n    };\n    return DateFormatter;\n}(AbstractTextFormatter));\nvar TimeFormatter = /** @class */ (function (_super) {\n    __extends(TimeFormatter, _super);\n    function TimeFormatter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeFormatter.prototype.internalFormat = function (lang, matches) {\n        var date = new Date(Date.parse(matches[1]));\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    };\n    return TimeFormatter;\n}(AbstractTextFormatter));\nfunction formatText(lang, text) {\n    var formatters = [\n        new DateFormatter(/\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g),\n        new TimeFormatter(/\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g)\n    ];\n    var result = text;\n    for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n        var formatter = formatters_1[_i];\n        result = formatter.format(lang, result);\n    }\n    return result;\n}\nexports.formatText = formatText;\n//# sourceMappingURL=text-formatters.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Constants = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    };\n    return Constants;\n}());\nexports.Constants = Constants;\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuItem = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar host_config_1 = require(\"../host-config\");\nvar constants_1 = require(\"./constants\");\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(key, value) {\n        this._isEnabled = true;\n        this.key = key;\n        this._value = value;\n    }\n    MenuItem.prototype.click = function () {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    };\n    MenuItem.prototype.updateCssClasses = function () {\n        if (this._element) {\n            var effectiveHostConfig = this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(effectiveHostConfig.makeCssClassName(this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"));\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    };\n    MenuItem.prototype.toString = function () {\n        return this.value;\n    };\n    MenuItem.prototype.render = function (hostConfig) {\n        var _this = this;\n        this._hostConfig = hostConfig;\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.innerText = this.value;\n            this._element.setAttribute(\"role\", \"menuitem\");\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = function (_e) {\n                _this.click();\n            };\n            this._element.onkeydown = function (e) {\n                if (e.key === constants_1.Constants.keys.enter) {\n                    e.cancelBubble = true;\n                    _this.click();\n                }\n            };\n            this.updateCssClasses();\n        }\n        return this._element;\n    };\n    Object.defineProperty(MenuItem.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        set: function (newValue) {\n            this._value = newValue;\n            if (this._element) {\n                this._element.innerText = newValue;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MenuItem.prototype, \"isEnabled\", {\n        get: function () {\n            return this._isEnabled;\n        },\n        set: function (value) {\n            if (this._isEnabled !== value) {\n                this._isEnabled = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MenuItem;\n}());\nexports.MenuItem = MenuItem;\n//# sourceMappingURL=menu-item.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Collection = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Collection = /** @class */ (function () {\n    function Collection() {\n        this._items = [];\n    }\n    Collection.prototype.get = function (index) {\n        return this._items[index];\n    };\n    Collection.prototype.add = function (item) {\n        this._items.push(item);\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    };\n    Collection.prototype.remove = function (item) {\n        var i = this._items.indexOf(item);\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    };\n    Collection.prototype.indexOf = function (item) {\n        return this._items.indexOf(item);\n    };\n    Object.defineProperty(Collection.prototype, \"length\", {\n        get: function () {\n            return this._items.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Collection;\n}());\nexports.Collection = Collection;\n//# sourceMappingURL=collection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupControl = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar Utils = require(\"../utils\");\nvar host_config_1 = require(\"../host-config\");\nvar PopupControl = /** @class */ (function () {\n    function PopupControl() {\n        this._isOpen = false;\n    }\n    PopupControl.prototype.keyDown = function (e) {\n        switch (e.key) {\n            case constants_1.Constants.keys.escape:\n                this.closePopup(true);\n                break;\n        }\n    };\n    PopupControl.prototype.render = function (_rootElementBounds) {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = function (e) {\n            _this.keyDown(e);\n            return !e.cancelBubble;\n        };\n        element.appendChild(this.renderContent());\n        return element;\n    };\n    PopupControl.prototype.focus = function () {\n        if (this._popupElement) {\n            this._popupElement.firstElementChild.focus();\n        }\n    };\n    PopupControl.prototype.popup = function (rootElement) {\n        var _a, _b, _c, _d, _f;\n        var _this = this;\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = function (_e) {\n                _this.closePopup(true);\n            };\n            document.body.appendChild(this._overlayElement);\n            var rootElementBounds = rootElement.getBoundingClientRect();\n            this._popupElement = this.render(rootElementBounds);\n            (_a = this._popupElement.classList).remove.apply(_a, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\", \"ac-ctrl-slideRightToLeft\", \"ac-ctrl-slideTopToBottom\", \"ac-ctrl-slideRightToLeft\"));\n            window.addEventListener(\"resize\", function (_e) {\n                _this.closePopup(true);\n            });\n            var rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n            this._overlayElement.appendChild(this._popupElement);\n            var popupElementBounds = this._popupElement.getBoundingClientRect();\n            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            var availableSpaceAbove = rootElementBounds.top;\n            var availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            var availableSpaceLeft = rootElementBounds.left;\n            var left = rootElementBounds.left + Utils.getScrollX();\n            var top_1;\n            if (availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height) {\n                // Not enough space above or below root element\n                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top_1 = Utils.getScrollY();\n                }\n                else {\n                    top_1 =\n                        Utils.getScrollY() +\n                            rootElementBounds.top +\n                            (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n                if (availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width) {\n                    // Not enough space left or right of root element\n                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() +\n                                rootElementBounds.left +\n                                (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                }\n                else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n                        (_b = this._popupElement.classList).add.apply(_b, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\"));\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n                        (_c = this._popupElement.classList).add.apply(_c, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideRightToLeft\"));\n                    }\n                }\n            }\n            else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top_1 = Utils.getScrollY() + rootElementBounds.bottom;\n                    (_d = this._popupElement.classList).add.apply(_d, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideTopToBottom\"));\n                }\n                else {\n                    top_1 = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n                    (_f = this._popupElement.classList).add.apply(_f, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideBottomToTop\"));\n                }\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top_1 + \"px\";\n            this._popupElement.focus();\n            this._isOpen = true;\n        }\n    };\n    PopupControl.prototype.closePopup = function (wasCancelled) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n            this._isOpen = false;\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    };\n    Object.defineProperty(PopupControl.prototype, \"hostConfig\", {\n        get: function () {\n            return this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n        },\n        set: function (value) {\n            this._hostConfig = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupControl.prototype, \"isOpen\", {\n        get: function () {\n            return this._isOpen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupControl;\n}());\nexports.PopupControl = PopupControl;\n//# sourceMappingURL=popup-control.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupMenu = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar collection_1 = require(\"./collection\");\nvar popup_control_1 = require(\"./popup-control\");\nvar PopupMenu = /** @class */ (function (_super) {\n    __extends(PopupMenu, _super);\n    function PopupMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._items = new collection_1.Collection();\n        _this._renderedItems = [];\n        _this._selectedIndex = -1;\n        return _this;\n    }\n    PopupMenu.prototype.renderContent = function () {\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n        for (var i = 0; i < this._items.length; i++) {\n            var renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n            element.appendChild(renderedItem);\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n            this._renderedItems.push(renderedItem);\n        }\n        return element;\n    };\n    PopupMenu.prototype.keyDown = function (e) {\n        _super.prototype.keyDown.call(this, e);\n        var selectedItemIndex = this._selectedIndex;\n        switch (e.key) {\n            case constants_1.Constants.keys.tab:\n                this.closePopup(true);\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case constants_1.Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                }\n                else {\n                    selectedItemIndex--;\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n            case constants_1.Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                }\n                else {\n                    selectedItemIndex++;\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n        }\n    };\n    Object.defineProperty(PopupMenu.prototype, \"items\", {\n        get: function () {\n            return this._items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupMenu.prototype, \"selectedIndex\", {\n        get: function () {\n            return this._selectedIndex;\n        },\n        set: function (index) {\n            if (index >= 0 && index < this._renderedItems.length) {\n                this._renderedItems[index].focus();\n                this._selectedIndex = index;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupMenu;\n}(popup_control_1.PopupControl));\nexports.PopupMenu = PopupMenu;\n//# sourceMappingURL=popup-menu.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n__exportStar(require(\"./menu-item\"), exports);\n__exportStar(require(\"./popup-menu\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContainerWithActions = exports.ColumnSet = exports.Column = exports.Container = exports.BackgroundImage = exports.ContainerBase = exports.StylableCardElementContainer = exports.ContainerStyleProperty = exports.ActionSet = exports.ShowCardAction = exports.HttpAction = exports.HttpHeader = exports.ToggleVisibilityAction = exports.OpenUrlAction = exports.ExecuteAction = exports.SubmitAction = exports.SubmitActionBase = exports.Action = exports.TimeInput = exports.TimeProperty = exports.DateInput = exports.NumberInput = exports.ChoiceSetInput = exports.Choice = exports.ToggleInput = exports.TextInput = exports.Input = exports.Media = exports.YouTubePlayer = exports.DailymotionPlayer = exports.VimeoPlayer = exports.IFrameMediaMediaPlayer = exports.CustomMediaPlayer = exports.HTML5MediaPlayer = exports.MediaPlayer = exports.MediaSource = exports.CaptionSource = exports.ContentSource = exports.ImageSet = exports.CardElementContainer = exports.Image = exports.FactSet = exports.Fact = exports.RichTextBlock = exports.TextRun = exports.TextBlock = exports.BaseTextBlock = exports.ActionProperty = exports.CardElement = exports.renderSeparation = void 0;\nexports.SerializationContext = exports.AdaptiveCard = exports.Authentication = exports.TokenExchangeResource = exports.AuthCardButton = exports.RefreshDefinition = exports.RefreshActionProperty = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar shared_1 = require(\"./shared\");\nvar Utils = require(\"./utils\");\nvar host_config_1 = require(\"./host-config\");\nvar TextFormatters = require(\"./text-formatters\");\nvar card_object_1 = require(\"./card-object\");\nvar serialization_1 = require(\"./serialization\");\nvar registry_1 = require(\"./registry\");\nvar strings_1 = require(\"./strings\");\nvar controls_1 = require(\"./controls\");\nfunction clearElement(element) {\n    var _a, _b;\n    var trustedHtml = (typeof window === 'undefined') ? \"\" : ((_b = (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.emptyHTML) !== null && _b !== void 0 ? _b : \"\");\n    element.innerHTML = trustedHtml;\n}\nfunction renderSeparation(hostConfig, separationDefinition, orientation) {\n    if (separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)) {\n        var separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\"ac-\" +\n            (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n            \"-separator\");\n        separator.setAttribute(\"aria-hidden\", \"true\");\n        var color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            }\n            else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        }\n        else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            }\n            else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n        return separator;\n    }\n    else {\n        return undefined;\n    }\n}\nexports.renderSeparation = renderSeparation;\nvar CardElement = /** @class */ (function (_super) {\n    __extends(CardElement, _super);\n    function CardElement() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._truncatedDueToOverflow = false;\n        return _this;\n    }\n    Object.defineProperty(CardElement.prototype, \"lang\", {\n        get: function () {\n            var lang = this.getValue(CardElement.langProperty);\n            if (lang) {\n                return lang;\n            }\n            else {\n                if (this.parent) {\n                    return this.parent.lang;\n                }\n                else {\n                    return undefined;\n                }\n            }\n        },\n        set: function (value) {\n            this.setValue(CardElement.langProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isVisible\", {\n        get: function () {\n            return this.getValue(CardElement.isVisibleProperty);\n        },\n        set: function (value) {\n            // If the element is going to be hidden, reset any changes that were due\n            // to overflow truncation (this ensures that if the element is later\n            // un-hidden it has the right content)\n            if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n                this.undoOverflowTruncation();\n            }\n            if (this.isVisible !== value) {\n                this.setValue(CardElement.isVisibleProperty, value);\n                this.updateRenderedElementVisibility();\n                if (this._renderedElement) {\n                    raiseElementVisibilityChangedEvent(this);\n                }\n            }\n            if (this._renderedElement) {\n                this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.prototype.internalRenderSeparator = function () {\n        var renderedSeparator = renderSeparation(this.hostConfig, {\n            spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n            lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n            lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n        }, this.separatorOrientation);\n        if (shared_1.GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            var parentContainer = this.getParentContainer();\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                var parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(parentContainer.getEffectivePadding());\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n        return renderedSeparator;\n    };\n    CardElement.prototype.updateRenderedElementVisibility = function () {\n        var displayMode = this.isDesignMode() || this.isVisible\n            ? this._defaultRenderedElementDisplayMode\n            : \"none\";\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            }\n            else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            }\n            else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                }\n                else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    };\n    CardElement.prototype.hideElementDueToOverflow = function () {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    };\n    CardElement.prototype.showElementHiddenDueToOverflow = function () {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    };\n    // Marked private to emulate internal access\n    CardElement.prototype.handleOverflow = function (maxHeight) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            var handled = this.truncateOverflow(maxHeight);\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            }\n            else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    };\n    // Marked private to emulate internal access\n    CardElement.prototype.resetOverflow = function () {\n        var sizeChanged = false;\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n        return sizeChanged;\n    };\n    CardElement.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext();\n    };\n    CardElement.prototype.createPlaceholderElement = function () {\n        var styleDefinition = this.getEffectiveStyleDefinition();\n        var foregroundCssColor = Utils.stringToCssColor(styleDefinition.foregroundColors.default.subtle);\n        var element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n        element.innerText = \"Empty \" + this.getJsonTypeName();\n        return element;\n    };\n    CardElement.prototype.adjustRenderedElementSize = function (renderedElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        }\n        else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    };\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    CardElement.prototype.updateInputsVisualState = function (hover) {\n        var allInputs = this.getAllInputs();\n        var inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach(function (input) { return input.updateVisualState(inputEventType); });\n    };\n    CardElement.prototype.isDisplayed = function () {\n        return (this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0);\n    };\n    CardElement.prototype.overrideInternalRender = function () {\n        return this.internalRender();\n    };\n    CardElement.prototype.applyPadding = function () {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (shared_1.GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                var padding = new shared_1.PaddingDefinition();\n                this.getImmediateSurroundingPadding(padding);\n                var physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            }\n            else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    };\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    CardElement.prototype.truncateOverflow = function (_maxHeight) {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    };\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    CardElement.prototype.undoOverflowTruncation = function () {\n        return;\n    };\n    CardElement.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition();\n    };\n    CardElement.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        return false;\n    };\n    CardElement.prototype.getHasBorder = function () {\n        return false;\n    };\n    CardElement.prototype.getPadding = function () {\n        return this._padding;\n    };\n    CardElement.prototype.setPadding = function (value) {\n        this._padding = value;\n    };\n    CardElement.prototype.shouldSerialize = function (context) {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    };\n    Object.defineProperty(CardElement.prototype, \"useDefaultSizing\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"separatorOrientation\", {\n        get: function () {\n            return Enums.Orientation.Horizontal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"defaultStyle\", {\n        get: function () {\n            return Enums.ContainerStyle.Default;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.prototype.parse = function (source, context) {\n        _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n    };\n    CardElement.prototype.asString = function () {\n        return \"\";\n    };\n    CardElement.prototype.isBleeding = function () {\n        return false;\n    };\n    CardElement.prototype.getEffectiveStyle = function () {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n        return this.defaultStyle;\n    };\n    CardElement.prototype.getEffectiveStyleDefinition = function () {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    };\n    CardElement.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n        return this.hostConfig.textStyles.default;\n    };\n    CardElement.prototype.getForbiddenActionTypes = function () {\n        return [];\n    };\n    CardElement.prototype.getImmediateSurroundingPadding = function (result, processTop, processRight, processBottom, processLeft) {\n        if (processTop === void 0) { processTop = true; }\n        if (processRight === void 0) { processRight = true; }\n        if (processBottom === void 0) { processBottom = true; }\n        if (processLeft === void 0) { processLeft = true; }\n        if (this.parent) {\n            var doProcessTop = processTop && this.parent.isTopElement(this);\n            var doProcessRight = processRight && this.parent.isRightMostElement(this);\n            var doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            var doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n            var effectivePadding = this.parent.getEffectivePadding();\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n                    doProcessTop = false;\n                }\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n                    doProcessRight = false;\n                }\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n                    doProcessBottom = false;\n                }\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n                    doProcessLeft = false;\n                }\n            }\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(result, doProcessTop, doProcessRight, doProcessBottom, doProcessLeft);\n            }\n        }\n    };\n    CardElement.prototype.getActionCount = function () {\n        return 0;\n    };\n    CardElement.prototype.getActionAt = function (index) {\n        throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n    };\n    CardElement.prototype.indexOfAction = function (action) {\n        for (var i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    CardElement.prototype.remove = function () {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n        return false;\n    };\n    CardElement.prototype.render = function () {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        }\n        else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n        return this._renderedElement;\n    };\n    CardElement.prototype.updateLayout = function (_processChildren) {\n        if (_processChildren === void 0) { _processChildren = true; }\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    };\n    CardElement.prototype.updateActionsEnabledState = function () {\n        var allActions = this.getRootElement().getAllActions();\n        for (var _i = 0, allActions_1 = allActions; _i < allActions_1.length; _i++) {\n            var action = allActions_1[_i];\n            action.updateEnabledState();\n        }\n    };\n    CardElement.prototype.indexOf = function (_cardElement) {\n        return -1;\n    };\n    CardElement.prototype.isDesignMode = function () {\n        var rootElement = this.getRootElement();\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    };\n    CardElement.prototype.isFirstElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isLastElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isAtTheVeryLeft = function () {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryRight = function () {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryTop = function () {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryBottom = function () {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    };\n    CardElement.prototype.isBleedingAtTop = function () {\n        return false;\n    };\n    CardElement.prototype.isBleedingAtBottom = function () {\n        return false;\n    };\n    CardElement.prototype.isLeftMostElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isRightMostElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isTopElement = function (element) {\n        return this.isFirstElement(element);\n    };\n    CardElement.prototype.isBottomElement = function (element) {\n        return this.isLastElement(element);\n    };\n    CardElement.prototype.isHiddenDueToOverflow = function () {\n        return (this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\");\n    };\n    CardElement.prototype.getRootElement = function () {\n        return this.getRootObject();\n    };\n    CardElement.prototype.getParentContainer = function () {\n        var currentElement = this.parent;\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n            currentElement = currentElement.parent;\n        }\n        return undefined;\n    };\n    CardElement.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [];\n    };\n    CardElement.prototype.getAllActions = function () {\n        var result = [];\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                result.push(action);\n            }\n        }\n        return result;\n    };\n    CardElement.prototype.getResourceInformation = function () {\n        return [];\n    };\n    CardElement.prototype.getElementById = function (id) {\n        return this.id === id ? this : undefined;\n    };\n    CardElement.prototype.getActionById = function (_id) {\n        return undefined;\n    };\n    CardElement.prototype.getElementByIdFromAction = function (id) {\n        var result = undefined;\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    };\n    CardElement.prototype.getEffectivePadding = function () {\n        var padding = this.getPadding();\n        return padding ? padding : this.getDefaultPadding();\n    };\n    CardElement.prototype.getEffectiveHorizontalAlignment = function () {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n        return Enums.HorizontalAlignment.Left;\n    };\n    Object.defineProperty(CardElement.prototype, \"hostConfig\", {\n        get: function () {\n            if (this._hostConfig) {\n                return this._hostConfig;\n            }\n            else {\n                if (this.parent) {\n                    return this.parent.hostConfig;\n                }\n                else {\n                    return host_config_1.defaultHostConfig;\n                }\n            }\n        },\n        set: function (value) {\n            this._hostConfig = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"index\", {\n        get: function () {\n            if (this.parent) {\n                return this.parent.indexOf(this);\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isInteractive\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isStandalone\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isInline\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            if (this.parent && this.separatorElement) {\n                return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n            }\n            else {\n                return false;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"separatorElement\", {\n        get: function () {\n            return this._separatorElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.langProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"lang\", true, /^[a-z]{2,3}$/gi);\n    CardElement.isVisibleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"isVisible\", true);\n    CardElement.separatorProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"separator\", false);\n    CardElement.heightProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_1, \"height\", [{ value: \"auto\" }, { value: \"stretch\" }], \"auto\");\n    CardElement.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"horizontalAlignment\", Enums.HorizontalAlignment);\n    CardElement.spacingProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"spacing\", Enums.Spacing, Enums.Spacing.Default);\n    __decorate([\n        (0, serialization_1.property)(CardElement.horizontalAlignmentProperty)\n    ], CardElement.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.spacingProperty)\n    ], CardElement.prototype, \"spacing\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.separatorProperty)\n    ], CardElement.prototype, \"separator\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.heightProperty)\n    ], CardElement.prototype, \"height\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.langProperty)\n    ], CardElement.prototype, \"lang\", null);\n    __decorate([\n        (0, serialization_1.property)(CardElement.isVisibleProperty)\n    ], CardElement.prototype, \"isVisible\", null);\n    return CardElement;\n}(card_object_1.CardObject));\nexports.CardElement = CardElement;\nvar ActionProperty = /** @class */ (function (_super) {\n    __extends(ActionProperty, _super);\n    function ActionProperty(targetVersion, name, forbiddenActionTypes) {\n        if (forbiddenActionTypes === void 0) { forbiddenActionTypes = []; }\n        var _this = _super.call(this, targetVersion, name, undefined) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.forbiddenActionTypes = forbiddenActionTypes;\n        return _this;\n    }\n    ActionProperty.prototype.parse = function (sender, source, context) {\n        var parent = sender;\n        return context.parseAction(parent, source[this.name], this.forbiddenActionTypes, parent.isDesignMode());\n    };\n    ActionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n    };\n    return ActionProperty;\n}(serialization_1.PropertyDefinition));\nexports.ActionProperty = ActionProperty;\nvar BaseTextBlock = /** @class */ (function (_super) {\n    __extends(BaseTextBlock, _super);\n    function BaseTextBlock(text) {\n        var _this = _super.call(this) || this;\n        _this.ariaHidden = false;\n        if (text) {\n            _this.text = text;\n        }\n        return _this;\n    }\n    BaseTextBlock.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    };\n    Object.defineProperty(BaseTextBlock.prototype, \"text\", {\n        get: function () {\n            return this.getValue(BaseTextBlock.textProperty);\n        },\n        set: function (value) {\n            this.setText(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#endregion\n    BaseTextBlock.prototype.getFontSize = function (fontType) {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    };\n    BaseTextBlock.prototype.getColorDefinition = function (colorSet, color) {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    };\n    BaseTextBlock.prototype.setText = function (value) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    };\n    BaseTextBlock.prototype.init = function (textDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    };\n    BaseTextBlock.prototype.asString = function () {\n        return this.text;\n    };\n    BaseTextBlock.prototype.applyStylesTo = function (targetElement) {\n        var fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n        var fontSize;\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n        targetElement.style.fontSize = fontSize + \"px\";\n        var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n        var targetColor = Utils.stringToCssColor(this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default);\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n        var fontWeight;\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n        targetElement.style.fontWeight = fontWeight.toString();\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    };\n    BaseTextBlock.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n        return result;\n    };\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveColor\", {\n        get: function () {\n            return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveFontType\", {\n        get: function () {\n            return this.fontType !== undefined\n                ? this.fontType\n                : this.getEffectiveTextStyleDefinition().fontType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveIsSubtle\", {\n        get: function () {\n            return this.isSubtle !== undefined\n                ? this.isSubtle\n                : this.getEffectiveTextStyleDefinition().isSubtle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveSize\", {\n        get: function () {\n            return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveWeight\", {\n        get: function () {\n            return this.weight !== undefined\n                ? this.weight\n                : this.getEffectiveTextStyleDefinition().weight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    BaseTextBlock.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"text\", true);\n    BaseTextBlock.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.TextSize);\n    BaseTextBlock.weightProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"weight\", Enums.TextWeight);\n    BaseTextBlock.colorProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"color\", Enums.TextColor);\n    BaseTextBlock.isSubtleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isSubtle\");\n    BaseTextBlock.fontTypeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fontType\", Enums.FontType);\n    BaseTextBlock.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.sizeProperty)\n    ], BaseTextBlock.prototype, \"size\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.weightProperty)\n    ], BaseTextBlock.prototype, \"weight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.colorProperty)\n    ], BaseTextBlock.prototype, \"color\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.fontTypeProperty)\n    ], BaseTextBlock.prototype, \"fontType\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.isSubtleProperty)\n    ], BaseTextBlock.prototype, \"isSubtle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.textProperty)\n    ], BaseTextBlock.prototype, \"text\", null);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.selectActionProperty)\n    ], BaseTextBlock.prototype, \"selectAction\", void 0);\n    return BaseTextBlock;\n}(CardElement));\nexports.BaseTextBlock = BaseTextBlock;\nvar TextBlock = /** @class */ (function (_super) {\n    __extends(TextBlock, _super);\n    function TextBlock() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.wrap = false;\n        _this._treatAsPlainText = true;\n        _this.useMarkdown = true;\n        return _this;\n    }\n    TextBlock.prototype.restoreOriginalContent = function () {\n        var _a, _b;\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n            var originalHtml = (_b = (_a = TextBlock._ttRoundtripPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._originalInnerHtml)) !== null && _b !== void 0 ? _b : this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml;\n        }\n    };\n    TextBlock.prototype.truncateIfSupported = function (maxHeight) {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            var children = this.renderedElement.children;\n            var isTextOnly = !children.length;\n            var truncationSupported = isTextOnly ||\n                (children.length === 1 && children[0].tagName.toLowerCase() === \"p\" && !children[0].children.length);\n            if (truncationSupported) {\n                var element = isTextOnly ? this.renderedElement : children[0];\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n                return true;\n            }\n        }\n        return false;\n    };\n    TextBlock.prototype.setText = function (value) {\n        _super.prototype.setText.call(this, value);\n        this._processedText = undefined;\n    };\n    TextBlock.prototype.internalRender = function () {\n        var _this = this;\n        var _a, _b;\n        this._processedText = undefined;\n        if (this.text) {\n            var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            var hostConfig = this.hostConfig;\n            var element = void 0;\n            if (this.forElementId) {\n                var labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n                element = labelElement;\n            }\n            else {\n                element = document.createElement(\"div\");\n            }\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n            this.applyStylesTo(element);\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n                var headingLevel = this.hostConfig.textBlock.headingLevel;\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(element);\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n                var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n                if (this.useMarkdown && formattedText) {\n                    if (shared_1.GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n                    var markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n                    if (markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (shared_1.GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            var markStyle = \"\";\n                            var effectiveStyle = this.getEffectiveStyleDefinition();\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                        effectiveStyle.highlightBackgroundColor +\n                                        \";\";\n                            }\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    }\n                    else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                }\n                else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            }\n            else {\n                var processedHtml = (_b = (_a = TextBlock._ttMarkdownPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._processedText)) !== null && _b !== void 0 ? _b : this._processedText;\n                element.innerHTML = processedHtml;\n            }\n            if (element.firstElementChild instanceof HTMLElement) {\n                var firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n            var anchors = element.getElementsByTagName(\"a\");\n            var _loop_1 = function (anchor) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = function (e) {\n                    if (raiseAnchorClickedEvent(_this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = function (e) {\n                    if (raiseAnchorClickedEvent(_this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        return false;\n                    }\n                    return true;\n                };\n            };\n            for (var _i = 0, _c = Array.from(anchors); _i < _c.length; _i++) {\n                var anchor = _c[_i];\n                _loop_1(anchor);\n            }\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n                    if (Utils.isInternetExplorer() || !shared_1.GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    }\n                    else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            }\n            else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n            if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation ||\n                shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n            return element;\n        }\n        else {\n            return undefined;\n        }\n    };\n    TextBlock.prototype.truncateOverflow = function (maxHeight) {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n        return false;\n    };\n    TextBlock.prototype.undoOverflowTruncation = function () {\n        this.restoreOriginalContent();\n        if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            var maxHeight = this._computedLineHeight * this.maxLines;\n            this.truncateIfSupported(maxHeight);\n        }\n    };\n    TextBlock.prototype.applyStylesTo = function (targetElement) {\n        _super.prototype.applyStylesTo.call(this, targetElement);\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n        var lineHeights = this.hostConfig.lineHeights;\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        }\n        else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                    1.33;\n        }\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    };\n    TextBlock.prototype.getJsonTypeName = function () {\n        return \"TextBlock\";\n    };\n    TextBlock.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n        return _super.prototype.getEffectiveTextStyleDefinition.call(this);\n    };\n    TextBlock.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = false; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    };\n    var _a, _b;\n    TextBlock.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"wrap\", false);\n    TextBlock.maxLinesProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLines\");\n    TextBlock.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    TextBlock._ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(\"adaptivecards#markdownPassthroughPolicy\", { createHTML: function (value) { return value; } });\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    TextBlock._ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : (_b = window.trustedTypes) === null || _b === void 0 ? void 0 : _b.createPolicy(\"adaptivecards#restoreContentsPolicy\", { createHTML: function (value) { return value; } });\n    __decorate([\n        (0, serialization_1.property)(TextBlock.wrapProperty)\n    ], TextBlock.prototype, \"wrap\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextBlock.maxLinesProperty)\n    ], TextBlock.prototype, \"maxLines\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextBlock.styleProperty)\n    ], TextBlock.prototype, \"style\", void 0);\n    return TextBlock;\n}(BaseTextBlock));\nexports.TextBlock = TextBlock;\nvar TextRun = /** @class */ (function (_super) {\n    __extends(TextRun, _super);\n    function TextRun() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.italic = false;\n        _this.strikethrough = false;\n        _this.highlight = false;\n        _this.underline = false;\n        return _this;\n    }\n    TextRun.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.add(BaseTextBlock.selectActionProperty);\n    };\n    //#endregion\n    TextRun.prototype.internalRender = function () {\n        var _this = this;\n        if (this.text) {\n            var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            var hostConfig = this.hostConfig;\n            var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n            var element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n            this.applyStylesTo(element);\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                var anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                var href = this.selectAction.getHref();\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(anchor);\n                anchor.innerText = formattedText;\n                element.appendChild(anchor);\n            }\n            else {\n                element.innerText = formattedText;\n            }\n            return element;\n        }\n        else {\n            return undefined;\n        }\n    };\n    TextRun.prototype.applyStylesTo = function (targetElement) {\n        _super.prototype.applyStylesTo.call(this, targetElement);\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n        if (this.highlight) {\n            var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n            var backgroundColor = Utils.stringToCssColor(this.effectiveIsSubtle\n                ? colorDefinition.highlightColors.subtle\n                : colorDefinition.highlightColors.default);\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    };\n    TextRun.prototype.getJsonTypeName = function () {\n        return \"TextRun\";\n    };\n    Object.defineProperty(TextRun.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextRun.prototype, \"isInline\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextRun.italicProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"italic\", false);\n    TextRun.strikethroughProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"strikethrough\", false);\n    TextRun.highlightProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"highlight\", false);\n    TextRun.underlineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"underline\", false);\n    __decorate([\n        (0, serialization_1.property)(TextRun.italicProperty)\n    ], TextRun.prototype, \"italic\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.strikethroughProperty)\n    ], TextRun.prototype, \"strikethrough\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.highlightProperty)\n    ], TextRun.prototype, \"highlight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.underlineProperty)\n    ], TextRun.prototype, \"underline\", void 0);\n    return TextRun;\n}(BaseTextBlock));\nexports.TextRun = TextRun;\nvar RichTextBlock = /** @class */ (function (_super) {\n    __extends(RichTextBlock, _super);\n    function RichTextBlock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._inlines = [];\n        return _this;\n    }\n    RichTextBlock.prototype.internalAddInline = function (inline, forceAdd) {\n        if (forceAdd === void 0) { forceAdd = false; }\n        if (!inline.isInline) {\n            throw new Error(strings_1.Strings.errors.elementCannotBeUsedAsInline());\n        }\n        var doAdd = inline.parent === undefined || forceAdd;\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(strings_1.Strings.errors.inlineAlreadyParented());\n        }\n        else {\n            inline.setParent(this);\n            this._inlines.push(inline);\n        }\n    };\n    RichTextBlock.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._inlines = [];\n        if (Array.isArray(source[\"inlines\"])) {\n            for (var _i = 0, _a = source[\"inlines\"]; _i < _a.length; _i++) {\n                var jsonInline = _a[_i];\n                var inline = void 0;\n                if (typeof jsonInline === \"string\") {\n                    var textRun = new TextRun();\n                    textRun.text = jsonInline;\n                    inline = textRun;\n                }\n                else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    };\n    RichTextBlock.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        if (this._inlines.length > 0) {\n            var jsonInlines = [];\n            for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n                var inline = _a[_i];\n                jsonInlines.push(inline.toJSON(context));\n            }\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    };\n    RichTextBlock.prototype.internalRender = function () {\n        if (this._inlines.length > 0) {\n            var element = void 0;\n            if (this.forElementId) {\n                var labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n                element = labelElement;\n            }\n            else {\n                element = document.createElement(\"div\");\n            }\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n            var renderedInlines = 0;\n            for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n                var inline = _a[_i];\n                var renderedInline = inline.render();\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n                    renderedInlines++;\n                }\n            }\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n        return undefined;\n    };\n    RichTextBlock.prototype.asString = function () {\n        var result = \"\";\n        for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n            var inline = _a[_i];\n            result += inline.asString();\n        }\n        return result;\n    };\n    RichTextBlock.prototype.getJsonTypeName = function () {\n        return \"RichTextBlock\";\n    };\n    RichTextBlock.prototype.getInlineCount = function () {\n        return this._inlines.length;\n    };\n    RichTextBlock.prototype.getInlineAt = function (index) {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n        }\n    };\n    RichTextBlock.prototype.addInline = function (inline) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        }\n        else {\n            this.internalAddInline(inline);\n        }\n    };\n    RichTextBlock.prototype.removeInline = function (inline) {\n        var index = this._inlines.indexOf(inline);\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n            return true;\n        }\n        return false;\n    };\n    return RichTextBlock;\n}(CardElement));\nexports.RichTextBlock = RichTextBlock;\nvar Fact = /** @class */ (function (_super) {\n    __extends(Fact, _super);\n    function Fact(name, value) {\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.value = value;\n        return _this;\n    }\n    //#endregion\n    Fact.prototype.getSchemaKey = function () {\n        return \"Fact\";\n    };\n    //#region Schema\n    Fact.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Fact.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(Fact.titleProperty)\n    ], Fact.prototype, \"name\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Fact.valueProperty)\n    ], Fact.prototype, \"value\", void 0);\n    return Fact;\n}(serialization_1.SerializableObject));\nexports.Fact = Fact;\nvar FactSet = /** @class */ (function (_super) {\n    __extends(FactSet, _super);\n    function FactSet() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FactSet.prototype, \"useDefaultSizing\", {\n        //#endregion\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FactSet.prototype.internalRender = function () {\n        var element = undefined;\n        var hostConfig = this.hostConfig;\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n            for (var i = 0; i < this.facts.length; i++) {\n                var trElement = document.createElement(\"tr\");\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n                // Title column\n                var tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n                tdElement.style.verticalAlign = \"top\";\n                var textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n                Utils.appendChild(trElement, tdElement);\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n        return element;\n    };\n    FactSet.prototype.getJsonTypeName = function () {\n        return \"FactSet\";\n    };\n    //#region Schema\n    FactSet.factsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"facts\", Fact);\n    __decorate([\n        (0, serialization_1.property)(FactSet.factsProperty)\n    ], FactSet.prototype, \"facts\", void 0);\n    return FactSet;\n}(CardElement));\nexports.FactSet = FactSet;\nvar ImageDimensionProperty = /** @class */ (function (_super) {\n    __extends(ImageDimensionProperty, _super);\n    function ImageDimensionProperty(targetVersion, name, internalName, fallbackProperty) {\n        var _this = _super.call(this, targetVersion, name) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.internalName = internalName;\n        _this.fallbackProperty = fallbackProperty;\n        return _this;\n    }\n    ImageDimensionProperty.prototype.getInternalName = function () {\n        return this.internalName;\n    };\n    ImageDimensionProperty.prototype.parse = function (sender, source, context) {\n        var result = undefined;\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n        var isValid = false;\n        if (typeof sourceValue === \"string\") {\n            try {\n                var size = shared_1.SizeAndUnit.parse(sourceValue, true);\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n                    isValid = true;\n                }\n            }\n            catch (_a) {\n                // Swallow the exception\n            }\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n        if (!isValid) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        }\n        return result;\n    };\n    ImageDimensionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined);\n    };\n    return ImageDimensionProperty;\n}(serialization_1.PropertyDefinition));\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.size = Enums.Size.Auto;\n        _this.style = Enums.ImageStyle.Default;\n        return _this;\n    }\n    Image.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.remove(CardElement.heightProperty);\n    };\n    //#endregion\n    Image.prototype.applySize = function (element) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        }\n        else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                switch (this.size) {\n                    case Enums.Size.Small:\n                        element.style.height = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.height = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    default:\n                        element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n                element.style.maxHeight = this.maxHeight + \"px\";\n            }\n            else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    case Enums.Size.Small:\n                        element.style.width = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.width = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    case Enums.Size.Medium:\n                        element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    };\n    Object.defineProperty(Image.prototype, \"useDefaultSizing\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Image.prototype.internalRender = function () {\n        var _this = this;\n        var element = undefined;\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            var hostConfig = this.hostConfig;\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n            var imageElement = document.createElement(\"img\");\n            this.renderedImageElement = imageElement;\n            imageElement.onload = function (_e) {\n                raiseImageLoadedEvent(_this);\n            };\n            imageElement.onerror = function (_e) {\n                if (_this.renderedElement) {\n                    var card = _this.getRootElement();\n                    clearElement(_this.renderedElement);\n                    if (card && card.designMode) {\n                        var errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n                        _this.applySize(errorElement);\n                        _this.renderedElement.appendChild(errorElement);\n                    }\n                }\n                raiseImageLoadedEvent(_this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = function (e) {\n                    if (_this.selectAction &&\n                        _this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                imageElement.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(imageElement);\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n            this.applySize(imageElement);\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n            var backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n            this.setImageSource(imageElement);\n            var altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = altTextProperty;\n            }\n            element.appendChild(imageElement);\n        }\n        return element;\n    };\n    Image.prototype.getJsonTypeName = function () {\n        return \"Image\";\n    };\n    Image.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n        return result;\n    };\n    Image.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n        return result;\n    };\n    Image.prototype.getResourceInformation = function () {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    };\n    Image.prototype.setImageSource = function (imageElement) {\n        var imageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    };\n    Image.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    Image.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"altText\");\n    Image.backgroundColorProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"backgroundColor\");\n    Image.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.ImageStyle, Enums.ImageStyle.Default);\n    Image.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.Size, Enums.Size.Auto);\n    Image.pixelWidthProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"width\", \"pixelWidth\");\n    Image.pixelHeightProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"height\", \"pixelHeight\", CardElement.heightProperty);\n    Image.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    Image.shouldForceLoadProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"forceLoad\", false);\n    __decorate([\n        (0, serialization_1.property)(Image.urlProperty)\n    ], Image.prototype, \"url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.altTextProperty)\n    ], Image.prototype, \"altText\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.backgroundColorProperty)\n    ], Image.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.sizeProperty)\n    ], Image.prototype, \"size\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.styleProperty)\n    ], Image.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.pixelWidthProperty)\n    ], Image.prototype, \"pixelWidth\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.pixelHeightProperty)\n    ], Image.prototype, \"pixelHeight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.selectActionProperty)\n    ], Image.prototype, \"selectAction\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.shouldForceLoadProperty)\n    ], Image.prototype, \"forceLoad\", void 0);\n    return Image;\n}(CardElement));\nexports.Image = Image;\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nvar ImageForceLoader = /** @class */ (function () {\n    function ImageForceLoader(doForceLoad, url) {\n        this.doForceLoad = doForceLoad;\n        this.url = url;\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n    ImageForceLoader.prototype.configureImage = function (image) {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    };\n    ImageForceLoader.prototype.resetImage = function (image) {\n        image.url = this.url;\n    };\n    return ImageForceLoader;\n}());\nvar CardElementContainer = /** @class */ (function (_super) {\n    __extends(CardElementContainer, _super);\n    function CardElementContainer() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allowVerticalOverflow = false;\n        return _this;\n    }\n    CardElementContainer.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    };\n    //#endregion\n    CardElementContainer.prototype.isElementAllowed = function (element) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    };\n    CardElementContainer.prototype.applyPadding = function () {\n        _super.prototype.applyPadding.call(this);\n        if (!this.renderedElement) {\n            return;\n        }\n        var physicalPadding = new shared_1.SpacingDefinition();\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n        }\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    };\n    Object.defineProperty(CardElementContainer.prototype, \"isSelectable\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElementContainer.prototype.forbiddenChildElements = function () {\n        return [];\n    };\n    CardElementContainer.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    };\n    CardElementContainer.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            var item = this.getItemAt(i);\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n            }\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(item.getJsonTypeName()));\n            }\n            item.internalValidateProperties(context);\n        }\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    };\n    CardElementContainer.prototype.render = function () {\n        var _this = this;\n        var element = _super.prototype.render.call(this);\n        if (element) {\n            var hostConfig = this.hostConfig;\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n            if (element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity) {\n                element.onclick = function (e) {\n                    if (_this._selectAction && _this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this._selectAction.execute();\n                    }\n                };\n                element.onkeypress = function (e) {\n                    if (_this._selectAction &&\n                        _this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this._selectAction.execute();\n                    }\n                };\n                this._selectAction.setupElementForAccessibility(element);\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n        return element;\n    };\n    CardElementContainer.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = true; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (processChildren) {\n            for (var i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    };\n    CardElementContainer.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = [];\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getAllInputs(processActions));\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getAllActions());\n        }\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getResourceInformation = function () {\n        var result = [];\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getResourceInformation());\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            for (var i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    };\n    /**\n     * @inheritdoc\n     */\n    CardElementContainer.prototype.findDOMNodeOwner = function (node) {\n        var _a;\n        var target = undefined;\n        for (var i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n            if (target) {\n                return target;\n            }\n        }\n        // If not found in children, check the actions\n        for (var i = 0; i < this.getActionCount(); i++) {\n            target = (_a = this.getActionAt(i)) === null || _a === void 0 ? void 0 : _a.findDOMNodeOwner(node);\n            if (target) {\n                return target;\n            }\n        }\n        // if not found in children or actions, defer to parent implementation\n        return _super.prototype.findDOMNodeOwner.call(this, node);\n    };\n    CardElementContainer.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    __decorate([\n        (0, serialization_1.property)(CardElementContainer.selectActionProperty)\n    ], CardElementContainer.prototype, \"_selectAction\", void 0);\n    return CardElementContainer;\n}(CardElement));\nexports.CardElementContainer = CardElementContainer;\nvar ImageSet = /** @class */ (function (_super) {\n    __extends(ImageSet, _super);\n    function ImageSet() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._images = [];\n        _this.imageSize = Enums.ImageSize.Medium;\n        _this.presentationStyle = Enums.ImageSetPresentationStyle.Default;\n        _this.pixelOffset = 0;\n        return _this;\n    }\n    //#endregion\n    ImageSet.prototype.internalRender = function () {\n        var element = undefined;\n        if (this._images.length > 0) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n            for (var _i = 0, _a = this._images; _i < _a.length; _i++) {\n                var image = _a[_i];\n                switch (this.imageSize) {\n                    case Enums.ImageSize.Small:\n                        image.size = Enums.Size.Small;\n                        break;\n                    case Enums.ImageSize.Large:\n                        image.size = Enums.Size.Large;\n                        break;\n                    default:\n                        image.size = Enums.Size.Medium;\n                        break;\n                }\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n                var renderedImage = image.render();\n                if (renderedImage) {\n                    renderedImage.style.display = \"inline-flex\";\n                    renderedImage.style.margin = \"0px\";\n                    if (this.presentationStyle == Enums.ImageSetPresentationStyle.Default) {\n                        renderedImage.style.marginRight = \"10px\";\n                    }\n                    Utils.appendChild(element, renderedImage);\n                }\n            }\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        return element;\n    };\n    ImageSet.prototype.applyStackedPresentationStyle = function () {\n        if (this._images[0].renderedImageElement) {\n            var dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            var bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                var stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    };\n    ImageSet.prototype.getEffectiveBackgroundColor = function () {\n        var parentContainer = this.getParentContainer();\n        var style = parentContainer === null || parentContainer === void 0 ? void 0 : parentContainer.getEffectiveStyle();\n        var styleDefinition = this.hostConfig.containerStyles.getStyleByName(style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    };\n    ImageSet.prototype.getItemCount = function () {\n        return this._images.length;\n    };\n    ImageSet.prototype.getItemAt = function (index) {\n        return this._images[index];\n    };\n    ImageSet.prototype.getFirstVisibleRenderedItem = function () {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    };\n    ImageSet.prototype.getLastVisibleRenderedItem = function () {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    };\n    ImageSet.prototype.removeItem = function (item) {\n        if (item instanceof Image) {\n            var itemIndex = this._images.indexOf(item);\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    ImageSet.prototype.getJsonTypeName = function () {\n        return \"ImageSet\";\n    };\n    ImageSet.prototype.addImage = function (image) {\n        if (!image.parent) {\n            this._images.push(image);\n            image.setParent(this);\n        }\n        else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    };\n    ImageSet.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    };\n    ImageSet.imagesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"images\", Image, function (sender, item) {\n        item.setParent(sender);\n    });\n    ImageSet.imageSizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"imageSize\", Enums.ImageSize, Enums.ImageSize.Medium);\n    ImageSet.imagePresentationStyle = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"style\", Enums.ImageSetPresentationStyle, Enums.ImageSetPresentationStyle.Default);\n    ImageSet.pixelOffset = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"offset\", 0, undefined);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imagesProperty)\n    ], ImageSet.prototype, \"_images\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imageSizeProperty)\n    ], ImageSet.prototype, \"imageSize\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imagePresentationStyle)\n    ], ImageSet.prototype, \"presentationStyle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.pixelOffset)\n    ], ImageSet.prototype, \"pixelOffset\", void 0);\n    return ImageSet;\n}(CardElementContainer));\nexports.ImageSet = ImageSet;\nvar StackedImageConfigurator = /** @class */ (function () {\n    function StackedImageConfigurator(offset, dimension, style) {\n        this.sign45 = 0.7071;\n        this.maxImageCounts = 2;\n        this.offset = 0;\n        this.normalizationConstant = 0;\n        this.border = 5;\n        this.dimension = 0;\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n    StackedImageConfigurator.prototype.moveImageRight = function (element) {\n        element.style.marginLeft = this.offset + \"px\";\n    };\n    StackedImageConfigurator.prototype.moveImageUp = function (element) {\n        element.style.marginBottom = this.offset + this.dimension + \"px\";\n    };\n    StackedImageConfigurator.prototype.moveImageDown = function (element) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    };\n    StackedImageConfigurator.prototype.makeImageRound = function (element) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    };\n    StackedImageConfigurator.prototype.applyBorder = function (element) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    };\n    StackedImageConfigurator.prototype.configureImageForBottomLeft = function (element) {\n        this.moveImageDown(element);\n        this.makeImageRound(element);\n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    };\n    StackedImageConfigurator.prototype.configureImageForTopRight = function (element) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element);\n        element.style.zIndex = \"1\";\n    };\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    StackedImageConfigurator.prototype.configureImagesArrayAsStackedLayout = function (elements) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement);\n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    };\n    StackedImageConfigurator.parseNumericPixelDimension = function (dimension) {\n        if ((dimension === null || dimension === void 0 ? void 0 : dimension.substring(dimension.length - 2)) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    };\n    return StackedImageConfigurator;\n}());\nvar ContentSource = /** @class */ (function (_super) {\n    __extends(ContentSource, _super);\n    //#endregion\n    function ContentSource(url, mimeType) {\n        var _this = _super.call(this) || this;\n        _this.url = url;\n        _this.mimeType = mimeType;\n        return _this;\n    }\n    ContentSource.prototype.isValid = function () {\n        return this.mimeType && this.url ? true : false;\n    };\n    //#region Schema\n    ContentSource.mimeTypeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"mimeType\");\n    ContentSource.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"url\");\n    __decorate([\n        (0, serialization_1.property)(ContentSource.mimeTypeProperty)\n    ], ContentSource.prototype, \"mimeType\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ContentSource.urlProperty)\n    ], ContentSource.prototype, \"url\", void 0);\n    return ContentSource;\n}(serialization_1.SerializableObject));\nexports.ContentSource = ContentSource;\nvar CaptionSource = /** @class */ (function (_super) {\n    __extends(CaptionSource, _super);\n    //#endregion\n    function CaptionSource(url, mimeType, label) {\n        var _this = _super.call(this, url, mimeType) || this;\n        _this.label = label;\n        return _this;\n    }\n    CaptionSource.prototype.getSchemaKey = function () {\n        return \"CaptionSource\";\n    };\n    CaptionSource.prototype.render = function () {\n        var result = undefined;\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url;\n            result.kind = \"captions\";\n            result.label = this.label;\n        }\n        return result;\n    };\n    //#region Schema\n    CaptionSource.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_6, \"label\");\n    __decorate([\n        (0, serialization_1.property)(CaptionSource.labelProperty)\n    ], CaptionSource.prototype, \"label\", void 0);\n    return CaptionSource;\n}(ContentSource));\nexports.CaptionSource = CaptionSource;\nvar MediaSource = /** @class */ (function (_super) {\n    __extends(MediaSource, _super);\n    function MediaSource() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MediaSource.prototype.getSchemaKey = function () {\n        return \"MediaSource\";\n    };\n    MediaSource.prototype.render = function () {\n        var result = undefined;\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url;\n            result.type = this.mimeType;\n        }\n        return result;\n    };\n    return MediaSource;\n}(ContentSource));\nexports.MediaSource = MediaSource;\nvar MediaPlayer = /** @class */ (function () {\n    function MediaPlayer() {\n    }\n    MediaPlayer.prototype.play = function () {\n        // Do nothing in base implementation\n    };\n    Object.defineProperty(MediaPlayer.prototype, \"posterUrl\", {\n        get: function () {\n            return this._posterUrl;\n        },\n        set: function (value) {\n            this._posterUrl = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MediaPlayer.prototype, \"selectedMediaType\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MediaPlayer;\n}());\nexports.MediaPlayer = MediaPlayer;\nvar HTML5MediaPlayer = /** @class */ (function (_super) {\n    __extends(HTML5MediaPlayer, _super);\n    function HTML5MediaPlayer(owner) {\n        var _this = _super.call(this) || this;\n        _this.owner = owner;\n        _this._selectedSources = [];\n        _this._captionSources = [];\n        _this.processSources();\n        return _this;\n    }\n    HTML5MediaPlayer.prototype.processSources = function () {\n        var _a;\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n        for (var _i = 0, _b = this.owner.sources; _i < _b.length; _i++) {\n            var source = _b[_i];\n            var mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    var index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n        (_a = this._captionSources).push.apply(_a, this.owner.captionSources);\n    };\n    HTML5MediaPlayer.prototype.canPlay = function () {\n        return this._selectedSources.length > 0;\n    };\n    HTML5MediaPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    HTML5MediaPlayer.prototype.render = function () {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        }\n        else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n        this._mediaElement.setAttribute(\"aria-label\", this.owner.altText ? this.owner.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n        for (var _i = 0, _a = this.owner.sources; _i < _a.length; _i++) {\n            var source = _a[_i];\n            var renderedSource = source.render();\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n        for (var _b = 0, _c = this.owner.captionSources; _b < _c.length; _b++) {\n            var captionSource = _c[_b];\n            if (captionSource.mimeType == \"vtt\") {\n                var renderedCaptionSource = captionSource.render();\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n        return this._mediaElement;\n    };\n    HTML5MediaPlayer.prototype.play = function () {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    };\n    Object.defineProperty(HTML5MediaPlayer.prototype, \"selectedMediaType\", {\n        get: function () {\n            return this._selectedMediaType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTML5MediaPlayer.supportedMediaTypes = [\"audio\", \"video\"];\n    return HTML5MediaPlayer;\n}(MediaPlayer));\nexports.HTML5MediaPlayer = HTML5MediaPlayer;\nvar CustomMediaPlayer = /** @class */ (function (_super) {\n    __extends(CustomMediaPlayer, _super);\n    function CustomMediaPlayer(matches) {\n        return _super.call(this) || this;\n    }\n    return CustomMediaPlayer;\n}(MediaPlayer));\nexports.CustomMediaPlayer = CustomMediaPlayer;\nvar IFrameMediaMediaPlayer = /** @class */ (function (_super) {\n    __extends(IFrameMediaMediaPlayer, _super);\n    function IFrameMediaMediaPlayer(matches, iFrameTitle) {\n        var _this = _super.call(this, matches) || this;\n        _this.iFrameTitle = iFrameTitle;\n        if (matches.length >= 2) {\n            _this._videoId = matches[1];\n        }\n        return _this;\n    }\n    IFrameMediaMediaPlayer.prototype.canPlay = function () {\n        return this._videoId !== undefined;\n    };\n    IFrameMediaMediaPlayer.prototype.render = function () {\n        var container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n        var iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n        container.appendChild(iFrame);\n        return container;\n    };\n    Object.defineProperty(IFrameMediaMediaPlayer.prototype, \"videoId\", {\n        get: function () {\n            return this._videoId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return IFrameMediaMediaPlayer;\n}(CustomMediaPlayer));\nexports.IFrameMediaMediaPlayer = IFrameMediaMediaPlayer;\nvar VimeoPlayer = /** @class */ (function (_super) {\n    __extends(VimeoPlayer, _super);\n    function VimeoPlayer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VimeoPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var oEmbedUrl, response, json;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        oEmbedUrl = \"https://vimeo.com/api/oembed.json?url=\".concat(this.getEmbedVideoUrl());\n                        return [4 /*yield*/, fetch(oEmbedUrl)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        json = _a.sent();\n                        this.posterUrl = json[\"thumbnail_url\"];\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VimeoPlayer.prototype.getEmbedVideoUrl = function () {\n        return \"https://player.vimeo.com/video/\".concat(this.videoId, \"?autoplay=1\");\n    };\n    return VimeoPlayer;\n}(IFrameMediaMediaPlayer));\nexports.VimeoPlayer = VimeoPlayer;\nvar DailymotionPlayer = /** @class */ (function (_super) {\n    __extends(DailymotionPlayer, _super);\n    function DailymotionPlayer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DailymotionPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var apiUrl, response, json;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        apiUrl = \"https://api.dailymotion.com/video/\".concat(this.videoId, \"?fields=thumbnail_720_url\");\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        json = _a.sent();\n                        this.posterUrl = json[\"thumbnail_720_url\"];\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DailymotionPlayer.prototype.getEmbedVideoUrl = function () {\n        return \"https://www.dailymotion.com/embed/video/\".concat(this.videoId, \"?autoplay=1\");\n    };\n    return DailymotionPlayer;\n}(IFrameMediaMediaPlayer));\nexports.DailymotionPlayer = DailymotionPlayer;\nvar YouTubePlayer = /** @class */ (function (_super) {\n    __extends(YouTubePlayer, _super);\n    function YouTubePlayer(matches, iFrameTitle) {\n        var _this = _super.call(this, matches, iFrameTitle) || this;\n        _this.iFrameTitle = iFrameTitle;\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            _this._startTimeIndex = parseInt(matches[2]);\n        }\n        return _this;\n    }\n    YouTubePlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.posterUrl = this.videoId\n                    ? \"https://img.youtube.com/vi/\".concat(this.videoId, \"/maxresdefault.jpg\")\n                    : undefined;\n                return [2 /*return*/];\n            });\n        });\n    };\n    YouTubePlayer.prototype.getEmbedVideoUrl = function () {\n        var url = \"https://www.youtube.com/embed/\".concat(this.videoId, \"?autoplay=1\");\n        if (this._startTimeIndex !== undefined) {\n            url += \"&start=\".concat(this._startTimeIndex);\n        }\n        return url;\n    };\n    return YouTubePlayer;\n}(IFrameMediaMediaPlayer));\nexports.YouTubePlayer = YouTubePlayer;\nvar Media = /** @class */ (function (_super) {\n    __extends(Media, _super);\n    function Media() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sources = [];\n        _this.captionSources = [];\n        return _this;\n    }\n    Media.prototype.createMediaPlayer = function () {\n        for (var _i = 0, _a = Media.customMediaPlayers; _i < _a.length; _i++) {\n            var provider = _a[_i];\n            for (var _b = 0, _c = this.sources; _b < _c.length; _b++) {\n                var source = _c[_b];\n                if (source.url) {\n                    for (var _d = 0, _f = provider.urlPatterns; _d < _f.length; _d++) {\n                        var pattern = _f[_d];\n                        var matches = pattern.exec(source.url);\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n        return new HTML5MediaPlayer(this);\n    };\n    Media.prototype.handlePlayButtonInvoke = function (event) {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n            if (this.renderedElement) {\n                var mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n                this._mediaPlayer.play();\n                mediaPlayerElement.focus();\n            }\n        }\n        else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n                Media.onPlay(this);\n            }\n        }\n    };\n    Media.prototype.displayPoster = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var playButtonArrowWidth, playButtonArrowHeight, posterRootElement_1, posterUrl, posterImageElement_1, playButtonOuterElement, playButtonInnerElement, playButtonContainer;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.renderedElement) {\n                    playButtonArrowWidth = 12;\n                    playButtonArrowHeight = 15;\n                    posterRootElement_1 = document.createElement(\"div\");\n                    posterRootElement_1.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n                    posterRootElement_1.setAttribute(\"role\", \"contentinfo\");\n                    posterRootElement_1.setAttribute(\"aria-label\", this.altText ? this.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n                    posterRootElement_1.style.position = \"relative\";\n                    posterRootElement_1.style.display = \"flex\";\n                    posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n                    if (!posterUrl) {\n                        posterUrl = this.hostConfig.media.defaultPoster;\n                    }\n                    if (posterUrl) {\n                        posterImageElement_1 = document.createElement(\"img\");\n                        posterImageElement_1.style.width = \"100%\";\n                        posterImageElement_1.style.height = \"100%\";\n                        posterImageElement_1.setAttribute(\"role\", \"presentation\");\n                        posterImageElement_1.onerror = function (_e) {\n                            if (posterImageElement_1.parentNode) {\n                                posterImageElement_1.parentNode.removeChild(posterImageElement_1);\n                            }\n                            posterRootElement_1.classList.add(\"empty\");\n                            posterRootElement_1.style.minHeight = \"150px\";\n                        };\n                        posterImageElement_1.src = posterUrl;\n                        posterRootElement_1.appendChild(posterImageElement_1);\n                    }\n                    else {\n                        posterRootElement_1.classList.add(\"empty\");\n                        posterRootElement_1.style.minHeight = \"150px\";\n                    }\n                    if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                        playButtonOuterElement = document.createElement(\"div\");\n                        playButtonOuterElement.tabIndex = 0;\n                        playButtonOuterElement.setAttribute(\"role\", \"button\");\n                        playButtonOuterElement.setAttribute(\"aria-label\", strings_1.Strings.defaults.mediaPlayerPlayMedia());\n                        playButtonOuterElement.className =\n                            this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                        playButtonOuterElement.style.display = \"flex\";\n                        playButtonOuterElement.style.alignItems = \"center\";\n                        playButtonOuterElement.style.justifyContent = \"center\";\n                        playButtonOuterElement.onclick = function (e) {\n                            _this.handlePlayButtonInvoke(e);\n                        };\n                        playButtonOuterElement.onkeypress = function (e) {\n                            if (e.code === \"Enter\" || e.code === \"Space\") {\n                                // space or enter\n                                _this.handlePlayButtonInvoke(e);\n                            }\n                        };\n                        playButtonInnerElement = document.createElement(\"div\");\n                        playButtonInnerElement.className = this.hostConfig.makeCssClassName(\"ac-media-playButton-arrow\");\n                        playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                        playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                        playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                        playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                        playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                        playButtonInnerElement.style.borderRightWidth = \"0\";\n                        playButtonInnerElement.style.borderStyle = \"solid\";\n                        playButtonInnerElement.style.borderTopColor = \"transparent\";\n                        playButtonInnerElement.style.borderRightColor = \"transparent\";\n                        playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                        playButtonInnerElement.style.transform =\n                            \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n                        playButtonOuterElement.appendChild(playButtonInnerElement);\n                        playButtonContainer = document.createElement(\"div\");\n                        playButtonContainer.style.position = \"absolute\";\n                        playButtonContainer.style.left = \"0\";\n                        playButtonContainer.style.top = \"0\";\n                        playButtonContainer.style.width = \"100%\";\n                        playButtonContainer.style.height = \"100%\";\n                        playButtonContainer.style.display = \"flex\";\n                        playButtonContainer.style.justifyContent = \"center\";\n                        playButtonContainer.style.alignItems = \"center\";\n                        playButtonContainer.appendChild(playButtonOuterElement);\n                        posterRootElement_1.appendChild(playButtonContainer);\n                    }\n                    clearElement(this.renderedElement);\n                    this.renderedElement.appendChild(posterRootElement_1);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Media.prototype.internalRender = function () {\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n        return element;\n    };\n    Media.prototype.render = function () {\n        var _this = this;\n        var result = _super.prototype.render.call(this);\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n            this._mediaPlayer.fetchVideoDetails().then(function () { return _this.displayPoster(); });\n        }\n        return result;\n    };\n    Media.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this.displayPoster();\n    };\n    Media.prototype.getJsonTypeName = function () {\n        return \"Media\";\n    };\n    Media.prototype.getResourceInformation = function () {\n        var result = [];\n        if (this._mediaPlayer) {\n            var posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {\n            var mediaSource = _a[_i];\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url,\n                    mimeType: mediaSource.mimeType\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n        for (var _b = 0, _c = this.captionSources; _b < _c.length; _b++) {\n            var captionSource = _c[_b];\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url,\n                    mimeType: captionSource.mimeType\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(Media.prototype, \"selectedMediaType\", {\n        get: function () {\n            return this._mediaPlayer.selectedMediaType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Media.customMediaPlayers = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: function (matches) {\n                return new YouTubePlayer(matches, strings_1.Strings.defaults.youTubeVideoPlayer());\n            }\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: function (matches) {\n                return new VimeoPlayer(matches, strings_1.Strings.defaults.vimeoVideoPlayer());\n            }\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: function (matches) {\n                return new DailymotionPlayer(matches, strings_1.Strings.defaults.dailymotionVideoPlayer());\n            }\n        }\n    ];\n    //#region Schema\n    Media.sourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_1, \"sources\", MediaSource);\n    Media.captionSourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_6, \"captionSources\", CaptionSource);\n    Media.posterProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"poster\");\n    Media.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"altText\");\n    __decorate([\n        (0, serialization_1.property)(Media.sourcesProperty)\n    ], Media.prototype, \"sources\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.captionSourcesProperty)\n    ], Media.prototype, \"captionSources\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.posterProperty)\n    ], Media.prototype, \"poster\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.altTextProperty)\n    ], Media.prototype, \"altText\", void 0);\n    return Media;\n}(CardElement));\nexports.Media = Media;\nvar InputEventType;\n(function (InputEventType) {\n    InputEventType[InputEventType[\"InitialRender\"] = 0] = \"InitialRender\";\n    InputEventType[InputEventType[\"MouseEnterOnCard\"] = 1] = \"MouseEnterOnCard\";\n    InputEventType[InputEventType[\"MouseLeaveOnCard\"] = 2] = \"MouseLeaveOnCard\";\n    InputEventType[InputEventType[\"FocusLeave\"] = 3] = \"FocusLeave\";\n})(InputEventType || (InputEventType = {}));\nvar Input = /** @class */ (function (_super) {\n    __extends(Input, _super);\n    function Input() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.inputStyle = Enums.InputStyle.Default;\n        return _this;\n    }\n    Input.prototype.getAllLabelIds = function () {\n        var labelIds = [];\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n        return labelIds;\n    };\n    Input.prototype.updateInputControlAriaLabelledBy = function () {\n        if (this._renderedInputControlElement) {\n            var labelIds = this.getAllLabelIds();\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\"aria-labelledby\", labelIds.join(\" \"));\n            }\n            else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    };\n    Object.defineProperty(Input.prototype, \"isNullable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"renderedInputControlElement\", {\n        get: function () {\n            return this._renderedInputControlElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"inputControlContainerElement\", {\n        get: function () {\n            return this._inputControlContainerElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.overrideInternalRender = function () {\n        var _this = this;\n        var hostConfig = this.hostConfig;\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        }\n        else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n        var renderedInputControlId = Utils.generateUniqueId();\n        if (this.label) {\n            var labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n            var labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n                var isRequiredCueInline = new TextRun(hostConfig.inputs.label.requiredInputs.suffix);\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            }\n            else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n            this._renderedLabelElement = labelRichTextBlock.render();\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                }\n                else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n        this._renderedInputControlElement = this.internalRender();\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n                this._renderedInputControlElement.classList.add(hostConfig.makeCssClassName(\"ac-input-required\"));\n            }\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    var defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    var labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    var labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = function (ev) {\n                    _this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n            return this._outerContainerElement;\n        }\n        this.resetDirtyState();\n        return undefined;\n    };\n    Input.prototype.valueChanged = function () {\n        this.getRootElement().updateActionsEnabledState();\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n        raiseInputValueChangedEvent(this);\n    };\n    Input.prototype.resetValidationFailureCue = function () {\n        if (this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n            this.updateInputControlAriaLabelledBy();\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    };\n    Input.prototype.showValidationErrorMessage = function () {\n        if (this.renderedElement &&\n            this.errorMessage &&\n            shared_1.GlobalSettings.displayInputValidationErrors) {\n            var errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    };\n    Input.prototype.updateVisualState = function (eventType) {\n        if (!this._renderedInputControlElement || this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n        else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    };\n    Input.prototype.focus = function () {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    };\n    Input.prototype.isValid = function () {\n        return true;\n    };\n    Input.prototype.isDirty = function () {\n        return this.value !== this._oldValue;\n    };\n    Input.prototype.resetDirtyState = function () {\n        this._oldValue = this.value;\n    };\n    Input.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.id) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.inputsMustHaveUniqueId());\n        }\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveLabel, \"Required inputs should have a label\");\n            }\n            if (!this.errorMessage) {\n                context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage, \"Required inputs should have an error message\");\n            }\n        }\n    };\n    Input.prototype.validateValue = function () {\n        this.resetValidationFailureCue();\n        var result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n        if (!result && this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n            this.showValidationErrorMessage();\n        }\n        return result;\n    };\n    Input.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [this];\n    };\n    Input.prototype.render = function () {\n        var result = _super.prototype.render.call(this);\n        this.resetDirtyState();\n        return result;\n    };\n    Object.defineProperty(Input.prototype, \"isInteractive\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Input.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"label\", true);\n    Input.isRequiredProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"isRequired\", false);\n    Input.errorMessageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"errorMessage\", true);\n    Input.inputStyleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"inputStyle\", Enums.InputStyle, Enums.InputStyle.Default, [\n        { value: Enums.InputStyle.RevealOnHover },\n        { value: Enums.InputStyle.Default }\n    ]);\n    Input.labelWidthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_6, \"labelWidth\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidLabelWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, Enums.SizeUnit.Weight);\n            if (result.physicalSize < 0 || result.physicalSize > 100) {\n                invalidLabelWidth = true;\n            }\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n            }\n            catch (e) {\n                invalidLabelWidth = true;\n            }\n        }\n        else {\n            invalidLabelWidth = true;\n        }\n        if (invalidLabelWidth) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidInputLabelWidth());\n            result = undefined;\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value instanceof shared_1.SizeAndUnit) {\n            if (value.unit === Enums.SizeUnit.Pixel) {\n                context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n            }\n            else {\n                context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n            }\n        }\n    }, undefined);\n    Input.labelPositionProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"labelPosition\", Enums.InputLabelPosition, Enums.InputLabelPosition.Above, [\n        { value: Enums.InputLabelPosition.Inline },\n        { value: Enums.InputLabelPosition.Above }\n    ]);\n    __decorate([\n        (0, serialization_1.property)(Input.labelProperty)\n    ], Input.prototype, \"label\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.isRequiredProperty)\n    ], Input.prototype, \"isRequired\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.errorMessageProperty)\n    ], Input.prototype, \"errorMessage\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.inputStyleProperty)\n    ], Input.prototype, \"inputStyle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.labelWidthProperty)\n    ], Input.prototype, \"labelWidth\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.labelPositionProperty)\n    ], Input.prototype, \"labelPosition\", void 0);\n    return Input;\n}(CardElement));\nexports.Input = Input;\nvar TextInput = /** @class */ (function (_super) {\n    __extends(TextInput, _super);\n    function TextInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isMultiline = false;\n        _this.style = Enums.InputTextStyle.Text;\n        return _this;\n    }\n    //#endregion\n    TextInput.prototype.setupInput = function (input) {\n        var _this = this;\n        input.style.flex = \"1 1 auto\";\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n        input.oninput = function () {\n            _this.valueChanged();\n        };\n        input.onkeypress = function (e) {\n            // Ctrl+Enter pressed\n            if (e.ctrlKey &&\n                e.code === \"Enter\" &&\n                _this.inlineAction &&\n                _this.inlineAction.isEffectivelyEnabled()) {\n                _this.inlineAction.execute();\n            }\n        };\n    };\n    TextInput.prototype.internalRender = function () {\n        var result;\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\", \"ac-multiline\");\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        }\n        else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n        this.setupInput(result);\n        return result;\n    };\n    TextInput.prototype.overrideInternalRender = function () {\n        var _this = this;\n        var renderedInputControl = _super.prototype.overrideInternalRender.call(this);\n        if (this.inlineAction) {\n            var button_1 = document.createElement(\"button\");\n            button_1.className = this.hostConfig.makeCssClassName(this.inlineAction.isEffectivelyEnabled()\n                ? \"ac-inlineActionButton\"\n                : \"ac-inlineActionButton-disabled\");\n            button_1.onclick = function (e) {\n                if (_this.inlineAction && _this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n                    _this.inlineAction.execute();\n                }\n            };\n            if (this.inlineAction.iconUrl) {\n                button_1.classList.add(\"iconOnly\");\n                var icon_1 = document.createElement(\"img\");\n                icon_1.style.height = \"100%\";\n                icon_1.setAttribute(\"role\", \"presentation\");\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon_1.style.display = \"none\";\n                icon_1.onload = function () {\n                    icon_1.style.removeProperty(\"display\");\n                };\n                icon_1.onerror = function () {\n                    button_1.removeChild(icon_1);\n                    button_1.classList.remove(\"iconOnly\");\n                    button_1.classList.add(\"textOnly\");\n                    button_1.textContent =\n                        _this.inlineAction && _this.inlineAction.title\n                            ? _this.inlineAction.title\n                            : strings_1.Strings.defaults.inlineActionTitle();\n                };\n                icon_1.src = this.inlineAction.iconUrl;\n                button_1.appendChild(icon_1);\n                button_1.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : strings_1.Strings.defaults.inlineActionTitle();\n            }\n            else {\n                button_1.classList.add(\"textOnly\");\n                button_1.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : strings_1.Strings.defaults.inlineActionTitle();\n            }\n            this.inlineAction.setupElementForAccessibility(button_1, true);\n            button_1.style.marginLeft = \"8px\";\n            this.inputControlContainerElement.appendChild(button_1);\n        }\n        return renderedInputControl;\n    };\n    TextInput.prototype.updateVisualState = function (eventType) {\n        if (!(this.inlineAction || this.isMultiline)) {\n            _super.prototype.updateVisualState.call(this, eventType);\n        }\n    };\n    TextInput.prototype.getJsonTypeName = function () {\n        return \"Input.Text\";\n    };\n    TextInput.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n        return result;\n    };\n    TextInput.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n        return result;\n    };\n    TextInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    TextInput.prototype.isValid = function () {\n        if (!this.value) {\n            return true;\n        }\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n        return true;\n    };\n    Object.defineProperty(TextInput.prototype, \"value\", {\n        get: function () {\n            if (this.renderedInputControlElement) {\n                if (this.isMultiline) {\n                    return this.renderedInputControlElement.value;\n                }\n                else {\n                    return this.renderedInputControlElement.value;\n                }\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    TextInput.maxLengthProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLength\");\n    TextInput.isMultilineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiline\", false);\n    TextInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    TextInput.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.InputTextStyle, Enums.InputTextStyle.Text, [\n        { value: Enums.InputTextStyle.Text },\n        { value: Enums.InputTextStyle.Tel },\n        { value: Enums.InputTextStyle.Url },\n        { value: Enums.InputTextStyle.Email },\n        { value: Enums.InputTextStyle.Password, targetVersion: serialization_1.Versions.v1_5 }\n    ]);\n    TextInput.inlineActionProperty = new ActionProperty(serialization_1.Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    TextInput.regexProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"regex\", true);\n    __decorate([\n        (0, serialization_1.property)(TextInput.valueProperty)\n    ], TextInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.maxLengthProperty)\n    ], TextInput.prototype, \"maxLength\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.isMultilineProperty)\n    ], TextInput.prototype, \"isMultiline\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.placeholderProperty)\n    ], TextInput.prototype, \"placeholder\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.styleProperty)\n    ], TextInput.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.inlineActionProperty)\n    ], TextInput.prototype, \"inlineAction\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.regexProperty)\n    ], TextInput.prototype, \"regex\", void 0);\n    return TextInput;\n}(Input));\nexports.TextInput = TextInput;\nvar ToggleInput = /** @class */ (function (_super) {\n    __extends(ToggleInput, _super);\n    function ToggleInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.valueOn = \"true\";\n        _this.valueOff = \"false\";\n        _this.wrap = false;\n        return _this;\n    }\n    ToggleInput.prototype.updateInputControlAriaLabelledBy = function () {\n        if (this._checkboxInputElement) {\n            var joinedLabelIds = this.getAllLabelIds().join(\" \");\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            }\n            else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    };\n    ToggleInput.prototype.internalRender = function () {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n        this._checkboxInputElement.onchange = function () {\n            _this.valueChanged();\n        };\n        Utils.appendChild(element, this._checkboxInputElement);\n        if (this.title || this.isDesignMode()) {\n            var label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n            this._checkboxInputLabelElement = label.render();\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n                var spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n        return element;\n    };\n    Object.defineProperty(ToggleInput.prototype, \"isNullable\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ToggleInput.prototype.updateVisualState = function (eventType) {\n    };\n    ToggleInput.prototype.getJsonTypeName = function () {\n        return \"Input.Toggle\";\n    };\n    ToggleInput.prototype.focus = function () {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    };\n    ToggleInput.prototype.isSet = function () {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n        return this.value ? true : false;\n    };\n    ToggleInput.prototype.isDirty = function () {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    };\n    Object.defineProperty(ToggleInput.prototype, \"value\", {\n        get: function () {\n            if (this._checkboxInputElement) {\n                return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ToggleInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    ToggleInput.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    ToggleInput.valueOnProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOn\", true, undefined, \"true\", function (sender) {\n        return \"true\";\n    });\n    ToggleInput.valueOffProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOff\", true, undefined, \"false\", function (sender) {\n        return \"false\";\n    });\n    ToggleInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueProperty)\n    ], ToggleInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.titleProperty)\n    ], ToggleInput.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueOnProperty)\n    ], ToggleInput.prototype, \"valueOn\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueOffProperty)\n    ], ToggleInput.prototype, \"valueOff\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.wrapProperty)\n    ], ToggleInput.prototype, \"wrap\", void 0);\n    return ToggleInput;\n}(Input));\nexports.ToggleInput = ToggleInput;\nvar Choice = /** @class */ (function (_super) {\n    __extends(Choice, _super);\n    function Choice(title, value) {\n        var _this = _super.call(this) || this;\n        _this.title = title;\n        _this.value = value;\n        return _this;\n    }\n    //#endregion\n    Choice.prototype.getSchemaKey = function () {\n        return \"Choice\";\n    };\n    //#region Schema\n    Choice.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Choice.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(Choice.titleProperty)\n    ], Choice.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Choice.valueProperty)\n    ], Choice.prototype, \"value\", void 0);\n    return Choice;\n}(serialization_1.SerializableObject));\nexports.Choice = Choice;\nvar ChoiceSetInput = /** @class */ (function (_super) {\n    __extends(ChoiceSetInput, _super);\n    function ChoiceSetInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isMultiSelect = false;\n        _this.wrap = false;\n        _this.choices = [];\n        return _this;\n    }\n    Object.defineProperty(ChoiceSetInput.prototype, \"isCompact\", {\n        get: function () {\n            return !this.style || this.style === \"compact\";\n        },\n        set: function (value) {\n            this.style = value ? undefined : \"expanded\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChoiceSetInput.getUniqueCategoryName = function () {\n        var uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n        ChoiceSetInput._uniqueCategoryCounter++;\n        return uniqueCategoryName;\n    };\n    ChoiceSetInput.prototype.createPlaceholderOptionWhenValueDoesNotExist = function () {\n        if (!this.value) {\n            var placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    };\n    // Make sure `aria-current` is applied to the currently-selected item\n    ChoiceSetInput.prototype.internalApplyAriaCurrent = function () {\n        if (this._selectElement) {\n            var options = this._selectElement.options;\n            if (options) {\n                for (var _i = 0, _a = Array.from(options); _i < _a.length; _i++) {\n                    var option = _a[_i];\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    }\n                    else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    };\n    ChoiceSetInput.prototype.renderCompoundInput = function (cssClassName, type, defaultValues) {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n        element.tabIndex = this.isDesignMode() ? -1 : 0;\n        this._toggleInputs = [];\n        this._labels = [];\n        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n            var choice = _a[_i];\n            var input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n            if (choice.value) {\n                input.value = choice.value;\n            }\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n            input.onchange = function () {\n                _this.valueChanged();\n            };\n            this._toggleInputs.push(input);\n            var compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n            Utils.appendChild(compoundInput, input);\n            var label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n            var labelElement = label.render();\n            this._labels.push(labelElement);\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n                var spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n            Utils.appendChild(element, compoundInput);\n        }\n        return element;\n    };\n    ChoiceSetInput.prototype.updateInputControlAriaLabelledBy = function () {\n        if ((this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels) {\n            var labelIds = this.getAllLabelIds();\n            for (var i = 0; i < this._toggleInputs.length; i++) {\n                var joinedLabelIds = labelIds.join(\" \");\n                var label = this._labels[i];\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n                if (joinedLabelIds) {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                }\n                else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        }\n        else {\n            _super.prototype.updateInputControlAriaLabelledBy.call(this);\n        }\n    };\n    ChoiceSetInput.prototype.internalRender = function () {\n        var _this = this;\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n        if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\"ac-choiceSetInput-multiSelect\", \"checkbox\", this.defaultValue\n                ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                : undefined);\n        }\n        else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\"ac-choiceSetInput-expanded\", \"radio\", this.defaultValue ? [this.defaultValue] : undefined);\n            }\n            else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                var inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-filtered\");\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = function () {\n                    _this.valueChanged();\n                    if (_this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (_this.value) {\n                            _this._textInput.removeAttribute(\"placeholder\");\n                            _this._textInput.removeAttribute(\"aria-label\");\n                        }\n                        else if (_this.placeholder) {\n                            _this._textInput.placeholder = _this.placeholder;\n                            _this._textInput.setAttribute(\"aria-label\", _this.placeholder);\n                        }\n                    }\n                };\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n                var dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n                for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                    var choice = _a[_i];\n                    var option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n                    dataList.appendChild(option);\n                }\n                this._textInput.setAttribute(\"list\", dataList.id);\n                inputContainer.append(this._textInput, dataList);\n                return inputContainer;\n            }\n            else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-compact\");\n                this._selectElement.style.width = \"100%\";\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n                var placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n                Utils.appendChild(this._selectElement, placeholderOption);\n                for (var _b = 0, _c = this.choices; _b < _c.length; _b++) {\n                    var choice = _c[_b];\n                    var option = document.createElement(\"option\");\n                    option.value = choice.value;\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n                    Utils.appendChild(this._selectElement, option);\n                }\n                this._selectElement.onchange = function () {\n                    _this.internalApplyAriaCurrent();\n                    _this.valueChanged();\n                };\n                this.internalApplyAriaCurrent();\n                return this._selectElement;\n            }\n        }\n    };\n    ChoiceSetInput.prototype.updateVisualState = function (eventType) {\n        if (!this.isMultiSelect && this.isCompact) {\n            _super.prototype.updateVisualState.call(this, eventType);\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                var hideDropDownPicker = shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\n                else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\n            }\n        }\n    };\n    ChoiceSetInput.prototype.getJsonTypeName = function () {\n        return \"Input.ChoiceSet\";\n    };\n    ChoiceSetInput.prototype.focus = function () {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        }\n        else if (this._textInput) {\n            this._textInput.focus();\n        }\n        else {\n            _super.prototype.focus.call(this);\n        }\n    };\n    ChoiceSetInput.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this.choices.length === 0) {\n            context.addFailure(this, Enums.ValidationEvent.CollectionCantBeEmpty, strings_1.Strings.errors.choiceSetMustHaveAtLeastOneChoice());\n        }\n        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n            var choice = _a[_i];\n            if (!choice.title || !choice.value) {\n                context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.choiceSetChoicesMustHaveTitleAndValue());\n            }\n        }\n    };\n    ChoiceSetInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    ChoiceSetInput.prototype.isValid = function () {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                var choice = _a[_i];\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        return _super.prototype.isValid.call(this);\n    };\n    Object.defineProperty(ChoiceSetInput.prototype, \"value\", {\n        get: function () {\n            if (!this.isMultiSelect) {\n                if (this._selectElement) {\n                    return this._selectElement.selectedIndex > 0\n                        ? this._selectElement.value\n                        : undefined;\n                }\n                else if (this._textInput) {\n                    for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                        var choice = _a[_i];\n                        if (choice.title && this._textInput.value === choice.title) {\n                            return choice.value;\n                        }\n                    }\n                    return this._textInput.value;\n                }\n                else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                    for (var _b = 0, _c = this._toggleInputs; _b < _c.length; _b++) {\n                        var toggleInput = _c[_b];\n                        if (toggleInput.checked) {\n                            return toggleInput.value;\n                        }\n                    }\n                }\n                return undefined;\n            }\n            else {\n                if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                    return undefined;\n                }\n                var result = \"\";\n                for (var _d = 0, _f = this._toggleInputs; _d < _f.length; _d++) {\n                    var toggleInput = _f[_d];\n                    if (toggleInput.checked) {\n                        if (result !== \"\") {\n                            result += this.hostConfig.choiceSetInputValueSeparator;\n                        }\n                        result += toggleInput.value;\n                    }\n                }\n                return result ? result : undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChoiceSetInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    ChoiceSetInput.choicesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"choices\", Choice);\n    ChoiceSetInput.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_0, \"style\", [\n        { value: \"compact\" },\n        { value: \"expanded\" },\n        { value: \"filtered\", targetVersion: serialization_1.Versions.v1_5 }\n    ], \"compact\");\n    ChoiceSetInput.isMultiSelectProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiSelect\", false);\n    ChoiceSetInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    ChoiceSetInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n    //#endregion\n    ChoiceSetInput._uniqueCategoryCounter = 0;\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.valueProperty)\n    ], ChoiceSetInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.styleProperty)\n    ], ChoiceSetInput.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.isMultiSelectProperty)\n    ], ChoiceSetInput.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.placeholderProperty)\n    ], ChoiceSetInput.prototype, \"placeholder\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.wrapProperty)\n    ], ChoiceSetInput.prototype, \"wrap\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.choicesProperty)\n    ], ChoiceSetInput.prototype, \"choices\", void 0);\n    return ChoiceSetInput;\n}(Input));\nexports.ChoiceSetInput = ChoiceSetInput;\nvar NumberInput = /** @class */ (function (_super) {\n    __extends(NumberInput, _super);\n    function NumberInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberInput.prototype.internalRender = function () {\n        var _this = this;\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-numberInput\");\n        this._numberInputElement.style.width = \"100%\";\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._numberInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        return this._numberInputElement;\n    };\n    NumberInput.prototype.getJsonTypeName = function () {\n        return \"Input.Number\";\n    };\n    NumberInput.prototype.isSet = function () {\n        return this.value !== undefined && !isNaN(this.value);\n    };\n    NumberInput.prototype.isValid = function () {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n        var result = true;\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n        return result;\n    };\n    Object.defineProperty(NumberInput.prototype, \"value\", {\n        get: function () {\n            return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n        },\n        set: function (value) {\n            if (value && this._numberInputElement) {\n                this._numberInputElement.value = value.toString();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    NumberInput.valueProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"value\");\n    NumberInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    NumberInput.minProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"min\");\n    NumberInput.maxProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(NumberInput.valueProperty)\n    ], NumberInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.minProperty)\n    ], NumberInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.maxProperty)\n    ], NumberInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.placeholderProperty)\n    ], NumberInput.prototype, \"placeholder\", void 0);\n    return NumberInput;\n}(Input));\nexports.NumberInput = NumberInput;\nvar DateInput = /** @class */ (function (_super) {\n    __extends(DateInput, _super);\n    function DateInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DateInput.prototype.internalRender = function () {\n        var _this = this;\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-dateInput\");\n        this._dateInputElement.style.width = \"100%\";\n        this._dateInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n        return this._dateInputElement;\n    };\n    DateInput.prototype.updateVisualState = function (eventType) {\n        _super.prototype.updateVisualState.call(this, eventType);\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            var hideDatePicker = shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker /*hide*/);\n        }\n    };\n    DateInput.prototype.getJsonTypeName = function () {\n        return \"Input.Date\";\n    };\n    DateInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    DateInput.prototype.isValid = function () {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n        var valueAsDate = new Date(this.value);\n        var result = true;\n        if (this.min) {\n            var minDate = new Date(this.min);\n            result = result && valueAsDate >= minDate;\n        }\n        if (this.max) {\n            var maxDate = new Date(this.max);\n            result = result && valueAsDate <= maxDate;\n        }\n        return result;\n    };\n    Object.defineProperty(DateInput.prototype, \"value\", {\n        get: function () {\n            return this._dateInputElement ? this._dateInputElement.value : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    DateInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    DateInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    DateInput.minProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"min\");\n    DateInput.maxProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(DateInput.valueProperty)\n    ], DateInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.minProperty)\n    ], DateInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.maxProperty)\n    ], DateInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.placeholderProperty)\n    ], DateInput.prototype, \"placeholder\", void 0);\n    return DateInput;\n}(Input));\nexports.DateInput = DateInput;\nvar TimeProperty = /** @class */ (function (_super) {\n    __extends(TimeProperty, _super);\n    function TimeProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, function (sender, prop, source, context) {\n            var value = source[prop.name];\n            if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                return value;\n            }\n            return undefined;\n        }, function (sender, prop, target, value, context) {\n            context.serializeValue(target, prop.name, value);\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    return TimeProperty;\n}(serialization_1.CustomProperty));\nexports.TimeProperty = TimeProperty;\nvar TimeInput = /** @class */ (function (_super) {\n    __extends(TimeInput, _super);\n    function TimeInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeInput.convertTimeStringToDate = function (timeString) {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    };\n    TimeInput.prototype.internalRender = function () {\n        var _this = this;\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-timeInput\");\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n        return this._timeInputElement;\n    };\n    TimeInput.prototype.updateVisualState = function (eventType) {\n        _super.prototype.updateVisualState.call(this, eventType);\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            var hideTimePicker = shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    };\n    TimeInput.prototype.getJsonTypeName = function () {\n        return \"Input.Time\";\n    };\n    TimeInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    TimeInput.prototype.isValid = function () {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n        var valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n        var result = true;\n        if (this.min) {\n            var minDate = TimeInput.convertTimeStringToDate(this.min);\n            result = result && valueAsDate >= minDate;\n        }\n        if (this.max) {\n            var maxDate = TimeInput.convertTimeStringToDate(this.max);\n            result = result && valueAsDate <= maxDate;\n        }\n        return result;\n    };\n    Object.defineProperty(TimeInput.prototype, \"value\", {\n        get: function () {\n            return this._timeInputElement ? this._timeInputElement.value : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    TimeInput.valueProperty = new TimeProperty(serialization_1.Versions.v1_0, \"value\");\n    TimeInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    TimeInput.minProperty = new TimeProperty(serialization_1.Versions.v1_0, \"min\");\n    TimeInput.maxProperty = new TimeProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(TimeInput.valueProperty)\n    ], TimeInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.minProperty)\n    ], TimeInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.maxProperty)\n    ], TimeInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.placeholderProperty)\n    ], TimeInput.prototype, \"placeholder\", void 0);\n    return TimeInput;\n}(Input));\nexports.TimeInput = TimeInput;\nvar Action = /** @class */ (function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.style = Enums.ActionStyle.Default;\n        _this.mode = Enums.ActionMode.Primary;\n        _this._state = 0 /* Normal */;\n        _this._isFocusable = true;\n        return _this;\n    }\n    //#endregion\n    Action.prototype.renderButtonContent = function () {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            var hostConfig = this.hostConfig;\n            var titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n            if (!(hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                hostConfig.actions.allowTitleToWrap)) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            }\n            else {\n                var iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                }\n                else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n                    iconElement.style.maxHeight = \"100%\";\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    };\n    Action.prototype.getParentContainer = function () {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    };\n    Action.prototype.isDesignMode = function () {\n        var rootElement = this.getRootObject();\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    };\n    Action.prototype.updateCssClasses = function () {\n        var _a, _b;\n        if (this.parent && this.renderedElement) {\n            var hostConfig = this.parent.hostConfig;\n            this.renderedElement.className = hostConfig.makeCssClassName(this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\");\n            var parentContainer = this.getParentContainer();\n            if (parentContainer) {\n                var parentContainerStyle = parentContainer.getEffectiveStyle();\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n            switch (this._state) {\n                case 0 /* Normal */:\n                    // No additional classes needed\n                    break;\n                case 1 /* Expanded */:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case 2 /* Subdued */:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    (_a = this.renderedElement.classList).add.apply(_a, hostConfig.makeCssClassNames(\"primary\", \"style-positive\"));\n                }\n                else {\n                    (_b = this.renderedElement.classList).add.apply(_b, hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase()));\n                }\n            }\n        }\n    };\n    Action.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext();\n    };\n    Action.prototype.internalGetReferencedInputs = function () {\n        return {};\n    };\n    Action.prototype.internalPrepareForExecution = function (_inputs) {\n        // Do nothing in base implementation\n    };\n    Action.prototype.internalValidateInputs = function (referencedInputs) {\n        var result = [];\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n        return result;\n    };\n    Action.prototype.shouldSerialize = function (context) {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    };\n    Action.prototype.raiseExecuteActionEvent = function () {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n        raiseExecuteActionEvent(this);\n    };\n    Action.prototype.internalAfterExecute = function () {\n        var rootObject = this.getRootObject();\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    };\n    Action.prototype.getHref = function () {\n        return \"\";\n    };\n    Action.prototype.getAriaRole = function () {\n        return \"button\";\n    };\n    Action.prototype.setupElementForAccessibility = function (element, promoteTooltipToLabel) {\n        if (promoteTooltipToLabel === void 0) { promoteTooltipToLabel = false; }\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n        element.setAttribute(\"role\", this.getAriaRole());\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        }\n        else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        }\n        else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n        if (this.tooltip) {\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    };\n    Action.prototype.parse = function (source, context) {\n        return _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n    };\n    Action.prototype.render = function () {\n        var _this = this;\n        var buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = function (e) {\n            if (_this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n                _this.execute();\n            }\n        };\n        this._renderedElement = buttonElement;\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    };\n    Action.prototype.execute = function () {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    };\n    Action.prototype.prepareForExecution = function () {\n        var referencedInputs = this.getReferencedInputs();\n        var invalidInputs = this.internalValidateInputs(referencedInputs);\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n            return false;\n        }\n        this.internalPrepareForExecution(referencedInputs);\n        return true;\n    };\n    Action.prototype.remove = function () {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n        return false;\n    };\n    Action.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [];\n    };\n    Action.prototype.getAllActions = function () {\n        return [this];\n    };\n    Action.prototype.getResourceInformation = function () {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    };\n    Action.prototype.getActionById = function (id) {\n        return this.id === id ? this : undefined;\n    };\n    Action.prototype.getReferencedInputs = function () {\n        return this.internalGetReferencedInputs();\n    };\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    Action.prototype.validateInputs = function () {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    };\n    Action.prototype.updateEnabledState = function () {\n        // Do nothing in base implementation\n    };\n    Action.prototype.isEffectivelyEnabled = function () {\n        return this.isEnabled;\n    };\n    Object.defineProperty(Action.prototype, \"isPrimary\", {\n        get: function () {\n            return this.style === Enums.ActionStyle.Positive;\n        },\n        set: function (value) {\n            if (value) {\n                this.style = Enums.ActionStyle.Positive;\n            }\n            else {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.style = Enums.ActionStyle.Default;\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"hostConfig\", {\n        get: function () {\n            return this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"state\", {\n        get: function () {\n            return this._state;\n        },\n        set: function (value) {\n            if (this._state !== value) {\n                this._state = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"isFocusable\", {\n        get: function () {\n            return this._isFocusable;\n        },\n        set: function (value) {\n            if (this._isFocusable !== value) {\n                this._isFocusable = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Action.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Action.iconUrlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"iconUrl\");\n    Action.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_2, \"style\", [\n        { value: Enums.ActionStyle.Default },\n        { value: Enums.ActionStyle.Positive },\n        { value: Enums.ActionStyle.Destructive }\n    ], Enums.ActionStyle.Default);\n    Action.modeProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"mode\", [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }], Enums.ActionMode.Primary);\n    Action.tooltipProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_5, \"tooltip\");\n    Action.isEnabledProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"isEnabled\", true);\n    __decorate([\n        (0, serialization_1.property)(Action.titleProperty)\n    ], Action.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.iconUrlProperty)\n    ], Action.prototype, \"iconUrl\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.styleProperty)\n    ], Action.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.modeProperty)\n    ], Action.prototype, \"mode\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.tooltipProperty)\n    ], Action.prototype, \"tooltip\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.isEnabledProperty)\n    ], Action.prototype, \"isEnabled\", void 0);\n    return Action;\n}(card_object_1.CardObject));\nexports.Action = Action;\nvar SubmitActionBase = /** @class */ (function (_super) {\n    __extends(SubmitActionBase, _super);\n    function SubmitActionBase() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.disabledUnlessAssociatedInputsChange = false;\n        //#endregion\n        _this._isPrepared = false;\n        _this._areReferencedInputsDirty = false;\n        return _this;\n    }\n    SubmitActionBase.prototype.internalGetReferencedInputs = function () {\n        var result = {};\n        if (this.associatedInputs !== \"none\") {\n            var current = this.parent;\n            var inputs = [];\n            while (current) {\n                inputs.push.apply(inputs, current.getAllInputs(false));\n                current = current.parent;\n            }\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input = inputs_1[_i];\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n        return result;\n    };\n    SubmitActionBase.prototype.internalPrepareForExecution = function (inputs) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        }\n        else {\n            this._processedData = {};\n        }\n        if (this._processedData && inputs) {\n            for (var _i = 0, _a = Object.keys(inputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = inputs[key];\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n        this._isPrepared = true;\n    };\n    SubmitActionBase.prototype.internalAfterExecute = function () {\n        if (shared_1.GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    };\n    SubmitActionBase.prototype.resetReferencedInputsDirtyState = function () {\n        var referencedInputs = this.getReferencedInputs();\n        this._areReferencedInputsDirty = false;\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                input.resetDirtyState();\n            }\n        }\n    };\n    SubmitActionBase.prototype.updateEnabledState = function () {\n        this._areReferencedInputsDirty = false;\n        var referencedInputs = this.getReferencedInputs();\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n                    break;\n                }\n            }\n        }\n        this.updateCssClasses();\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    };\n    SubmitActionBase.prototype.isEffectivelyEnabled = function () {\n        var result = _super.prototype.isEffectivelyEnabled.call(this);\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    };\n    Object.defineProperty(SubmitActionBase.prototype, \"data\", {\n        get: function () {\n            return this._isPrepared ? this._processedData : this._originalData;\n        },\n        set: function (value) {\n            this._originalData = value;\n            this._isPrepared = false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SubmitActionBase.dataProperty = new serialization_1.PropertyDefinition(serialization_1.Versions.v1_0, \"data\");\n    SubmitActionBase.associatedInputsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_3, \"associatedInputs\", function (sender, prop, source, context) {\n        var value = source[prop.name];\n        if (value !== undefined && typeof value === \"string\") {\n            return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n        }\n        return undefined;\n    }, function (sender, prop, target, value, context) {\n        context.serializeValue(target, prop.name, value);\n    });\n    SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"disabledUnlessAssociatedInputsChange\", false);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.dataProperty)\n    ], SubmitActionBase.prototype, \"_originalData\", void 0);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.associatedInputsProperty)\n    ], SubmitActionBase.prototype, \"associatedInputs\", void 0);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    ], SubmitActionBase.prototype, \"disabledUnlessAssociatedInputsChange\", void 0);\n    return SubmitActionBase;\n}(Action));\nexports.SubmitActionBase = SubmitActionBase;\nvar SubmitAction = /** @class */ (function (_super) {\n    __extends(SubmitAction, _super);\n    function SubmitAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SubmitAction.prototype.getJsonTypeName = function () {\n        return SubmitAction.JsonTypeName;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    SubmitAction.JsonTypeName = \"Action.Submit\";\n    return SubmitAction;\n}(SubmitActionBase));\nexports.SubmitAction = SubmitAction;\nvar ExecuteAction = /** @class */ (function (_super) {\n    __extends(ExecuteAction, _super);\n    function ExecuteAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    ExecuteAction.prototype.getJsonTypeName = function () {\n        return ExecuteAction.JsonTypeName;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ExecuteAction.JsonTypeName = \"Action.Execute\";\n    //#region Schema\n    ExecuteAction.verbProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"verb\");\n    __decorate([\n        (0, serialization_1.property)(ExecuteAction.verbProperty)\n    ], ExecuteAction.prototype, \"verb\", void 0);\n    return ExecuteAction;\n}(SubmitActionBase));\nexports.ExecuteAction = ExecuteAction;\nvar OpenUrlAction = /** @class */ (function (_super) {\n    __extends(OpenUrlAction, _super);\n    function OpenUrlAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OpenUrlAction.prototype.getJsonTypeName = function () {\n        return OpenUrlAction.JsonTypeName;\n    };\n    OpenUrlAction.prototype.getAriaRole = function () {\n        return \"link\";\n    };\n    OpenUrlAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.url) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n        }\n    };\n    OpenUrlAction.prototype.getHref = function () {\n        return this.url;\n    };\n    //#region Schema\n    OpenUrlAction.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    OpenUrlAction.JsonTypeName = \"Action.OpenUrl\";\n    __decorate([\n        (0, serialization_1.property)(OpenUrlAction.urlProperty)\n    ], OpenUrlAction.prototype, \"url\", void 0);\n    return OpenUrlAction;\n}(Action));\nexports.OpenUrlAction = OpenUrlAction;\nvar ToggleVisibilityAction = /** @class */ (function (_super) {\n    __extends(ToggleVisibilityAction, _super);\n    function ToggleVisibilityAction() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.targetElements = {};\n        return _this;\n    }\n    ToggleVisibilityAction.prototype.updateAriaControlsAttribute = function () {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            var elementIds = Object.keys(this.targetElements);\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                }\n                else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    };\n    ToggleVisibilityAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.targetElements) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"targetElements\"));\n        }\n    };\n    ToggleVisibilityAction.prototype.getJsonTypeName = function () {\n        return ToggleVisibilityAction.JsonTypeName;\n    };\n    ToggleVisibilityAction.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.prototype.execute = function () {\n        _super.prototype.execute.call(this);\n        if (this.parent) {\n            for (var _i = 0, _a = Object.keys(this.targetElements); _i < _a.length; _i++) {\n                var elementId = _a[_i];\n                var targetElement = this.parent.getRootElement().getElementById(elementId);\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    }\n                    else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    };\n    ToggleVisibilityAction.prototype.addTargetElement = function (elementId, isVisible) {\n        if (isVisible === void 0) { isVisible = undefined; }\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.prototype.removeTargetElement = function (elementId) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.targetElementsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_2, \"targetElements\", function (sender, prop, source, context) {\n        var result = {};\n        if (Array.isArray(source[prop.name])) {\n            for (var _i = 0, _a = source[prop.name]; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (typeof item === \"string\") {\n                    result[item] = undefined;\n                }\n                else if (typeof item === \"object\") {\n                    var elementId = item[\"elementId\"];\n                    if (typeof elementId === \"string\") {\n                        result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                    }\n                }\n            }\n        }\n        return result;\n    }, function (sender, prop, target, value, context) {\n        var targetElements = [];\n        for (var _i = 0, _a = Object.keys(value); _i < _a.length; _i++) {\n            var id = _a[_i];\n            if (typeof value[id] === \"boolean\") {\n                targetElements.push({\n                    elementId: id,\n                    isVisible: value[id]\n                });\n            }\n            else {\n                targetElements.push(id);\n            }\n        }\n        context.serializeArray(target, prop.name, targetElements);\n    }, {}, function (sender) {\n        return {};\n    });\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ToggleVisibilityAction.JsonTypeName = \"Action.ToggleVisibility\";\n    __decorate([\n        (0, serialization_1.property)(ToggleVisibilityAction.targetElementsProperty)\n    ], ToggleVisibilityAction.prototype, \"targetElements\", void 0);\n    return ToggleVisibilityAction;\n}(Action));\nexports.ToggleVisibilityAction = ToggleVisibilityAction;\nvar StringWithSubstitutionProperty = /** @class */ (function (_super) {\n    __extends(StringWithSubstitutionProperty, _super);\n    function StringWithSubstitutionProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, undefined, function () {\n            return new shared_1.StringWithSubstitutions();\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    StringWithSubstitutionProperty.prototype.parse = function (sender, source, context) {\n        var result = new shared_1.StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n        return result;\n    };\n    StringWithSubstitutionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value.getOriginal());\n    };\n    return StringWithSubstitutionProperty;\n}(serialization_1.PropertyDefinition));\nvar HttpHeader = /** @class */ (function (_super) {\n    __extends(HttpHeader, _super);\n    //#endregion\n    function HttpHeader(name, value) {\n        if (name === void 0) { name = \"\"; }\n        if (value === void 0) { value = \"\"; }\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.value = value;\n        return _this;\n    }\n    HttpHeader.prototype.getSchemaKey = function () {\n        return \"HttpHeader\";\n    };\n    HttpHeader.prototype.getReferencedInputs = function (inputs, referencedInputs) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    };\n    HttpHeader.prototype.prepareForExecution = function (inputs) {\n        this._value.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n    };\n    Object.defineProperty(HttpHeader.prototype, \"value\", {\n        get: function () {\n            return this._value.get();\n        },\n        set: function (newValue) {\n            this._value.set(newValue);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    HttpHeader.nameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"name\");\n    HttpHeader.valueProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(HttpHeader.nameProperty)\n    ], HttpHeader.prototype, \"name\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpHeader.valueProperty)\n    ], HttpHeader.prototype, \"_value\", void 0);\n    return HttpHeader;\n}(serialization_1.SerializableObject));\nexports.HttpHeader = HttpHeader;\nvar HttpAction = /** @class */ (function (_super) {\n    __extends(HttpAction, _super);\n    function HttpAction() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._ignoreInputValidation = false;\n        return _this;\n    }\n    HttpAction.prototype.internalGetReferencedInputs = function () {\n        var allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        var result = {};\n        this._url.getReferencedInputs(allInputs, result);\n        for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n            var header = _a[_i];\n            header.getReferencedInputs(allInputs, result);\n        }\n        this._body.getReferencedInputs(allInputs, result);\n        return result;\n    };\n    HttpAction.prototype.internalPrepareForExecution = function (inputs) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n            var contentType = shared_1.ContentTypes.applicationJson;\n            for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n                var header = _a[_i];\n                header.prepareForExecution(inputs);\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value;\n                }\n            }\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    };\n    HttpAction.prototype.getJsonTypeName = function () {\n        return HttpAction.JsonTypeName;\n    };\n    HttpAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.url) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n        }\n        if (this.headers.length > 0) {\n            for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n                var header = _a[_i];\n                if (!header.name) {\n                    context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.actionHttpHeadersMustHaveNameAndValue());\n                }\n            }\n        }\n    };\n    Object.defineProperty(HttpAction.prototype, \"ignoreInputValidation\", {\n        get: function () {\n            return this._ignoreInputValidation;\n        },\n        set: function (value) {\n            this._ignoreInputValidation = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HttpAction.prototype, \"url\", {\n        get: function () {\n            return this._url.get();\n        },\n        set: function (value) {\n            this._url.set(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HttpAction.prototype, \"body\", {\n        get: function () {\n            return this._body.get();\n        },\n        set: function (value) {\n            this._body.set(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HttpAction.urlProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"url\");\n    HttpAction.bodyProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"body\");\n    HttpAction.methodProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"method\");\n    HttpAction.headersProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"headers\", HttpHeader);\n    HttpAction.ignoreInputValidationProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"ignoreInputValidation\", false);\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    HttpAction.JsonTypeName = \"Action.Http\";\n    __decorate([\n        (0, serialization_1.property)(HttpAction.urlProperty)\n    ], HttpAction.prototype, \"_url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.bodyProperty)\n    ], HttpAction.prototype, \"_body\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.methodProperty)\n    ], HttpAction.prototype, \"method\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.headersProperty)\n    ], HttpAction.prototype, \"headers\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.ignoreInputValidationProperty)\n    ], HttpAction.prototype, \"_ignoreInputValidation\", void 0);\n    return HttpAction;\n}(Action));\nexports.HttpAction = HttpAction;\nvar ShowCardAction = /** @class */ (function (_super) {\n    __extends(ShowCardAction, _super);\n    function ShowCardAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.card = new InlineAdaptiveCard();\n        return _this;\n    }\n    ShowCardAction.prototype.updateCssClasses = function () {\n        _super.prototype.updateCssClasses.call(this);\n        if (this.renderedElement) {\n            var effectiveHostConfig = this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\"aria-expanded\", (this.state === 1 /* Expanded */).toString());\n        }\n    };\n    ShowCardAction.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        var jsonCard = source[\"card\"];\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        }\n        else {\n            context.logParseEvent(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.showCardMustHaveCard());\n        }\n    };\n    ShowCardAction.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    };\n    ShowCardAction.prototype.raiseExecuteActionEvent = function () {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            _super.prototype.raiseExecuteActionEvent.call(this);\n        }\n    };\n    ShowCardAction.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this.card.releaseDOMResources();\n    };\n    ShowCardAction.prototype.getJsonTypeName = function () {\n        return ShowCardAction.JsonTypeName;\n    };\n    ShowCardAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        this.card.internalValidateProperties(context);\n    };\n    ShowCardAction.prototype.setParent = function (value) {\n        _super.prototype.setParent.call(this, value);\n        this.card.setParent(value);\n    };\n    ShowCardAction.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return this.card.getAllInputs(processActions);\n    };\n    ShowCardAction.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        result.push.apply(result, this.card.getAllActions());\n        return result;\n    };\n    ShowCardAction.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        result.push.apply(result, this.card.getResourceInformation());\n        return result;\n    };\n    ShowCardAction.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n        return result;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ShowCardAction.JsonTypeName = \"Action.ShowCard\";\n    return ShowCardAction;\n}(Action));\nexports.ShowCardAction = ShowCardAction;\nvar OverflowAction = /** @class */ (function (_super) {\n    __extends(OverflowAction, _super);\n    function OverflowAction(actions) {\n        var _this = _super.call(this) || this;\n        _this._actions = actions;\n        _this.title = strings_1.Strings.defaults.overflowButtonText();\n        _this.tooltip = strings_1.Strings.defaults.overflowButtonTooltip();\n        return _this;\n    }\n    OverflowAction.prototype.getActions = function () {\n        return this._actions;\n    };\n    OverflowAction.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        result.push.apply(result, this._actions);\n        return result;\n    };\n    OverflowAction.prototype.getJsonTypeName = function () {\n        return ShowCardAction.JsonTypeName;\n    };\n    OverflowAction.prototype.execute = function () {\n        var _this = this;\n        var _a;\n        var shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(this, this.renderedElement);\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            var contextMenu_1 = new controls_1.PopupMenu();\n            contextMenu_1.hostConfig = this.hostConfig;\n            var _loop_2 = function (i) {\n                var menuItem = new controls_1.MenuItem(i.toString(), (_a = this_1._actions[i].title) !== null && _a !== void 0 ? _a : \"\");\n                menuItem.isEnabled = this_1._actions[i].isEnabled;\n                menuItem.onClick = function () {\n                    var actionToExecute = _this._actions[i];\n                    contextMenu_1.closePopup(false);\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n                contextMenu_1.items.add(menuItem);\n            };\n            var this_1 = this;\n            for (var i = 0; i < this._actions.length; i++) {\n                _loop_2(i);\n            }\n            contextMenu_1.onClose = function () {\n                var _a;\n                (_a = _this.renderedElement) === null || _a === void 0 ? void 0 : _a.setAttribute(\"aria-expanded\", \"false\");\n            };\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu_1.popup(this.renderedElement);\n        }\n    };\n    OverflowAction.prototype.setupElementForAccessibility = function (element, promoteTooltipToLabel) {\n        if (promoteTooltipToLabel === void 0) { promoteTooltipToLabel = false; }\n        _super.prototype.setupElementForAccessibility.call(this, element, promoteTooltipToLabel);\n        element.setAttribute(\"aria-label\", strings_1.Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    };\n    OverflowAction.JsonTypeName = \"Action.Overflow\";\n    return OverflowAction;\n}(Action));\nvar ActionCollection = /** @class */ (function () {\n    function ActionCollection(owner) {\n        this._items = [];\n        this._renderedActions = [];\n        this._owner = owner;\n    }\n    ActionCollection.prototype.isActionAllowed = function (action) {\n        var forbiddenTypes = this._owner.getForbiddenActionTypes();\n        if (forbiddenTypes) {\n            for (var _i = 0, forbiddenTypes_1 = forbiddenTypes; _i < forbiddenTypes_1.length; _i++) {\n                var forbiddenType = forbiddenTypes_1[_i];\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    ActionCollection.prototype.refreshContainer = function () {\n        clearElement(this._actionCardContainer);\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n            return;\n        }\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n        var padding = this._owner.getEffectivePadding();\n        this._owner.getImmediateSurroundingPadding(padding);\n        var physicalPadding = this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    };\n    ActionCollection.prototype.layoutChanged = function () {\n        this._owner.getRootElement().updateLayout();\n    };\n    ActionCollection.prototype.showActionCard = function (action, suppressStyle, raiseEvent) {\n        if (suppressStyle === void 0) { suppressStyle = false; }\n        if (raiseEvent === void 0) { raiseEvent = true; }\n        action.card.suppressStyle = suppressStyle;\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        var renderedCard = action.card.renderedElement && !this._owner.isDesignMode()\n            ? action.card.renderedElement\n            : action.card.render();\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n        this.refreshContainer();\n        if (raiseEvent) {\n            this.layoutChanged();\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    };\n    ActionCollection.prototype.collapseExpandedAction = function () {\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.state = 0 /* Normal */;\n        }\n        var previouslyExpandedAction = this._expandedAction;\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n        this.refreshContainer();\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    };\n    ActionCollection.prototype.expandShowCardAction = function (action, raiseEvent) {\n        var _this = this;\n        var afterSelectedAction = false;\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var renderedAction = _a[_i];\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction) {\n                renderedAction.isFocusable = false;\n            }\n            if (renderedAction !== action) {\n                renderedAction.state = 2 /* Subdued */;\n            }\n            else {\n                renderedAction.state = 1 /* Expanded */;\n                afterSelectedAction = true;\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = function (_e) {\n                        for (var _i = 0, _a = _this._renderedActions; _i < _a.length; _i++) {\n                            var ra = _a[_i];\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n        this.showActionCard(action, !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()), raiseEvent);\n    };\n    ActionCollection.prototype.releaseDOMResources = function () {\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.releaseDOMResources();\n        }\n    };\n    ActionCollection.prototype.actionExecuted = function (action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        }\n        else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            }\n            else if (this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    };\n    ActionCollection.prototype.parse = function (source, context) {\n        this.clear();\n        if (Array.isArray(source)) {\n            for (var _i = 0, source_1 = source; _i < source_1.length; _i++) {\n                var jsonAction = source_1[_i];\n                var forbiddenActions = [];\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n                var action = context.parseAction(this._owner, jsonAction, forbiddenActions, !this._owner.isDesignMode());\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    };\n    ActionCollection.prototype.toJSON = function (target, propertyName, context) {\n        context.serializeArray(target, propertyName, this._items);\n    };\n    ActionCollection.prototype.getActionAt = function (id) {\n        return this._items[id];\n    };\n    ActionCollection.prototype.getActionCount = function () {\n        return this._items.length;\n    };\n    ActionCollection.prototype.getActionById = function (id) {\n        var result = undefined;\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            result = item.getActionById(id);\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    };\n    ActionCollection.prototype.validateProperties = function (context) {\n        if (this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions) {\n            context.addFailure(this._owner, Enums.ValidationEvent.TooManyActions, strings_1.Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions));\n        }\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(this._owner, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n        }\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(this._owner, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(item.getJsonTypeName()));\n            }\n            item.internalValidateProperties(context);\n        }\n    };\n    ActionCollection.prototype.render = function (orientation) {\n        // Cache hostConfig for better perf\n        var hostConfig = this._owner.hostConfig;\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n        var element = document.createElement(\"div\");\n        var maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n        if (hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        }\n        else {\n            var buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n                if (this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n                else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n            else {\n                buttonStrip.style.flexDirection = \"column\";\n                if (this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n                else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n            var allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n            var primaryActions_1 = [];\n            var secondaryActions_1 = [];\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach(function (action) {\n                    return action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions_1.push(action)\n                        : primaryActions_1.push(action);\n                });\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                var overflowPrimaryActions = primaryActions_1.splice(hostConfig.actions.maxActions);\n                if (shared_1.GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions_1.push.apply(secondaryActions_1, overflowPrimaryActions);\n                }\n                var shouldRenderOverflowActionButton = true;\n                if (secondaryActions_1.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions_1);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n                    var isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(this._overflowAction, isRootAction);\n                }\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions_1.push(this._overflowAction);\n                }\n            }\n            else {\n                primaryActions_1 = allowedActions;\n            }\n            for (var i = 0; i < primaryActions_1.length; i++) {\n                var action = primaryActions_1[i];\n                action.render();\n                if (action.renderedElement) {\n                    if (hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    }\n                    else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n                    buttonStrip.appendChild(action.renderedElement);\n                    this._renderedActions.push(action);\n                    if (i < primaryActions_1.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        var spacer = document.createElement(\"div\");\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n                        else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n            var buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n            Utils.appendChild(element, buttonStripContainer);\n        }\n        Utils.appendChild(element, this._actionCardContainer);\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var renderedAction = _a[_i];\n            if (renderedAction.state === 1 /* Expanded */) {\n                this.expandShowCardAction(renderedAction, false);\n                break;\n            }\n        }\n        return this._renderedActions.length > 0 ? element : undefined;\n    };\n    ActionCollection.prototype.addAction = function (action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n            action[\"_actionCollection\"] = this;\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.actionAlreadyParented());\n        }\n    };\n    ActionCollection.prototype.removeAction = function (action) {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n        var actionIndex = this._items.indexOf(action);\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n            action.setParent(undefined);\n            action[\"_actionCollection\"] = undefined;\n            for (var i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n                    break;\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    ActionCollection.prototype.clear = function () {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    };\n    ActionCollection.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = [];\n        if (processActions) {\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var action = _a[_i];\n                result.push.apply(result, action.getAllInputs());\n            }\n        }\n        return result;\n    };\n    ActionCollection.prototype.getResourceInformation = function () {\n        var result = [];\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var action = _a[_i];\n            result.push.apply(result, action.getResourceInformation());\n        }\n        return result;\n    };\n    Object.defineProperty(ActionCollection.prototype, \"renderedActionCount\", {\n        get: function () {\n            return this._renderedActions.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ActionCollection.prototype, \"expandedAction\", {\n        get: function () {\n            return this._expandedAction;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ActionCollection;\n}());\nvar ActionSet = /** @class */ (function (_super) {\n    __extends(ActionSet, _super);\n    function ActionSet() {\n        var _this = _super.call(this) || this;\n        _this._actionCollection = new ActionCollection(_this);\n        return _this;\n    }\n    ActionSet.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._actionCollection.parse(source[\"actions\"], context);\n    };\n    ActionSet.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        this._actionCollection.toJSON(target, \"actions\", context);\n    };\n    ActionSet.prototype.internalRender = function () {\n        return this._actionCollection.render(this.orientation !== undefined\n            ? this.orientation\n            : this.hostConfig.actions.actionsOrientation);\n    };\n    ActionSet.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this._actionCollection.releaseDOMResources();\n    };\n    ActionSet.prototype.isBleedingAtBottom = function () {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return _super.prototype.isBleedingAtBottom.call(this);\n        }\n        else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction);\n            }\n            else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    };\n    ActionSet.prototype.getJsonTypeName = function () {\n        return \"ActionSet\";\n    };\n    ActionSet.prototype.getActionCount = function () {\n        return this._actionCollection.getActionCount();\n    };\n    ActionSet.prototype.getActionAt = function (index) {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        }\n        else {\n            return _super.prototype.getActionAt.call(this, index);\n        }\n    };\n    ActionSet.prototype.getActionById = function (id) {\n        var result = this._actionCollection.getActionById(id);\n        return result ? result : _super.prototype.getActionById.call(this, id);\n    };\n    ActionSet.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                result.push(action);\n            }\n        }\n        return result;\n    };\n    ActionSet.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        this._actionCollection.validateProperties(context);\n    };\n    ActionSet.prototype.addAction = function (action) {\n        this._actionCollection.addAction(action);\n    };\n    ActionSet.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    };\n    ActionSet.prototype.getResourceInformation = function () {\n        return this._actionCollection.getResourceInformation();\n    };\n    /**\n     * @inheritdoc\n     */\n    ActionSet.prototype.findDOMNodeOwner = function (node) {\n        var target = undefined;\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n                if (target) {\n                    return target;\n                }\n            }\n        }\n        // if not found in any Action, defer to parent implementation\n        return _super.prototype.findDOMNodeOwner.call(this, node);\n    };\n    ActionSet.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n        return result;\n    };\n    Object.defineProperty(ActionSet.prototype, \"isInteractive\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    ActionSet.orientationProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"orientation\", Enums.Orientation);\n    __decorate([\n        (0, serialization_1.property)(ActionSet.orientationProperty)\n    ], ActionSet.prototype, \"orientation\", void 0);\n    return ActionSet;\n}(CardElement));\nexports.ActionSet = ActionSet;\nvar ContainerStyleProperty = /** @class */ (function (_super) {\n    __extends(ContainerStyleProperty, _super);\n    function ContainerStyleProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, [\n            { value: Enums.ContainerStyle.Default },\n            { value: Enums.ContainerStyle.Emphasis },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Accent },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Good },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Attention },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Warning }\n        ], defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    return ContainerStyleProperty;\n}(serialization_1.ValueSetProperty));\nexports.ContainerStyleProperty = ContainerStyleProperty;\nvar StylableCardElementContainer = /** @class */ (function (_super) {\n    __extends(StylableCardElementContainer, _super);\n    function StylableCardElementContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StylableCardElementContainer.prototype, \"style\", {\n        get: function () {\n            if (this.allowCustomStyle) {\n                var style = this.getValue(StylableCardElementContainer.styleProperty);\n                if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                    return style;\n                }\n            }\n            return undefined;\n        },\n        set: function (value) {\n            this.setValue(StylableCardElementContainer.styleProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StylableCardElementContainer.prototype, \"allowCustomStyle\", {\n        //#endregion\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StylableCardElementContainer.prototype, \"hasExplicitStyle\", {\n        get: function () {\n            return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StylableCardElementContainer.prototype.applyBorder = function () {\n        // No border in base implementation\n    };\n    StylableCardElementContainer.prototype.applyBackground = function () {\n        if (this.renderedElement) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n            if (styleDefinition.backgroundColor) {\n                var bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.applyPadding = function () {\n        _super.prototype.applyPadding.call(this);\n        if (!this.renderedElement) {\n            return;\n        }\n        var physicalPadding = new shared_1.SpacingDefinition();\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n        }\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            var padding = new shared_1.PaddingDefinition();\n            this.getImmediateSurroundingPadding(padding);\n            var surroundingPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n            if (this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        }\n        else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n            if (this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        var currentElement = this.parent;\n        while (currentElement) {\n            var currentElementHasBackgroundImage = false;\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            }\n            else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)) {\n                    return true;\n                }\n            }\n            currentElement = currentElement.parent;\n        }\n        return false;\n    };\n    StylableCardElementContainer.prototype.getDefaultPadding = function () {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding)\n            : _super.prototype.getDefaultPadding.call(this);\n    };\n    StylableCardElementContainer.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        var explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n        if (explicitStyle !== undefined) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n            if (!styleDefinition) {\n                context.addFailure(this, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(explicitStyle, \"style\"));\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.render = function () {\n        var renderedElement = _super.prototype.render.call(this);\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n        this.applyBorder();\n        return renderedElement;\n    };\n    StylableCardElementContainer.prototype.getEffectiveStyle = function () {\n        var effectiveStyle = this.style;\n        return effectiveStyle ? effectiveStyle : _super.prototype.getEffectiveStyle.call(this);\n    };\n    //#region Schema\n    StylableCardElementContainer.styleProperty = new ContainerStyleProperty(serialization_1.Versions.v1_0, \"style\");\n    __decorate([\n        (0, serialization_1.property)(StylableCardElementContainer.styleProperty)\n    ], StylableCardElementContainer.prototype, \"style\", null);\n    return StylableCardElementContainer;\n}(CardElementContainer));\nexports.StylableCardElementContainer = StylableCardElementContainer;\nvar ContainerBase = /** @class */ (function (_super) {\n    __extends(ContainerBase, _super);\n    function ContainerBase() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._bleed = false;\n        return _this;\n    }\n    //#endregion\n    ContainerBase.prototype.adjustRenderedElementSize = function (renderedElement) {\n        _super.prototype.adjustRenderedElementSize.call(this, renderedElement);\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    };\n    ContainerBase.prototype.getHasExpandedAction = function () {\n        return false;\n    };\n    ContainerBase.prototype.getBleed = function () {\n        return this._bleed;\n    };\n    ContainerBase.prototype.setBleed = function (value) {\n        this._bleed = value;\n    };\n    Object.defineProperty(ContainerBase.prototype, \"renderedActionCount\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContainerBase.prototype.isBleeding = function () {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    };\n    ContainerBase.bleedProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"bleed\", false);\n    ContainerBase.minHeightProperty = new serialization_1.PixelSizeProperty(serialization_1.Versions.v1_2, \"minHeight\");\n    __decorate([\n        (0, serialization_1.property)(ContainerBase.bleedProperty)\n    ], ContainerBase.prototype, \"_bleed\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ContainerBase.minHeightProperty)\n    ], ContainerBase.prototype, \"minPixelHeight\", void 0);\n    return ContainerBase;\n}(StylableCardElementContainer));\nexports.ContainerBase = ContainerBase;\nvar BackgroundImage = /** @class */ (function (_super) {\n    __extends(BackgroundImage, _super);\n    function BackgroundImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    BackgroundImage.prototype.getSchemaKey = function () {\n        return \"BackgroundImage\";\n    };\n    BackgroundImage.prototype.internalParse = function (source, context) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        }\n        else {\n            return _super.prototype.internalParse.call(this, source, context);\n        }\n    };\n    BackgroundImage.prototype.apply = function (element) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                    element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                    \"')\";\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    };\n    BackgroundImage.prototype.isValid = function () {\n        return this.url ? true : false;\n    };\n    //#region Schema\n    BackgroundImage.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    BackgroundImage.fillModeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fillMode\", Enums.FillMode, Enums.FillMode.Cover);\n    BackgroundImage.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"horizontalAlignment\", Enums.HorizontalAlignment, Enums.HorizontalAlignment.Left);\n    BackgroundImage.verticalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"verticalAlignment\", Enums.VerticalAlignment, Enums.VerticalAlignment.Top);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.urlProperty)\n    ], BackgroundImage.prototype, \"url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.fillModeProperty)\n    ], BackgroundImage.prototype, \"fillMode\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.horizontalAlignmentProperty)\n    ], BackgroundImage.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.verticalAlignmentProperty)\n    ], BackgroundImage.prototype, \"verticalAlignment\", void 0);\n    return BackgroundImage;\n}(serialization_1.SerializableObject));\nexports.BackgroundImage = BackgroundImage;\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //#endregion\n        _this._items = [];\n        _this._renderedItems = [];\n        return _this;\n    }\n    Object.defineProperty(Container.prototype, \"backgroundImage\", {\n        get: function () {\n            return this.getValue(Container.backgroundImageProperty);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Container.prototype.insertItemAt = function (item, index, forceInsert) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                }\n                else {\n                    this._items.splice(index, 0, item);\n                }\n                item.setParent(this);\n            }\n            else {\n                throw new Error(strings_1.Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.elementAlreadyParented());\n        }\n    };\n    Container.prototype.getItemsCollectionPropertyName = function () {\n        return \"items\";\n    };\n    Container.prototype.applyBackground = function () {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n        _super.prototype.applyBackground.call(this);\n    };\n    Container.prototype.applyRTL = function (element) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    };\n    Container.prototype.internalRender = function () {\n        this._renderedItems = [];\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        var hostConfig = this.hostConfig;\n        var element = document.createElement(\"div\");\n        this.applyRTL(element);\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n        if (this._items.length > 0) {\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n                    Utils.appendChild(element, renderedItem);\n                    this._renderedItems.push(item);\n                }\n            }\n        }\n        else {\n            if (this.isDesignMode()) {\n                var placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n                element.appendChild(placeholderElement);\n            }\n        }\n        return element;\n    };\n    Container.prototype.truncateOverflow = function (maxHeight) {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            var boundary_1 = this.renderedElement.offsetTop + maxHeight + 1;\n            var handleElement_1 = function (cardElement) {\n                var elt = cardElement.renderedElement;\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary_1)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            var sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement_1(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            var containerMaxHeight = boundary_1 - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                handleElement_1(item);\n            }\n            return true;\n        }\n        return false;\n    };\n    Container.prototype.undoOverflowTruncation = function () {\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item[\"resetOverflow\"]();\n        }\n    };\n    Container.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        var result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n        return result || _super.prototype.getHasBackground.call(this, ignoreBackgroundImages);\n    };\n    Container.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.clear();\n        this.setShouldFallback(false);\n        var jsonItems = source[this.getItemsCollectionPropertyName()];\n        if (Array.isArray(jsonItems)) {\n            for (var _i = 0, jsonItems_1 = jsonItems; _i < jsonItems_1.length; _i++) {\n                var item = jsonItems_1[_i];\n                var element = context.parseElement(this, item, this.forbiddenChildElements(), !this.isDesignMode());\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    };\n    Container.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        var collectionPropertyName = this.getItemsCollectionPropertyName();\n        context.serializeArray(target, collectionPropertyName, this._items);\n    };\n    Object.defineProperty(Container.prototype, \"isSelectable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Container.prototype.getEffectivePadding = function () {\n        if (shared_1.GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)) {\n            return new shared_1.PaddingDefinition();\n        }\n        return _super.prototype.getEffectivePadding.call(this);\n    };\n    Container.prototype.getEffectiveVerticalContentAlignment = function () {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n        var parentContainer = this.getParentContainer();\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    };\n    Container.prototype.getItemCount = function () {\n        return this._items.length;\n    };\n    Container.prototype.getItemAt = function (index) {\n        return this._items[index];\n    };\n    Container.prototype.getFirstVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (var _i = 0, _a = this._renderedItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n        return undefined;\n    };\n    Container.prototype.getLastVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (var i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n        return undefined;\n    };\n    Container.prototype.getJsonTypeName = function () {\n        return \"Container\";\n    };\n    Container.prototype.isFirstElement = function (element) {\n        var designMode = this.isDesignMode();\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n        return false;\n    };\n    Container.prototype.isLastElement = function (element) {\n        var designMode = this.isDesignMode();\n        for (var i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n        return false;\n    };\n    Container.prototype.isRtl = function () {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        }\n        else {\n            var parentContainer = this.getParentContainer();\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    };\n    Container.prototype.isBleedingAtTop = function () {\n        var firstRenderedItem = this.getFirstVisibleRenderedItem();\n        return (this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false));\n    };\n    Container.prototype.isBleedingAtBottom = function () {\n        var lastRenderedItem = this.getLastVisibleRenderedItem();\n        return (this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                    lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false));\n    };\n    Container.prototype.indexOf = function (cardElement) {\n        return this._items.indexOf(cardElement);\n    };\n    Container.prototype.addItem = function (item) {\n        this.insertItemAt(item, -1, false);\n    };\n    Container.prototype.insertItemBefore = function (item, insertBefore) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    };\n    Container.prototype.insertItemAfter = function (item, insertAfter) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    };\n    Container.prototype.removeItem = function (item) {\n        var itemIndex = this._items.indexOf(item);\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n            item.setParent(undefined);\n            this.updateLayout();\n            return true;\n        }\n        return false;\n    };\n    Container.prototype.clear = function () {\n        this._items = [];\n        this._renderedItems = [];\n    };\n    Container.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url,\n                mimeType: \"image\"\n            });\n        }\n        return result;\n    };\n    Container.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n            if (!result) {\n                for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    result = item.getActionById(id);\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(Container.prototype, \"padding\", {\n        get: function () {\n            return this.getPadding();\n        },\n        set: function (value) {\n            this.setPadding(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Container.prototype, \"selectAction\", {\n        get: function () {\n            return this._selectAction;\n        },\n        set: function (value) {\n            this._selectAction = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Container.prototype, \"bleed\", {\n        get: function () {\n            return this.getBleed();\n        },\n        set: function (value) {\n            this.setBleed(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Container.backgroundImageProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_0, \"backgroundImage\", BackgroundImage);\n    Container.verticalContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"verticalContentAlignment\", Enums.VerticalAlignment);\n    Container.rtlProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"rtl\");\n    __decorate([\n        (0, serialization_1.property)(Container.backgroundImageProperty)\n    ], Container.prototype, \"backgroundImage\", null);\n    __decorate([\n        (0, serialization_1.property)(Container.verticalContentAlignmentProperty)\n    ], Container.prototype, \"verticalContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Container.rtlProperty)\n    ], Container.prototype, \"rtl\", void 0);\n    return Container;\n}(ContainerBase));\nexports.Container = Container;\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column(width) {\n        if (width === void 0) { width = \"stretch\"; }\n        var _this = _super.call(this) || this;\n        _this.width = \"stretch\";\n        //#endregion\n        _this._computedWeight = 0;\n        _this.width = width;\n        return _this;\n    }\n    Column.prototype.adjustRenderedElementSize = function (renderedElement) {\n        var minDesignTimeColumnHeight = 20;\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        }\n        else {\n            renderedElement.style.minWidth = \"0\";\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        }\n        else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        }\n        else if (this.width instanceof shared_1.SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            }\n            else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                        (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                        \"%\";\n            }\n        }\n    };\n    Column.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    Object.defineProperty(Column.prototype, \"separatorOrientation\", {\n        get: function () {\n            return Enums.Orientation.Vertical;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Column.prototype.getJsonTypeName = function () {\n        return \"Column\";\n    };\n    Object.defineProperty(Column.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            if (this.parent && this.parent instanceof ColumnSet) {\n                return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n            }\n            else {\n                return false;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Column.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Column.widthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"width\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, Enums.SizeUnit.Weight);\n        }\n        else if (value === \"auto\" || value === \"stretch\") {\n            result = value;\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n                if (result.unit === Enums.SizeUnit.Pixel &&\n                    prop.targetVersion.compareTo(context.targetVersion) > 0) {\n                    invalidWidth = true;\n                }\n            }\n            catch (e) {\n                invalidWidth = true;\n            }\n        }\n        else {\n            invalidWidth = true;\n        }\n        if (invalidWidth) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidColumnWidth(value));\n            result = \"auto\";\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value instanceof shared_1.SizeAndUnit) {\n            if (value.unit === Enums.SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            }\n            else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        }\n        else {\n            context.serializeValue(target, \"width\", value);\n        }\n    }, \"stretch\");\n    __decorate([\n        (0, serialization_1.property)(Column.widthProperty)\n    ], Column.prototype, \"width\", void 0);\n    return Column;\n}(Container));\nexports.Column = Column;\nvar ColumnSet = /** @class */ (function (_super) {\n    __extends(ColumnSet, _super);\n    function ColumnSet() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columns = [];\n        return _this;\n    }\n    ColumnSet.prototype.createColumnInstance = function (source, context) {\n        return context.parseCardObject(this, source, [], !this.isDesignMode(), function (typeName) {\n            return !typeName || typeName === \"Column\" ? new Column() : undefined;\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    ColumnSet.prototype.internalRender = function () {\n        this._renderedColumns = [];\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            var hostConfig = this.hostConfig;\n            var element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n            if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n            var totalWeight = 0;\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.width instanceof shared_1.SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n            for (var _b = 0, _c = this._columns; _b < _c.length; _b++) {\n                var column = _c[_b];\n                if (column.width instanceof shared_1.SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0) {\n                    var computedWeight = (100 / totalWeight) * column.width.physicalSize;\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n                var renderedColumn = column.render();\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n                    Utils.appendChild(element, renderedColumn);\n                    this._renderedColumns.push(column);\n                }\n            }\n            return this._renderedColumns.length > 0 ? element : undefined;\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.truncateOverflow = function (maxHeight) {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            column[\"handleOverflow\"](maxHeight);\n        }\n        return true;\n    };\n    ColumnSet.prototype.undoOverflowTruncation = function () {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            column[\"resetOverflow\"]();\n        }\n    };\n    Object.defineProperty(ColumnSet.prototype, \"isSelectable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ColumnSet.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._columns = [];\n        this._renderedColumns = [];\n        var jsonColumns = source[\"columns\"];\n        if (Array.isArray(jsonColumns)) {\n            for (var _i = 0, jsonColumns_1 = jsonColumns; _i < jsonColumns_1.length; _i++) {\n                var item = jsonColumns_1[_i];\n                var column = this.createColumnInstance(item, context);\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    };\n    ColumnSet.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, \"columns\", this._columns);\n    };\n    ColumnSet.prototype.isFirstElement = function (element) {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.isBleedingAtTop = function () {\n        if (this.isBleeding()) {\n            return true;\n        }\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.isBleedingAtBottom = function () {\n        if (this.isBleeding()) {\n            return true;\n        }\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.getItemCount = function () {\n        return this._columns.length;\n    };\n    ColumnSet.prototype.getFirstVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.getLastVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.getColumnAt = function (index) {\n        return this._columns[index];\n    };\n    ColumnSet.prototype.getItemAt = function (index) {\n        return this.getColumnAt(index);\n    };\n    ColumnSet.prototype.getJsonTypeName = function () {\n        return \"ColumnSet\";\n    };\n    ColumnSet.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        var weightedColumns = 0;\n        var stretchedColumns = 0;\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            }\n            else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(this, Enums.ValidationEvent.Hint, strings_1.Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet());\n        }\n    };\n    ColumnSet.prototype.addColumn = function (column) {\n        if (!column.parent) {\n            this._columns.push(column);\n            column.setParent(this);\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    };\n    ColumnSet.prototype.removeItem = function (item) {\n        if (item instanceof Column) {\n            var itemIndex = this._columns.indexOf(item);\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    };\n    ColumnSet.prototype.isLeftMostElement = function (element) {\n        return this._columns.indexOf(element) === 0;\n    };\n    ColumnSet.prototype.isRightMostElement = function (element) {\n        return this._columns.indexOf(element) === this._columns.length - 1;\n    };\n    ColumnSet.prototype.isTopElement = function (element) {\n        return this._columns.indexOf(element) >= 0;\n    };\n    ColumnSet.prototype.isBottomElement = function (element) {\n        return this._columns.indexOf(element) >= 0;\n    };\n    ColumnSet.prototype.getActionById = function (id) {\n        var result = undefined;\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            result = column.getActionById(id);\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(ColumnSet.prototype, \"bleed\", {\n        get: function () {\n            return this.getBleed();\n        },\n        set: function (value) {\n            this.setBleed(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ColumnSet.prototype, \"padding\", {\n        get: function () {\n            return this.getPadding();\n        },\n        set: function (value) {\n            this.setPadding(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ColumnSet.prototype, \"selectAction\", {\n        get: function () {\n            return this._selectAction;\n        },\n        set: function (value) {\n            this._selectAction = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ColumnSet;\n}(ContainerBase));\nexports.ColumnSet = ColumnSet;\nfunction raiseImageLoadedEvent(image) {\n    var card = image.getRootElement();\n    var onImageLoadedHandler = card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\nfunction raiseAnchorClickedEvent(element, anchor, ev) {\n    var card = element.getRootElement();\n    var onAnchorClickedHandler = card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\nfunction raiseExecuteActionEvent(action) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onExecuteActionHandler = card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\nfunction raiseInlineCardExpandedEvent(action, isExpanded) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onInlineCardExpandedHandler = card && card.onInlineCardExpanded\n        ? card.onInlineCardExpanded\n        : AdaptiveCard.onInlineCardExpanded;\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\nfunction raiseInputValueChangedEvent(input) {\n    var card = input.getRootElement();\n    var onInputValueChangedHandler = card && card.onInputValueChanged\n        ? card.onInputValueChanged\n        : AdaptiveCard.onInputValueChanged;\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\nfunction raiseElementVisibilityChangedEvent(element, shouldUpdateLayout) {\n    if (shouldUpdateLayout === void 0) { shouldUpdateLayout = true; }\n    var rootElement = element.getRootElement();\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n    var card = rootElement;\n    var onElementVisibilityChangedHandler = card && card.onElementVisibilityChanged\n        ? card.onElementVisibilityChanged\n        : AdaptiveCard.onElementVisibilityChanged;\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\nfunction updateInputAdornersVisibility(input, hide) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    }\n    else {\n        // shows the time/date picker icon\n        input.readOnly = false;\n        // shows the cross button icon\n        input.required = false;\n    }\n}\nfunction shouldHideInputAdornersForRevealOnHover(input, eventType) {\n    // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n    // 1. intial render of card: hide input adorners\n    // 2. mouse hover on the card: show input adorners\n    // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n    // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n    // check if input still has the focus\n    var isInputInFocus = input === document.activeElement;\n    // check if mouse is still on the card\n    var isMouseOverCard = input.classList.contains(\"ac-inputStyle-revealOnHover-onhover\");\n    var hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n        (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n        (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n    return hideInputAdorners;\n}\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(action, target) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onDisplayOverflowActionMenuHandler = card && card.onDisplayOverflowActionMenu\n        ? card.onDisplayOverflowActionMenu\n        : AdaptiveCard.onDisplayOverflowActionMenu;\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(action, isAtRootLevelActions) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onRenderOverflowActionsHandler = card && card.onRenderOverflowActions\n        ? card.onRenderOverflowActions\n        : AdaptiveCard.onRenderOverflowActions;\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\nvar ContainerWithActions = /** @class */ (function (_super) {\n    __extends(ContainerWithActions, _super);\n    function ContainerWithActions() {\n        var _this = _super.call(this) || this;\n        _this._actionCollection = new ActionCollection(_this);\n        return _this;\n    }\n    ContainerWithActions.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.parseActions(source, context);\n    };\n    ContainerWithActions.prototype.parseActions = function (source, context) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    };\n    ContainerWithActions.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        this._actionCollection.toJSON(target, \"actions\", context);\n    };\n    ContainerWithActions.prototype.internalRender = function () {\n        var element = _super.prototype.internalRender.call(this);\n        if (element) {\n            var renderedActions = this._actionCollection.render(this.hostConfig.actions.actionsOrientation);\n            if (renderedActions) {\n                Utils.appendChild(element, renderSeparation(this.hostConfig, {\n                    spacing: this.hostConfig.getEffectiveSpacing(this.hostConfig.actions.spacing)\n                }, Enums.Orientation.Horizontal));\n                Utils.appendChild(element, renderedActions);\n            }\n            if (this.renderIfEmpty) {\n                return element;\n            }\n            else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    ContainerWithActions.prototype.getHasExpandedAction = function () {\n        if (this.renderedActionCount === 0) {\n            return false;\n        }\n        else if (this.renderedActionCount === 1) {\n            return (this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction);\n        }\n        else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    };\n    Object.defineProperty(ContainerWithActions.prototype, \"renderedActionCount\", {\n        get: function () {\n            return this._actionCollection.renderedActionCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContainerWithActions.prototype, \"renderIfEmpty\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContainerWithActions.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this._actionCollection.releaseDOMResources();\n    };\n    ContainerWithActions.prototype.getActionCount = function () {\n        return this._actionCollection.getActionCount();\n    };\n    ContainerWithActions.prototype.getActionAt = function (index) {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        }\n        else {\n            return _super.prototype.getActionAt.call(this, index);\n        }\n    };\n    ContainerWithActions.prototype.getActionById = function (id) {\n        var result = this._actionCollection.getActionById(id);\n        return result ? result : _super.prototype.getActionById.call(this, id);\n    };\n    ContainerWithActions.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    };\n    ContainerWithActions.prototype.isLastElement = function (element) {\n        return _super.prototype.isLastElement.call(this, element) && this._actionCollection.getActionCount() === 0;\n    };\n    ContainerWithActions.prototype.addAction = function (action) {\n        this._actionCollection.addAction(action);\n    };\n    ContainerWithActions.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this._actionCollection.clear();\n    };\n    ContainerWithActions.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = _super.prototype.getAllInputs.call(this, processActions);\n        if (processActions) {\n            result.push.apply(result, this._actionCollection.getAllInputs(processActions));\n        }\n        return result;\n    };\n    ContainerWithActions.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        result.push.apply(result, this._actionCollection.getResourceInformation());\n        return result;\n    };\n    ContainerWithActions.prototype.isBleedingAtBottom = function () {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return _super.prototype.isBleedingAtBottom.call(this);\n        }\n        else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction);\n            }\n            else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    };\n    ContainerWithActions.prototype.getForbiddenActionNames = function () {\n        return [];\n    };\n    ContainerWithActions.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n        return result;\n    };\n    Object.defineProperty(ContainerWithActions.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerWithActions;\n}(Container));\nexports.ContainerWithActions = ContainerWithActions;\nvar RefreshActionProperty = /** @class */ (function (_super) {\n    __extends(RefreshActionProperty, _super);\n    function RefreshActionProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, undefined) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    RefreshActionProperty.prototype.parse = function (sender, source, context) {\n        var action = context.parseAction(sender.parent, source[this.name], [], false);\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n            context.logParseEvent(sender, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(action.getJsonTypeName()));\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"action\"));\n        return undefined;\n    };\n    RefreshActionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n    };\n    return RefreshActionProperty;\n}(serialization_1.PropertyDefinition));\nexports.RefreshActionProperty = RefreshActionProperty;\nvar RefreshDefinition = /** @class */ (function (_super) {\n    __extends(RefreshDefinition, _super);\n    function RefreshDefinition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RefreshDefinition.prototype, \"action\", {\n        get: function () {\n            return this.getValue(RefreshDefinition.actionProperty);\n        },\n        set: function (value) {\n            this.setValue(RefreshDefinition.actionProperty, value);\n            if (value) {\n                value.setParent(this.parent);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RefreshDefinition.prototype.getSchemaKey = function () {\n        return \"RefreshDefinition\";\n    };\n    //#region Schema\n    RefreshDefinition.actionProperty = new RefreshActionProperty(serialization_1.Versions.v1_4, \"action\");\n    RefreshDefinition.userIdsProperty = new serialization_1.StringArrayProperty(serialization_1.Versions.v1_4, \"userIds\");\n    __decorate([\n        (0, serialization_1.property)(RefreshDefinition.actionProperty)\n    ], RefreshDefinition.prototype, \"action\", null);\n    __decorate([\n        (0, serialization_1.property)(RefreshDefinition.userIdsProperty)\n    ], RefreshDefinition.prototype, \"userIds\", void 0);\n    return RefreshDefinition;\n}(serialization_1.SerializableObject));\nexports.RefreshDefinition = RefreshDefinition;\nvar AuthCardButton = /** @class */ (function (_super) {\n    __extends(AuthCardButton, _super);\n    function AuthCardButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AuthCardButton.prototype.getSchemaKey = function () {\n        return \"AuthCardButton\";\n    };\n    //#region Schema\n    AuthCardButton.typeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"type\");\n    AuthCardButton.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"title\");\n    AuthCardButton.imageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"image\");\n    AuthCardButton.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"value\");\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.typeProperty)\n    ], AuthCardButton.prototype, \"type\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.titleProperty)\n    ], AuthCardButton.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.imageProperty)\n    ], AuthCardButton.prototype, \"image\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.valueProperty)\n    ], AuthCardButton.prototype, \"value\", void 0);\n    return AuthCardButton;\n}(serialization_1.SerializableObject));\nexports.AuthCardButton = AuthCardButton;\nvar TokenExchangeResource = /** @class */ (function (_super) {\n    __extends(TokenExchangeResource, _super);\n    function TokenExchangeResource() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TokenExchangeResource.prototype.getSchemaKey = function () {\n        return \"TokenExchangeResource\";\n    };\n    //#region Schema\n    TokenExchangeResource.idProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"id\");\n    TokenExchangeResource.uriProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"uri\");\n    TokenExchangeResource.providerIdProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"providerId\");\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.idProperty)\n    ], TokenExchangeResource.prototype, \"id\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.uriProperty)\n    ], TokenExchangeResource.prototype, \"uri\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.providerIdProperty)\n    ], TokenExchangeResource.prototype, \"providerId\", void 0);\n    return TokenExchangeResource;\n}(serialization_1.SerializableObject));\nexports.TokenExchangeResource = TokenExchangeResource;\nvar Authentication = /** @class */ (function (_super) {\n    __extends(Authentication, _super);\n    function Authentication() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Authentication.prototype.getSchemaKey = function () {\n        return \"Authentication\";\n    };\n    //#region Schema\n    Authentication.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"text\");\n    Authentication.connectionNameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"connectionName\");\n    Authentication.buttonsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_4, \"buttons\", AuthCardButton);\n    Authentication.tokenExchangeResourceProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"tokenExchangeResource\", TokenExchangeResource, true);\n    __decorate([\n        (0, serialization_1.property)(Authentication.textProperty)\n    ], Authentication.prototype, \"text\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.connectionNameProperty)\n    ], Authentication.prototype, \"connectionName\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.buttonsProperty)\n    ], Authentication.prototype, \"buttons\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.tokenExchangeResourceProperty)\n    ], Authentication.prototype, \"tokenExchangeResource\", void 0);\n    return Authentication;\n}(serialization_1.SerializableObject));\nexports.Authentication = Authentication;\n// @dynamic\nvar AdaptiveCard = /** @class */ (function (_super) {\n    __extends(AdaptiveCard, _super);\n    function AdaptiveCard() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.designMode = false;\n        return _this;\n    }\n    Object.defineProperty(AdaptiveCard.prototype, \"refresh\", {\n        get: function () {\n            return this.getValue(AdaptiveCard.refreshProperty);\n        },\n        set: function (value) {\n            this.setValue(AdaptiveCard.refreshProperty, value);\n            if (value) {\n                value.parent = this;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard, \"processMarkdown\", {\n        get: function () {\n            throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n        },\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        set: function (_value) {\n            throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.applyMarkdown = function (text) {\n        var result = {\n            didProcess: false\n        };\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        }\n        else if (window.markdownit) {\n            // Check for markdownit\n            var markdownIt = window.markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        }\n        else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(strings_1.Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n        return result;\n    };\n    AdaptiveCard.prototype.isVersionSupported = function () {\n        if (this.bypassVersionCheck) {\n            return true;\n        }\n        else {\n            var unsupportedVersion = !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n            return !unsupportedVersion;\n        }\n    };\n    AdaptiveCard.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext(this.version);\n    };\n    AdaptiveCard.prototype.getItemsCollectionPropertyName = function () {\n        return \"body\";\n    };\n    AdaptiveCard.prototype.internalParse = function (source, context) {\n        this._fallbackCard = undefined;\n        var fallbackElement = context.parseElement(undefined, source[\"fallback\"], this.forbiddenChildElements(), !this.isDesignMode());\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n        _super.prototype.internalParse.call(this, source, context);\n    };\n    AdaptiveCard.prototype.internalToJSON = function (target, context) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n        _super.prototype.internalToJSON.call(this, target, context);\n    };\n    AdaptiveCard.prototype.internalRender = function () {\n        var renderedElement = _super.prototype.internalRender.call(this);\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n        return renderedElement;\n    };\n    AdaptiveCard.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        return true;\n    };\n    AdaptiveCard.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding);\n    };\n    AdaptiveCard.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    Object.defineProperty(AdaptiveCard.prototype, \"renderIfEmpty\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"bypassVersionCheck\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"allowCustomStyle\", {\n        get: function () {\n            return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"hasBackground\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.prototype.getJsonTypeName = function () {\n        return \"AdaptiveCard\";\n    };\n    AdaptiveCard.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(this, Enums.ValidationEvent.MissingCardType, strings_1.Strings.errors.invalidCardType());\n        }\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"version\"));\n        }\n        else if (!this.isVersionSupported()) {\n            context.addFailure(this, Enums.ValidationEvent.UnsupportedCardVersion, strings_1.Strings.errors.unsupportedCardVersion(this.version.toString(), this.maxVersion.toString()));\n        }\n    };\n    AdaptiveCard.prototype.render = function (target) {\n        var _this = this;\n        var renderedCard;\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n            renderedCard = this._fallbackCard.render();\n        }\n        else {\n            renderedCard = _super.prototype.render.call(this);\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (shared_1.GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n                renderedCard.onmouseenter = function (ev) {\n                    _this.updateInputsVisualState(true /* hover */);\n                };\n                renderedCard.onmouseleave = function (ev) {\n                    _this.updateInputsVisualState(false /* hover */);\n                };\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n            this.updateLayout();\n        }\n        return renderedCard;\n    };\n    AdaptiveCard.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = true; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            var padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement.offsetHeight - padding);\n        }\n    };\n    AdaptiveCard.prototype.shouldFallback = function () {\n        return _super.prototype.shouldFallback.call(this) || !this.isVersionSupported();\n    };\n    Object.defineProperty(AdaptiveCard.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n    //#region Schema\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    AdaptiveCard.$schemaProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"$schema\", function (sender, property, source, context) {\n        return AdaptiveCard.schemaUrl;\n    }, function (sender, prop, target, value, context) {\n        context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n    });\n    AdaptiveCard.versionProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"version\", function (sender, prop, source, context) {\n        var version = serialization_1.Version.parse(source[prop.name], context);\n        if (version === undefined) {\n            version = serialization_1.Versions.latest;\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidCardVersion(version.toString()));\n        }\n        return version;\n    }, function (sender, prop, target, value, context) {\n        if (value !== undefined) {\n            context.serializeValue(target, prop.name, value.toString());\n        }\n    }, serialization_1.Versions.v1_0);\n    AdaptiveCard.fallbackTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"fallbackText\");\n    AdaptiveCard.speakProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"speak\");\n    AdaptiveCard.refreshProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"refresh\", RefreshDefinition, true);\n    AdaptiveCard.authenticationProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"authentication\", Authentication, true);\n    //#endregion\n    AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = false;\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.versionProperty)\n    ], AdaptiveCard.prototype, \"version\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.fallbackTextProperty)\n    ], AdaptiveCard.prototype, \"fallbackText\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.speakProperty)\n    ], AdaptiveCard.prototype, \"speak\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.refreshProperty)\n    ], AdaptiveCard.prototype, \"refresh\", null);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.authenticationProperty)\n    ], AdaptiveCard.prototype, \"authentication\", void 0);\n    return AdaptiveCard;\n}(ContainerWithActions));\nexports.AdaptiveCard = AdaptiveCard;\nvar InlineAdaptiveCard = /** @class */ (function (_super) {\n    __extends(InlineAdaptiveCard, _super);\n    function InlineAdaptiveCard() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.suppressStyle = false;\n        return _this;\n    }\n    InlineAdaptiveCard.prototype.getSchemaKey = function () {\n        return \"InlineAdaptiveCard\";\n    };\n    InlineAdaptiveCard.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    };\n    //#endregion\n    InlineAdaptiveCard.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding, this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding);\n    };\n    Object.defineProperty(InlineAdaptiveCard.prototype, \"bypassVersionCheck\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(InlineAdaptiveCard.prototype, \"defaultStyle\", {\n        get: function () {\n            if (this.suppressStyle) {\n                return Enums.ContainerStyle.Default;\n            }\n            else {\n                return this.hostConfig.actions.showCard.style\n                    ? this.hostConfig.actions.showCard.style\n                    : Enums.ContainerStyle.Emphasis;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InlineAdaptiveCard.prototype.render = function (target) {\n        var renderedCard = _super.prototype.render.call(this, target);\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n        return renderedCard;\n    };\n    return InlineAdaptiveCard;\n}(AdaptiveCard));\nvar SerializationContext = /** @class */ (function (_super) {\n    __extends(SerializationContext, _super);\n    function SerializationContext() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._forbiddenTypes = new Set();\n        return _this;\n    }\n    SerializationContext.prototype.internalParseCardObject = function (parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent) {\n        var _this = this;\n        var result = undefined;\n        if (source && typeof source === \"object\") {\n            var oldForbiddenTypes_1 = new Set();\n            this._forbiddenTypes.forEach(function (type) {\n                oldForbiddenTypes_1.add(type);\n            });\n            forbiddenTypes.forEach(function (type) {\n                _this._forbiddenTypes.add(type);\n            });\n            var typeName = Utils.parseString(source[\"type\"]);\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            }\n            else {\n                var tryToFallback = false;\n                result = createInstanceCallback(typeName);\n                if (!result) {\n                    tryToFallback = shared_1.GlobalSettings.enableFallback && allowFallback;\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                }\n                else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n                    tryToFallback =\n                        shared_1.GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n                if (tryToFallback) {\n                    var fallback = source[\"fallback\"];\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    }\n                    else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject(parent, fallback, forbiddenTypes, true, createInstanceCallback, logParseEvent);\n                    }\n                }\n            }\n            this._forbiddenTypes = oldForbiddenTypes_1;\n        }\n        return result;\n    };\n    SerializationContext.prototype.cardObjectParsed = function (o, source) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        }\n        else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    };\n    SerializationContext.prototype.shouldSerialize = function (o) {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        }\n        else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        }\n        else {\n            return true;\n        }\n    };\n    SerializationContext.prototype.parseCardObject = function (parent, source, forbiddenTypeNames, allowFallback, createInstanceCallback, logParseEvent) {\n        var forbiddenTypes = new Set(forbiddenTypeNames);\n        var result = this.internalParseCardObject(parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent);\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n        return result;\n    };\n    SerializationContext.prototype.parseElement = function (parent, source, forbiddenTypes, allowFallback) {\n        var _this = this;\n        return this.parseCardObject(parent, source, forbiddenTypes, allowFallback, function (typeName) {\n            return _this.elementRegistry.createInstance(typeName, _this.targetVersion);\n        }, function (typeName, errorType) {\n            if (errorType === Enums.TypeErrorType.UnknownType) {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownElementType, strings_1.Strings.errors.unknownElementType(typeName));\n            }\n            else {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n            }\n        });\n    };\n    SerializationContext.prototype.parseAction = function (parent, source, forbiddenActionTypes, allowFallback) {\n        var _this = this;\n        return this.parseCardObject(parent, source, forbiddenActionTypes, allowFallback, function (typeName) {\n            return _this.actionRegistry.createInstance(typeName, _this.targetVersion);\n        }, function (typeName, errorType) {\n            if (errorType === Enums.TypeErrorType.UnknownType) {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownActionType, strings_1.Strings.errors.unknownActionType(typeName));\n            }\n            else {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(typeName));\n            }\n        });\n    };\n    Object.defineProperty(SerializationContext.prototype, \"elementRegistry\", {\n        get: function () {\n            var _a;\n            return (_a = this._elementRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.elements;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    SerializationContext.prototype.setElementRegistry = function (value) {\n        this._elementRegistry = value;\n    };\n    Object.defineProperty(SerializationContext.prototype, \"actionRegistry\", {\n        get: function () {\n            var _a;\n            return (_a = this._actionRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.actions;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    SerializationContext.prototype.setActionRegistry = function (value) {\n        this._actionRegistry = value;\n    };\n    return SerializationContext;\n}(serialization_1.BaseSerializationContext));\nexports.SerializationContext = SerializationContext;\nregistry_1.GlobalRegistry.defaultElements.register(\"Container\", Container);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nregistry_1.GlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextRun\", TextRun, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Image\", Image);\nregistry_1.GlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"Media\", Media, serialization_1.Versions.v1_1);\nregistry_1.GlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\nregistry_1.GlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nregistry_1.GlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nregistry_1.GlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nregistry_1.GlobalRegistry.defaultActions.register(ToggleVisibilityAction.JsonTypeName, ToggleVisibilityAction, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, serialization_1.Versions.v1_4);\n//# sourceMappingURL=card-elements.js.map","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = $(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CarouselEvent = exports.Carousel = exports.CarouselPage = void 0;\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar card_elements_1 = require(\"./card-elements\");\nvar Enums = require(\"./enums\");\nvar serialization_1 = require(\"./serialization\");\nvar registry_1 = require(\"./registry\");\nvar enums_1 = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar swiper_1 = require(\"swiper\");\nvar Utils = require(\"./utils\");\nvar shared_1 = require(\"./shared\");\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\nvar CarouselPage = /** @class */ (function (_super) {\n    __extends(CarouselPage, _super);\n    function CarouselPage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#region Schema\n    CarouselPage.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(card_elements_1.Container.styleProperty);\n        schema.remove(card_elements_1.Container.bleedProperty);\n        schema.remove(card_elements_1.Container.isVisibleProperty);\n    };\n    //#endregion\n    CarouselPage.prototype.internalRender = function () {\n        var carouselSlide = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        var renderedElement = _super.prototype.internalRender.call(this);\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    };\n    CarouselPage.prototype.getForbiddenActionTypes = function () {\n        return [card_elements_1.ShowCardAction, card_elements_1.ToggleVisibilityAction];\n    };\n    CarouselPage.prototype.getForbiddenChildElements = function () {\n        return this.forbiddenChildElements();\n    };\n    CarouselPage.prototype.forbiddenChildElements = function () {\n        return __spreadArray([\n            card_elements_1.ToggleVisibilityAction.JsonTypeName,\n            card_elements_1.ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\"\n        ], _super.prototype.forbiddenChildElements.call(this), true);\n    };\n    CarouselPage.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.setShouldFallback(false);\n    };\n    CarouselPage.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    CarouselPage.prototype.getJsonTypeName = function () {\n        return \"CarouselPage\";\n    };\n    Object.defineProperty(CarouselPage.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CarouselPage.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CarouselPage;\n}(card_elements_1.Container));\nexports.CarouselPage = CarouselPage;\nvar Carousel = /** @class */ (function (_super) {\n    __extends(Carousel, _super);\n    function Carousel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.carouselLoop = true;\n        _this.carouselOrientation = Enums.Orientation.Horizontal;\n        _this._pages = [];\n        _this._currentIndex = 0;\n        _this._previousEventType = Enums.CarouselInteractionEvent.Pagination;\n        return _this;\n    }\n    //#region Schema\n    Carousel.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(card_elements_1.Container.styleProperty);\n        schema.remove(card_elements_1.Container.bleedProperty);\n        schema.remove(card_elements_1.Container.isVisibleProperty);\n    };\n    Object.defineProperty(Carousel.prototype, \"timer\", {\n        get: function () {\n            var timer = this.getValue(Carousel.timerProperty);\n            if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n                console.warn(strings_1.Strings.errors.tooLittleTimeDelay);\n                timer = this.hostConfig.carousel.minAutoplayDelay;\n            }\n            return timer;\n        },\n        set: function (value) {\n            if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n                console.warn(strings_1.Strings.errors.tooLittleTimeDelay);\n                this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n            }\n            else {\n                this.setValue(Carousel.timerProperty, value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"initialPageIndex\", {\n        get: function () {\n            return this.getValue(Carousel.initialPageProperty);\n        },\n        set: function (value) {\n            if (this.isValidParsedPageIndex(value)) {\n                this.setValue(Carousel.initialPageProperty, value);\n            }\n            else {\n                console.warn(strings_1.Strings.errors.invalidInitialPageIndex(value));\n                this.setValue(Carousel.initialPageProperty, 0);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.isValidParsedPageIndex = function (index) {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    };\n    Carousel.prototype.isValidRenderedPageIndex = function (index) {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    };\n    Carousel.prototype.isValidPageIndex = function (index, collectionSize) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    };\n    Object.defineProperty(Carousel.prototype, \"previousEventType\", {\n        //#endregion\n        get: function () {\n            return this._previousEventType;\n        },\n        set: function (eventType) {\n            this._previousEventType = eventType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    Carousel.prototype.forbiddenChildElements = function () {\n        return __spreadArray([\n            card_elements_1.ToggleVisibilityAction.JsonTypeName,\n            card_elements_1.ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\"\n        ], _super.prototype.forbiddenChildElements.call(this), true);\n    };\n    Carousel.prototype.adjustRenderedElementSize = function (renderedElement) {\n        _super.prototype.adjustRenderedElementSize.call(this, renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) {\n            this._containerForAdorners.style.height = \"100%\";\n        }\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    };\n    Carousel.prototype.getJsonTypeName = function () {\n        return \"Carousel\";\n    };\n    Carousel.prototype.getItemCount = function () {\n        return this._pages.length;\n    };\n    Carousel.prototype.getItemAt = function (index) {\n        return this._pages[index];\n    };\n    Carousel.prototype.addPage = function (page) {\n        this._pages.push(page);\n        page.setParent(this);\n    };\n    Carousel.prototype.removeItem = function (item) {\n        if (item instanceof CarouselPage) {\n            var itemIndex = this._pages.indexOf(item);\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    Carousel.prototype.getFirstVisibleRenderedItem = function () {\n        var _a;\n        if (this.renderedElement && ((_a = this._renderedPages) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return this._renderedPages[0];\n        }\n        else {\n            return undefined;\n        }\n    };\n    Carousel.prototype.getLastVisibleRenderedItem = function () {\n        var _a;\n        if (this.renderedElement && ((_a = this._renderedPages) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        }\n        else {\n            return undefined;\n        }\n    };\n    Object.defineProperty(Carousel.prototype, \"currentPageId\", {\n        get: function () {\n            var _a, _b;\n            if ((_b = (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.slides) === null || _b === void 0 ? void 0 : _b.length) {\n                var activeSlide = this._carousel.slides[this._carousel.activeIndex];\n                return activeSlide.id;\n            }\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"currentPageIndex\", {\n        get: function () {\n            var _a;\n            return (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.realIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._pages = [];\n        var jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (var _i = 0, jsonPages_1 = jsonPages; _i < jsonPages_1.length; _i++) {\n                var item = jsonPages_1[_i];\n                var page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    };\n    Carousel.prototype.validateParsing = function (context) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(this, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n        }\n    };\n    Carousel.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, \"pages\", this._pages);\n    };\n    Carousel.prototype.internalRender = function () {\n        var _a;\n        this._renderedPages = [];\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n        this.validateOrientationProperties();\n        var cardLevelContainer = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n        var carouselContainer = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n        var containerForAdorners = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n        cardLevelContainer.appendChild(containerForAdorners);\n        var navigationContainer = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n        containerForAdorners.appendChild(navigationContainer);\n        var carouselWrapper = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\"swiper-wrapper\", \"ac-carousel-card-container\");\n        carouselWrapper.style.display = \"flex\";\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n        var prevElementDiv = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\"swiper-button-prev\");\n        var nextElementDiv = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\"swiper-button-next\");\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        }\n        else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n        var pagination = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\"swiper-pagination\", \"ac-carousel-pagination\");\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n        var requestedNumberOfPages = Math.min(this._pages.length, this.hostConfig.carousel.maxCarouselPages);\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(strings_1.Strings.errors.tooManyCarouselPages);\n        }\n        if (this._pages.length > 0) {\n            for (var i = 0; i < requestedNumberOfPages; i++) {\n                var page = this._pages[i];\n                var renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem === null || renderedItem === void 0 ? void 0 : renderedItem.classList.add(\"ac-carousel-page\");\n                (_a = renderedItem === null || renderedItem === void 0 ? void 0 : renderedItem.children[0]) === null || _a === void 0 ? void 0 : _a.classList.add(\"ac-carousel-page-container\");\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n        carouselContainer.appendChild(carouselWrapper);\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n        containerForAdorners.appendChild(carouselContainer);\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            }\n            else {\n                console.warn(strings_1.Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0;\n            }\n        }\n        this.initializeCarouselControl(carouselContainer, nextElementDiv, prevElementDiv, pagination, this.rtl);\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    };\n    Carousel.prototype.applyRTL = function (pagination) {\n        _super.prototype.applyRTL.call(this, this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-pagination-rtl\"));\n        }\n    };\n    Carousel.prototype.validateOrientationProperties = function () {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    };\n    Carousel.prototype.updateCssForHorizontalCarousel = function (prevElementDiv, nextElementDiv) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-left\"));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-right\"));\n    };\n    Carousel.prototype.updateCssForVerticalCarousel = function (navigationContainer, prevElementDiv, nextElementDiv) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-container-vertical\"));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-navigation-vertical\"));\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-up\"));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-down\"));\n    };\n    Carousel.prototype.initializeCarouselControl = function (carouselContainer, nextElement, prevElement, paginationElement, rtl) {\n        var _this = this;\n        var _a, _b, _c;\n        var nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        var prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n        var prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        var nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n        var swiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [swiper_1.Navigation, swiper_1.Pagination, swiper_1.Scrollbar, swiper_1.A11y, swiper_1.History, swiper_1.Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n        if (this.timer && !this.isDesignMode()) {\n            (_a = swiperOptions.modules) === null || _a === void 0 ? void 0 : _a.push(swiper_1.Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n        var carousel = new swiper_1.Swiper(carouselContainer, swiperOptions);\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            var _a;\n            (_a = carousel.autoplay) === null || _a === void 0 ? void 0 : _a.stop();\n        });\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            var _a;\n            (_a = carousel.autoplay) === null || _a === void 0 ? void 0 : _a.start();\n        });\n        carousel.on('navigationNext', function (swiper) {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n        carousel.on('navigationPrev', function (swiper) {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n        carousel.on('slideChangeTransitionEnd', function (swiper) {\n            _this.currentIndex = swiper.realIndex;\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination);\n        });\n        carousel.on('autoplay', function () {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n        carousel.on('paginationRender', function (swiper, paginationEl) {\n            swiper.pagination.bullets.forEach(function (bullet, index) {\n                bullet.addEventListener(\"keypress\", function (event) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n        carousel.on('destroy', function () {\n            _this.destroyResizeObserver();\n        });\n        prevElement.title = (_b = prevElement.ariaLabel) !== null && _b !== void 0 ? _b : strings_1.Strings.defaults.carouselNavigationPreviousTooltip();\n        nextElement.title = (_c = nextElement.ariaLabel) !== null && _c !== void 0 ? _c : strings_1.Strings.defaults.carouselNavigationNextTooltip();\n        this._carousel = carousel;\n        this.createResizeObserver();\n    };\n    Carousel.prototype.createCarouselPageInstance = function (source, context) {\n        return context.parseCardObject(this, source, this.forbiddenChildElements(), !this.isDesignMode(), function (typeName) {\n            return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, enums_1.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    Carousel.prototype.slideTo = function (index) {\n        var _a;\n        (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.slideTo(index);\n    };\n    Object.defineProperty(Carousel.prototype, \"carouselPageContainer\", {\n        get: function () {\n            return this._carouselPageContainer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"currentIndex\", {\n        get: function () {\n            return this._currentIndex;\n        },\n        set: function (currentIndex) {\n            this._currentIndex = currentIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.createCarouselEvent = function (type) {\n        var currentPageId;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);\n    };\n    Carousel.prototype.raiseCarouselEvent = function (eventType) {\n        var card = this.parent ? this.parent.getRootElement() : undefined;\n        var onCarouselEventHandler = card && card.onCarouselEvent\n            ? card.onCarouselEvent\n            : card_elements_1.AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n            // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    };\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    Carousel.prototype.createResizeObserver = function () {\n        var _this = this;\n        var _a;\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n        this._observer = new ResizeObserver(function (entries) {\n            var _a, _b, _c, _d;\n            var width = (_a = _this._carousel) === null || _a === void 0 ? void 0 : _a.width;\n            var height = (_b = _this._carousel) === null || _b === void 0 ? void 0 : _b.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_a) {\n                var _b;\n                var contentBoxSize = _a.contentBoxSize, contentRect = _a.contentRect, target = _a.target;\n                if (target && target !== ((_b = _this._carousel) === null || _b === void 0 ? void 0 : _b.el)) {\n                    return;\n                }\n                newWidth = contentRect\n                    ? contentRect.width\n                    : (contentBoxSize[0] || contentBoxSize).inlineSize;\n                newHeight = contentRect\n                    ? contentRect.height\n                    : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n            if (newWidth !== width || newHeight !== height) {\n                if (_this.checkIfCarouselInValidStateForResizeEvent()) {\n                    (_c = _this._carousel) === null || _c === void 0 ? void 0 : _c.emit('beforeResize');\n                    (_d = _this._carousel) === null || _d === void 0 ? void 0 : _d.emit('resize');\n                }\n            }\n        });\n        this._observer.observe((_a = this._carousel) === null || _a === void 0 ? void 0 : _a.el);\n    };\n    Carousel.prototype.destroyResizeObserver = function () {\n        var _a;\n        if (this._observer && this._observer.unobserve && ((_a = this._carousel) === null || _a === void 0 ? void 0 : _a.el)) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n    ;\n    Carousel.prototype.checkIfCarouselInValidStateForResizeEvent = function () {\n        return this._carousel && !this._carousel.destroyed;\n    };\n    Carousel.timerProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"timer\", undefined);\n    Carousel.initialPageProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"initialPage\", 0);\n    Carousel.loopProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"loop\", true);\n    Carousel.orientationProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"orientation\", Enums.Orientation, Enums.Orientation.Horizontal);\n    Carousel.carouselHeightProperty = new serialization_1.PixelSizeProperty(serialization_1.Versions.v1_6, \"heightInPixels\");\n    __decorate([\n        (0, serialization_1.property)(Carousel.timerProperty)\n    ], Carousel.prototype, \"timer\", null);\n    __decorate([\n        (0, serialization_1.property)(Carousel.initialPageProperty)\n    ], Carousel.prototype, \"initialPageIndex\", null);\n    __decorate([\n        (0, serialization_1.property)(Carousel.loopProperty)\n    ], Carousel.prototype, \"carouselLoop\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Carousel.orientationProperty)\n    ], Carousel.prototype, \"carouselOrientation\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Carousel.carouselHeightProperty)\n    ], Carousel.prototype, \"carouselHeight\", void 0);\n    return Carousel;\n}(card_elements_1.Container));\nexports.Carousel = Carousel;\nvar CarouselEvent = /** @class */ (function () {\n    function CarouselEvent(type, carouselId, activeCarouselPageId, activeCarouselPageIndex) {\n        this.type = type;\n        this.carouselId = carouselId;\n        this.activeCarouselPageId = activeCarouselPageId;\n        this.activeCarouselPageIndex = activeCarouselPageIndex;\n    }\n    return CarouselEvent;\n}());\nexports.CarouselEvent = CarouselEvent;\nregistry_1.GlobalRegistry.defaultElements.register(\"Carousel\", Carousel, serialization_1.Versions.v1_6);\n//# sourceMappingURL=carousel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Table = exports.TableRow = exports.TableCell = exports.StylableContainer = exports.TableColumnDefinition = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar card_elements_1 = require(\"./card-elements\");\nvar enums_1 = require(\"./enums\");\nvar registry_1 = require(\"./registry\");\nvar serialization_1 = require(\"./serialization\");\nvar shared_1 = require(\"./shared\");\nvar strings_1 = require(\"./strings\");\nvar utils_1 = require(\"./utils\");\nvar TableColumnDefinition = /** @class */ (function (_super) {\n    __extends(TableColumnDefinition, _super);\n    function TableColumnDefinition() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.width = new shared_1.SizeAndUnit(1, enums_1.SizeUnit.Weight);\n        return _this;\n    }\n    TableColumnDefinition.prototype.getSchemaKey = function () {\n        return \"ColumnDefinition\";\n    };\n    TableColumnDefinition.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    TableColumnDefinition.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    TableColumnDefinition.widthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_5, \"width\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, enums_1.SizeUnit.Weight);\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n            }\n            catch (e) {\n                invalidWidth = true;\n            }\n        }\n        else {\n            invalidWidth = true;\n        }\n        if (invalidWidth) {\n            context.logParseEvent(sender, enums_1.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidColumnWidth(value));\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value.unit === enums_1.SizeUnit.Pixel) {\n            context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n        }\n        else {\n            context.serializeNumber(target, \"width\", value.physicalSize);\n        }\n    }, new shared_1.SizeAndUnit(1, enums_1.SizeUnit.Weight));\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    ], TableColumnDefinition.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    ], TableColumnDefinition.prototype, \"verticalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.widthProperty)\n    ], TableColumnDefinition.prototype, \"width\", void 0);\n    return TableColumnDefinition;\n}(serialization_1.SerializableObject));\nexports.TableColumnDefinition = TableColumnDefinition;\nvar StylableContainer = /** @class */ (function (_super) {\n    __extends(StylableContainer, _super);\n    function StylableContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._items = [];\n        return _this;\n    }\n    StylableContainer.prototype.parseItem = function (source, context) {\n        var _this = this;\n        return context.parseCardObject(this, source, [], // Forbidden types not supported for elements for now\n        !this.isDesignMode(), function (typeName) {\n            return _this.createItemInstance(typeName);\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, enums_1.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    StylableContainer.prototype.internalAddItem = function (item) {\n        if (!item.parent) {\n            this._items.push(item);\n            item.setParent(this);\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.elementAlreadyParented());\n        }\n    };\n    StylableContainer.prototype.internalRemoveItem = function (item) {\n        var itemIndex = this._items.indexOf(item);\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n            item.setParent(undefined);\n            this.updateLayout();\n            return true;\n        }\n        return false;\n    };\n    StylableContainer.prototype.internalIndexOf = function (item) {\n        return this._items.indexOf(item);\n    };\n    StylableContainer.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._items = [];\n        var items = source[this.getCollectionPropertyName()];\n        if (Array.isArray(items)) {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                var instance = this.parseItem(item, context);\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    };\n    StylableContainer.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    };\n    StylableContainer.prototype.removeItem = function (item) {\n        return this.internalRemoveItem(item);\n    };\n    StylableContainer.prototype.getItemCount = function () {\n        return this._items.length;\n    };\n    StylableContainer.prototype.getItemAt = function (index) {\n        return this._items[index];\n    };\n    StylableContainer.prototype.getFirstVisibleRenderedItem = function () {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    };\n    StylableContainer.prototype.getLastVisibleRenderedItem = function () {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    };\n    return StylableContainer;\n}(card_elements_1.StylableCardElementContainer));\nexports.StylableContainer = StylableContainer;\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columnIndex = -1;\n        _this._cellType = \"data\";\n        return _this;\n    }\n    TableCell.prototype.getHasBorder = function () {\n        return this.parentRow.parentTable.showGridLines;\n    };\n    TableCell.prototype.applyBorder = function () {\n        if (this.renderedElement && this.getHasBorder()) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.parentRow.parentTable.gridStyle);\n            if (styleDefinition.borderColor) {\n                var borderColor = (0, utils_1.stringToCssColor)(styleDefinition.borderColor);\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    };\n    TableCell.prototype.getDefaultPadding = function () {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new shared_1.PaddingDefinition(enums_1.Spacing.Small, enums_1.Spacing.Small, enums_1.Spacing.Small, enums_1.Spacing.Small)\n            : _super.prototype.getDefaultPadding.call(this);\n    };\n    TableCell.prototype.internalRender = function () {\n        var cellElement = _super.prototype.internalRender.call(this);\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n        return cellElement;\n    };\n    TableCell.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    TableCell.prototype.getJsonTypeName = function () {\n        return \"TableCell\";\n    };\n    TableCell.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n        return _super.prototype.getEffectiveTextStyleDefinition.call(this);\n    };\n    TableCell.prototype.getEffectiveHorizontalAlignment = function () {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n        if (this.columnIndex >= 0) {\n            var horizontalAlignment = this.parentRow.parentTable.getColumnAt(this.columnIndex).horizontalCellContentAlignment;\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n        return _super.prototype.getEffectiveHorizontalAlignment.call(this);\n    };\n    TableCell.prototype.getEffectiveVerticalContentAlignment = function () {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n        if (this.columnIndex >= 0) {\n            var verticalAlignment = this.parentRow.parentTable.getColumnAt(this.columnIndex).verticalCellContentAlignment;\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n        return _super.prototype.getEffectiveVerticalContentAlignment.call(this);\n    };\n    Object.defineProperty(TableCell.prototype, \"columnIndex\", {\n        get: function () {\n            return this._columnIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"cellType\", {\n        get: function () {\n            return this._cellType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"parentRow\", {\n        get: function () {\n            return this.parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TableCell;\n}(card_elements_1.Container));\nexports.TableCell = TableCell;\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    TableRow.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(enums_1.Spacing.None, enums_1.Spacing.None, enums_1.Spacing.None, enums_1.Spacing.None);\n    };\n    TableRow.prototype.applyBackground = function () {\n        if (this.renderedElement) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n            if (styleDefinition.backgroundColor) {\n                var bgColor = (0, utils_1.stringToCssColor)(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    };\n    TableRow.prototype.getCollectionPropertyName = function () {\n        return \"cells\";\n    };\n    TableRow.prototype.createItemInstance = function (typeName) {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    };\n    TableRow.prototype.internalRender = function () {\n        var isFirstRow = this.getIsFirstRow();\n        var cellSpacing = this.hostConfig.table.cellSpacing;\n        var rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n        for (var i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            var cell = this.getItemAt(i);\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n            var renderedCell = cell.render();\n            if (renderedCell) {\n                var column = this.parentTable.getColumnAt(i);\n                if (column.computedWidth.unit === enums_1.SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                }\n                else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n                rowElement.appendChild(renderedCell);\n            }\n        }\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    };\n    TableRow.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    TableRow.prototype.addCell = function (cell) {\n        this.internalAddItem(cell);\n    };\n    TableRow.prototype.removeCellAt = function (columnIndex) {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n        return false;\n    };\n    TableRow.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    };\n    TableRow.prototype.ensureHasEnoughCells = function (cellCount) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    };\n    TableRow.prototype.getJsonTypeName = function () {\n        return \"TableRow\";\n    };\n    TableRow.prototype.getIsFirstRow = function () {\n        return this.parentTable.getItemAt(0) === this;\n    };\n    Object.defineProperty(TableRow.prototype, \"parentTable\", {\n        get: function () {\n            return this.parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableRow.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    TableRow.styleProperty = new card_elements_1.ContainerStyleProperty(serialization_1.Versions.v1_5, \"style\");\n    TableRow.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    TableRow.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    __decorate([\n        (0, serialization_1.property)(TableRow.horizontalCellContentAlignmentProperty)\n    ], TableRow.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableRow.verticalCellContentAlignmentProperty)\n    ], TableRow.prototype, \"verticalCellContentAlignment\", void 0);\n    return TableRow;\n}(StylableContainer));\nexports.TableRow = TableRow;\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columns = [];\n        _this.firstRowAsHeaders = true;\n        _this.showGridLines = true;\n        return _this;\n    }\n    Object.defineProperty(Table.prototype, \"gridStyle\", {\n        get: function () {\n            var style = this.getValue(Table.gridStyleProperty);\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n            return undefined;\n        },\n        set: function (value) {\n            this.setValue(Table.gridStyleProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#endregion\n    Table.prototype.ensureRowsHaveEnoughCells = function () {\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    };\n    Table.prototype.removeCellsFromColumn = function (columnIndex) {\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    };\n    Table.prototype.getCollectionPropertyName = function () {\n        return \"rows\";\n    };\n    Table.prototype.createItemInstance = function (typeName) {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    };\n    Table.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.ensureRowsHaveEnoughCells();\n    };\n    Table.prototype.internalRender = function () {\n        if (this.getItemCount() > 0) {\n            var totalWeights = 0;\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.width.unit === enums_1.SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n            for (var _b = 0, _c = this._columns; _b < _c.length; _b++) {\n                var column = _c[_b];\n                if (column.width.unit === enums_1.SizeUnit.Pixel) {\n                    column.computedWidth = new shared_1.SizeAndUnit(column.width.physicalSize, enums_1.SizeUnit.Pixel);\n                }\n                else {\n                    column.computedWidth = new shared_1.SizeAndUnit((100 / totalWeights) * column.width.physicalSize, enums_1.SizeUnit.Weight);\n                }\n            }\n            var tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n            if (this.showGridLines) {\n                var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.gridStyle);\n                if (styleDefinition.borderColor) {\n                    var borderColor = (0, utils_1.stringToCssColor)(styleDefinition.borderColor);\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n            var cellSpacing = this.hostConfig.table.cellSpacing;\n            for (var i = 0; i < this.getItemCount(); i++) {\n                var renderedRow = this.getItemAt(i).render();\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        var separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n                        tableElement.appendChild(separatorRow);\n                    }\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n            return tableElement;\n        }\n        return undefined;\n    };\n    Table.prototype.addColumn = function (column) {\n        this._columns.push(column);\n        this.ensureRowsHaveEnoughCells();\n    };\n    Table.prototype.removeColumn = function (column) {\n        var index = this._columns.indexOf(column);\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n            this._columns.splice(index, 1);\n        }\n    };\n    Table.prototype.getColumnCount = function () {\n        return this._columns.length;\n    };\n    Table.prototype.getColumnAt = function (index) {\n        return this._columns[index];\n    };\n    Table.prototype.addRow = function (row) {\n        this.internalAddItem(row);\n        row.ensureHasEnoughCells(this.getColumnCount());\n    };\n    Table.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    };\n    Table.prototype.getJsonTypeName = function () {\n        return \"Table\";\n    };\n    Table._columnsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_5, \"columns\", TableColumnDefinition);\n    Table.firstRowAsHeadersProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"firstRowAsHeaders\", true);\n    Table.showGridLinesProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"showGridLines\", true);\n    Table.gridStyleProperty = new card_elements_1.ContainerStyleProperty(serialization_1.Versions.v1_5, \"gridStyle\");\n    Table.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    Table.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    __decorate([\n        (0, serialization_1.property)(Table._columnsProperty)\n    ], Table.prototype, \"_columns\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.firstRowAsHeadersProperty)\n    ], Table.prototype, \"firstRowAsHeaders\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.showGridLinesProperty)\n    ], Table.prototype, \"showGridLines\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.gridStyleProperty)\n    ], Table.prototype, \"gridStyle\", null);\n    __decorate([\n        (0, serialization_1.property)(Table.horizontalCellContentAlignmentProperty)\n    ], Table.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.verticalCellContentAlignmentProperty)\n    ], Table.prototype, \"verticalCellContentAlignment\", void 0);\n    return Table;\n}(StylableContainer));\nexports.Table = Table;\nregistry_1.GlobalRegistry.defaultElements.register(\"Table\", Table, serialization_1.Versions.v1_5);\n//# sourceMappingURL=table.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelAdapter = void 0;\nvar ChannelAdapter = /** @class */ (function () {\n    function ChannelAdapter() {\n    }\n    return ChannelAdapter;\n}());\nexports.ChannelAdapter = ChannelAdapter;\n//# sourceMappingURL=channel-adapter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoginRequestResponse = exports.ErrorResponse = exports.SuccessResponse = exports.ActivityResponse = exports.ActivityRequestError = exports.ActivityRequestTrigger = void 0;\nvar ActivityRequestTrigger;\n(function (ActivityRequestTrigger) {\n    ActivityRequestTrigger[\"Automatic\"] = \"automatic\";\n    ActivityRequestTrigger[\"Manual\"] = \"manual\";\n})(ActivityRequestTrigger = exports.ActivityRequestTrigger || (exports.ActivityRequestTrigger = {}));\nvar ActivityRequestError = /** @class */ (function () {\n    function ActivityRequestError(code, message) {\n        this.code = code;\n        this.message = message;\n    }\n    return ActivityRequestError;\n}());\nexports.ActivityRequestError = ActivityRequestError;\nvar ActivityResponse = /** @class */ (function () {\n    function ActivityResponse(request) {\n        this.request = request;\n    }\n    return ActivityResponse;\n}());\nexports.ActivityResponse = ActivityResponse;\nvar SuccessResponse = /** @class */ (function (_super) {\n    __extends(SuccessResponse, _super);\n    function SuccessResponse(request, rawContent) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this.rawContent = rawContent;\n        return _this;\n    }\n    return SuccessResponse;\n}(ActivityResponse));\nexports.SuccessResponse = SuccessResponse;\nvar ErrorResponse = /** @class */ (function (_super) {\n    __extends(ErrorResponse, _super);\n    function ErrorResponse(request, error) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this.error = error;\n        return _this;\n    }\n    return ErrorResponse;\n}(ActivityResponse));\nexports.ErrorResponse = ErrorResponse;\nvar LoginRequestResponse = /** @class */ (function (_super) {\n    __extends(LoginRequestResponse, _super);\n    function LoginRequestResponse(request, auth) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this._auth = auth;\n        for (var _i = 0, _a = _this._auth.buttons; _i < _a.length; _i++) {\n            var button = _a[_i];\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n                    _this.signinButton = button;\n                    break;\n                }\n                catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n        return _this;\n    }\n    Object.defineProperty(LoginRequestResponse.prototype, \"tokenExchangeResource\", {\n        get: function () {\n            return this._auth.tokenExchangeResource;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LoginRequestResponse;\n}(ActivityResponse));\nexports.LoginRequestResponse = LoginRequestResponse;\n//# sourceMappingURL=activity-request.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AdaptiveApplet = void 0;\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Utils = require(\"./utils\");\nvar shared_1 = require(\"./shared\");\nvar activity_request_1 = require(\"./activity-request\");\nvar strings_1 = require(\"./strings\");\nvar card_elements_1 = require(\"./card-elements\");\nvar serialization_1 = require(\"./serialization\");\nfunction logEvent(level, message) {\n    var optionalParams = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        optionalParams[_i - 2] = arguments[_i];\n    }\n    if (shared_1.GlobalSettings.applets.logEnabled) {\n        if (shared_1.GlobalSettings.applets.onLogEvent) {\n            shared_1.GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        }\n        else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\nvar ActivityRequest = /** @class */ (function () {\n    function ActivityRequest(action, trigger, consecutiveRefreshes) {\n        this.action = action;\n        this.trigger = trigger;\n        this.consecutiveRefreshes = consecutiveRefreshes;\n        this.attemptNumber = 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    ActivityRequest.prototype.retryAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.onSend) {\n                    this.onSend(this);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return ActivityRequest;\n}());\nvar AdaptiveApplet = /** @class */ (function () {\n    function AdaptiveApplet() {\n        this._allowAutomaticCardUpdate = false;\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n        this._cardHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n    AdaptiveApplet.prototype.displayCard = function (card) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n            this._refreshButtonHostElement.style.display = \"none\";\n            this._cardHostElement.appendChild(card.renderedElement);\n        }\n        else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    };\n    AdaptiveApplet.prototype.showManualRefreshButton = function (refreshAction) {\n        var _this = this;\n        var displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n            var renderedRefreshButton = undefined;\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            }\n            else {\n                var message = strings_1.Strings.runtime.refreshThisCard();\n                if (shared_1.GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    var autoRefreshPausedMessage = strings_1.Strings.runtime.automaticRefreshPaused();\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n                    message = strings_1.Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n                var cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n                var card = new card_elements_1.AdaptiveCard();\n                card.parse(cardPayload, new card_elements_1.SerializationContext(serialization_1.Versions.v1_2));\n                card.onExecuteAction = function (action) {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(_this._refreshButtonHostElement);\n                        _this.internalExecuteAction(refreshAction, activity_request_1.ActivityRequestTrigger.Automatic, 0);\n                    }\n                };\n                renderedRefreshButton = card.render();\n            }\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    };\n    AdaptiveApplet.prototype.createActivityRequest = function (action, trigger, consecutiveRefreshes) {\n        var _this = this;\n        if (this.card) {\n            var request_1 = new ActivityRequest(action, trigger, consecutiveRefreshes);\n            request_1.onSend = function (sender) {\n                sender.attemptNumber++;\n                void _this.internalSendActivityRequestAsync(request_1);\n            };\n            var cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request_1, action)\n                : false;\n            return cancel ? undefined : request_1;\n        }\n        else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    };\n    AdaptiveApplet.prototype.createMagicCodeInputCard = function (attemptNumber) {\n        var payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n        var card = new card_elements_1.AdaptiveCard();\n        card.parse(payload);\n        return card;\n    };\n    AdaptiveApplet.prototype.cancelAutomaticRefresh = function () {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(Enums.LogLevel.Warning, \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\");\n        }\n        this._allowAutomaticCardUpdate = false;\n    };\n    AdaptiveApplet.prototype.createSerializationContext = function () {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new card_elements_1.SerializationContext();\n    };\n    AdaptiveApplet.prototype.internalSetCard = function (payload, consecutiveRefreshes) {\n        var _this = this;\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n        if (this._cardPayload) {\n            try {\n                var card = new card_elements_1.AdaptiveCard();\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n                var serializationContext = this.createSerializationContext();\n                card.parse(this._cardPayload, serializationContext);\n                var doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n                if (doChangeCard) {\n                    this._card = card;\n                    if (this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken) {\n                        this.onPrefetchSSOToken(this, this._card.authentication.tokenExchangeResource);\n                    }\n                    this._card.onExecuteAction = function (action) {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        _this.cancelAutomaticRefresh();\n                        _this.internalExecuteAction(action, activity_request_1.ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = function (_input) {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        _this.cancelAutomaticRefresh();\n                    };\n                    this._card.render();\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n                        if (this._card.refresh) {\n                            if (shared_1.GlobalSettings.applets.refresh.mode ===\n                                Enums.RefreshMode.Automatic &&\n                                consecutiveRefreshes <\n                                    shared_1.GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes) {\n                                if (shared_1.GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0) {\n                                    logEvent(Enums.LogLevel.Info, \"Triggering automatic card refresh number \" +\n                                        (consecutiveRefreshes + 1));\n                                    this.internalExecuteAction(this._card.refresh.action, activity_request_1.ActivityRequestTrigger.Automatic, consecutiveRefreshes + 1);\n                                }\n                                else {\n                                    logEvent(Enums.LogLevel.Info, \"Scheduling automatic card refresh number \" +\n                                        (consecutiveRefreshes + 1) +\n                                        \" in \" +\n                                        shared_1.GlobalSettings.applets.refresh\n                                            .timeBetweenAutomaticRefreshes +\n                                        \"ms\");\n                                    var action_1 = this._card.refresh.action;\n                                    this._allowAutomaticCardUpdate = true;\n                                    window.setTimeout(function () {\n                                        if (_this._allowAutomaticCardUpdate) {\n                                            _this.internalExecuteAction(action_1, activity_request_1.ActivityRequestTrigger.Automatic, consecutiveRefreshes + 1);\n                                        }\n                                    }, shared_1.GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            }\n                            else if (shared_1.GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled) {\n                                if (consecutiveRefreshes > 0) {\n                                    logEvent(Enums.LogLevel.Warning, \"Stopping automatic refreshes after \" +\n                                        consecutiveRefreshes +\n                                        \" consecutive refreshes.\");\n                                }\n                                else {\n                                    logEvent(Enums.LogLevel.Warning, \"The card has a refresh section, but automatic refreshes are disabled.\");\n                                }\n                                if (shared_1.GlobalSettings.applets.refresh\n                                    .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    shared_1.GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    };\n    AdaptiveApplet.prototype.internalExecuteAction = function (action, trigger, consecutiveRefreshes) {\n        if (action instanceof card_elements_1.ExecuteAction) {\n            if (this.channelAdapter) {\n                var request = this.createActivityRequest(action, trigger, consecutiveRefreshes);\n                if (request) {\n                    void request.retryAsync();\n                }\n            }\n            else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    };\n    AdaptiveApplet.prototype.createProgressOverlay = function (request) {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            }\n            else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n                var spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n        return this._progressOverlay;\n    };\n    AdaptiveApplet.prototype.removeProgressOverlay = function (request) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n            this._progressOverlay = undefined;\n        }\n    };\n    AdaptiveApplet.prototype.activityRequestSucceeded = function (response, parsedContent) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    };\n    AdaptiveApplet.prototype.activityRequestFailed = function (response) {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : shared_1.GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    };\n    AdaptiveApplet.prototype.showAuthCodeInputDialog = function (request) {\n        var _this = this;\n        var showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n        if (showBuiltInAuthCodeInputCard) {\n            var authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = function (submitMagicCodeAction) {\n                if (_this.card && submitMagicCodeAction instanceof card_elements_1.SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            var authCode = undefined;\n                            if (submitMagicCodeAction.data &&\n                                typeof submitMagicCodeAction.data[\"magicCode\"] === \"string\") {\n                                authCode = submitMagicCodeAction.data[\"magicCode\"];\n                            }\n                            if (authCode) {\n                                _this.displayCard(_this.card);\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            }\n                            else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n                            _this.displayCard(_this.card);\n                            break;\n                        default:\n                            logEvent(Enums.LogLevel.Error, \"Unexpected action taken from magic code input card (id = \" +\n                                submitMagicCodeAction.id +\n                                \")\");\n                            alert(strings_1.Strings.magicCodeInputCard.somethingWentWrong());\n                            break;\n                    }\n                }\n            };\n            this.displayCard(authCodeInputCard);\n        }\n    };\n    AdaptiveApplet.prototype.internalSendActivityRequestAsync = function (request) {\n        return __awaiter(this, void 0, void 0, function () {\n            var overlay, done, _loop_1, this_1, state_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.channelAdapter) {\n                            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n                        }\n                        overlay = this.createProgressOverlay(request);\n                        if (overlay !== undefined) {\n                            this.renderedElement.appendChild(overlay);\n                        }\n                        done = false;\n                        _loop_1 = function () {\n                            var response, error_1, parsedContent, retryIn_1, attemptOAuth, left, top_1;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        response = undefined;\n                                        if (request.attemptNumber === 1) {\n                                            logEvent(Enums.LogLevel.Info, \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\");\n                                        }\n                                        else {\n                                            logEvent(Enums.LogLevel.Info, \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\");\n                                        }\n                                        _b.label = 1;\n                                    case 1:\n                                        _b.trys.push([1, 3, , 4]);\n                                        return [4 /*yield*/, this_1.channelAdapter.sendRequestAsync(request)];\n                                    case 2:\n                                        response = _b.sent();\n                                        return [3 /*break*/, 4];\n                                    case 3:\n                                        error_1 = _b.sent();\n                                        logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error_1);\n                                        this_1.removeProgressOverlay(request);\n                                        done = true;\n                                        return [3 /*break*/, 4];\n                                    case 4:\n                                        if (!response) return [3 /*break*/, 10];\n                                        if (!(response instanceof activity_request_1.SuccessResponse)) return [3 /*break*/, 5];\n                                        this_1.removeProgressOverlay(request);\n                                        if (response.rawContent === undefined) {\n                                            throw new Error(\"internalSendActivityRequestAsync: Action.Execute result is undefined\");\n                                        }\n                                        parsedContent = response.rawContent;\n                                        try {\n                                            parsedContent = JSON.parse(response.rawContent);\n                                        }\n                                        catch (_c) {\n                                            // Leave parseContent as is\n                                        }\n                                        if (typeof parsedContent === \"string\") {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned a string after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            this_1.activityRequestSucceeded(response, parsedContent);\n                                        }\n                                        else if (typeof parsedContent === \"object\" &&\n                                            parsedContent[\"type\"] === \"AdaptiveCard\") {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned an Adaptive Card after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            this_1.internalSetCard(parsedContent, request.consecutiveRefreshes);\n                                            this_1.activityRequestSucceeded(response, this_1.card);\n                                        }\n                                        else {\n                                            throw new Error(\"internalSendActivityRequestAsync: Action.Execute result is of unsupported type (\" +\n                                                typeof response.rawContent +\n                                                \")\");\n                                        }\n                                        done = true;\n                                        return [3 /*break*/, 10];\n                                    case 5:\n                                        if (!(response instanceof activity_request_1.ErrorResponse)) return [3 /*break*/, 9];\n                                        retryIn_1 = this_1.activityRequestFailed(response);\n                                        if (!(retryIn_1 >= 0 &&\n                                            request.attemptNumber < shared_1.GlobalSettings.applets.maximumRetryAttempts)) return [3 /*break*/, 7];\n                                        logEvent(Enums.LogLevel.Warning, \"Activity request failed: \".concat(response.error.message, \". Retrying in \").concat(retryIn_1, \"ms\"));\n                                        request.attemptNumber++;\n                                        return [4 /*yield*/, new Promise(function (resolve, _reject) {\n                                                window.setTimeout(function () {\n                                                    resolve();\n                                                }, retryIn_1);\n                                            })];\n                                    case 6:\n                                        _b.sent();\n                                        return [3 /*break*/, 8];\n                                    case 7:\n                                        logEvent(Enums.LogLevel.Error, \"Activity request failed: \".concat(response.error.message, \". Giving up after \").concat(request.attemptNumber, \" attempt(s)\"));\n                                        this_1.removeProgressOverlay(request);\n                                        done = true;\n                                        _b.label = 8;\n                                    case 8: return [3 /*break*/, 10];\n                                    case 9:\n                                        if (response instanceof activity_request_1.LoginRequestResponse) {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned a LoginRequestResponse after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            if (request.attemptNumber <= shared_1.GlobalSettings.applets.maximumRetryAttempts) {\n                                                attemptOAuth = true;\n                                                if (response.tokenExchangeResource && this_1.onSSOTokenNeeded) {\n                                                    // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                                                    // we bypass OAuth\n                                                    attemptOAuth = !this_1.onSSOTokenNeeded(this_1, request, response.tokenExchangeResource);\n                                                }\n                                                if (attemptOAuth) {\n                                                    // Attempt to use OAuth\n                                                    this_1.removeProgressOverlay(request);\n                                                    if (response.signinButton === undefined) {\n                                                        throw new Error(\"internalSendActivityRequestAsync: the login request doesn't contain a valid signin URL.\");\n                                                    }\n                                                    logEvent(Enums.LogLevel.Info, \"Login required at \" + response.signinButton.value);\n                                                    if (this_1.onShowSigninPrompt) {\n                                                        // Bypass the built-in auth prompt if the host app handles it\n                                                        this_1.onShowSigninPrompt(this_1, request, response.signinButton);\n                                                    }\n                                                    else {\n                                                        this_1.showAuthCodeInputDialog(request);\n                                                        left = window.screenX +\n                                                            (window.outerWidth - shared_1.GlobalSettings.applets.authPromptWidth) /\n                                                                2;\n                                                        top_1 = window.screenY +\n                                                            (window.outerHeight - shared_1.GlobalSettings.applets.authPromptHeight) /\n                                                                2;\n                                                        window.open(response.signinButton.value, response.signinButton.title\n                                                            ? response.signinButton.title\n                                                            : \"Sign in\", \"width=\".concat(shared_1.GlobalSettings.applets.authPromptWidth, \",height=\").concat(shared_1.GlobalSettings.applets.authPromptHeight, \",left=\").concat(left, \",top=\").concat(top_1));\n                                                    }\n                                                }\n                                            }\n                                            else {\n                                                logEvent(Enums.LogLevel.Error, \"Authentication failed. Giving up after \" +\n                                                    request.attemptNumber +\n                                                    \" attempt(s)\");\n                                                alert(strings_1.Strings.magicCodeInputCard.authenticationFailed());\n                                            }\n                                            return [2 /*return*/, \"break\"];\n                                        }\n                                        else {\n                                            throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                                        }\n                                        _b.label = 10;\n                                    case 10: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 1;\n                    case 1:\n                        if (!!done) return [3 /*break*/, 3];\n                        return [5 /*yield**/, _loop_1()];\n                    case 2:\n                        state_1 = _a.sent();\n                        if (state_1 === \"break\")\n                            return [3 /*break*/, 3];\n                        return [3 /*break*/, 1];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AdaptiveApplet.prototype.refreshCard = function () {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, activity_request_1.ActivityRequestTrigger.Manual, 0);\n        }\n    };\n    AdaptiveApplet.prototype.setCard = function (payload) {\n        this.internalSetCard(payload, 0);\n    };\n    Object.defineProperty(AdaptiveApplet.prototype, \"card\", {\n        get: function () {\n            return this._card;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveApplet._submitMagicCodeActionId = \"submitMagicCode\";\n    AdaptiveApplet._cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n    return AdaptiveApplet;\n}());\nexports.AdaptiveApplet = AdaptiveApplet;\n//# sourceMappingURL=adaptive-applet.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n__exportStar(require(\"./strings\"), exports);\n__exportStar(require(\"./enums\"), exports);\n__exportStar(require(\"./shared\"), exports);\n__exportStar(require(\"./utils\"), exports);\n__exportStar(require(\"./serialization\"), exports);\n__exportStar(require(\"./host-capabilities\"), exports);\n__exportStar(require(\"./host-config\"), exports);\n__exportStar(require(\"./registry\"), exports);\n__exportStar(require(\"./card-object\"), exports);\n__exportStar(require(\"./card-elements\"), exports);\n__exportStar(require(\"./carousel\"), exports);\n__exportStar(require(\"./table\"), exports);\n__exportStar(require(\"./channel-adapter\"), exports);\n__exportStar(require(\"./activity-request\"), exports);\n__exportStar(require(\"./adaptive-applet\"), exports);\n//# sourceMappingURL=adaptivecards.js.map",":host {\n  display: block;\n}\n.card {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  background-color: white;\n  border-radius: 4px;\n  padding: 16px;\n  margin: 8px;\n}\n","import { Component, Prop, h } from '@stencil/core';\nimport * as AdaptiveCards from 'adaptivecards';\nimport '@esri/calcite-components'\n\n\n\n@Component({\n  tag: 'hub-layout-card',\n  styleUrl: 'hub-layout-card.css',\n  shadow: true,\n})\nexport class CardComponent {\n  @Prop() config: any;\n  cardElement: HTMLElement;\n\n  componentDidLoad() {\n    const adaptiveCard = new AdaptiveCards.AdaptiveCard();\n    adaptiveCard.parse(this.config);\n    const renderedCard = adaptiveCard.render();\n    this.cardElement.appendChild(renderedCard);\n  }\n\n  render() {\n    let content;\n    switch (this.config.type) {\n      case 'TextBlock':\n        content = <calcite-tip style={this.config.style}>{this.config.text}</calcite-tip>;\n        break;\n      case 'Image':\n        content = (\n          <calcite-card>\n            <img slot=\"thumbnail\" src={this.config.url} style={this.config.style} alt={this.config.text} />\n          </calcite-card>\n        );\n        break;\n      case 'Map':\n        content = (\n          <calcite-map\n            lat={this.config.lat}\n            lon={this.config.lon}\n            zoom={this.config.zoom}\n            style={this.config.style}\n          ></calcite-map>\n        );\n        break;\n      // Add more case statements for other card types like weather, survey, etc.\n    }\n\n    return <div class=\"card\" style={this.config.style}>{content}\n\n      <calcite-chip value={this.config.type}>\n        {this.config.type}\n      </calcite-chip>\n    </div>;\n  }\n}\n",":host {\n  display: block;\n}\n.section {\n  display: flex;\n  flex-direction: column;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'hub-layout-section',\n  styleUrl: 'hub-layout-section.css',\n  shadow: true,\n})\nexport class HubLayoutSection {\n  @Prop() config: any;\n\n  render() {\n    return (\n      <div class=\"section\" style={this.config.style}>\n        {this.config.cards.map((card) => (\n          <hub-layout-card config={card}></hub-layout-card>\n        ))}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}