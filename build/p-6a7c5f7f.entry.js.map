{"version":3,"names":["CSS","frame","frameAdvancing","frameRetreating","flowCss","Flow","constructor","hostRef","this","itemMutationObserver","createObserver","updateFlowProps","getFlowDirection","oldFlowItemCount","newFlowItemCount","allowRetreatingDirection","allowAdvancingDirection","el","items","newItems","Array","from","querySelectorAll","filter","flowItem","closest","oldItemCount","length","newItemCount","activeItem","previousItem","forEach","itemNode","showBackButton","hidden","menuOpen","flowDirection","itemCount","async","lastItem","beforeBack","Promise","resolve","call","then","remove","connectedCallback","_a","observe","childList","subtree","disconnectedCallback","disconnect","handleItemBackClick","back","render","frameDirectionClasses","h","class"],"sources":["./node_modules/@esri/calcite-components/dist/collection/components/flow/resources.js","./node_modules/@esri/calcite-components/dist/collection/components/flow/flow.css?tag=calcite-flow&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/flow/flow.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.2.0\n */\nexport const CSS = {\n  frame: \"frame\",\n  frameAdvancing: \"frame--advancing\",\n  frameRetreating: \"frame--retreating\"\n};\n","/* mixins & extensions */\n@keyframes in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes in-down {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, -5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-up {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, 5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-scale {\n  0% {\n    opacity: 0;\n    transform: scale3D(0.95, 0.95, 1);\n  }\n  100% {\n    opacity: 1;\n    transform: scale3D(1, 1, 1);\n  }\n}\n:root {\n  --calcite-animation-timing: calc(150ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-duration-factor: var(--calcite-duration-factor, 1);\n  --calcite-internal-animation-timing-fast: calc(100ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-medium: calc(200ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-slow: calc(300ms * var(--calcite-internal-duration-factor));\n}\n\n.calcite-animate {\n  opacity: 0;\n  animation-fill-mode: both;\n  animation-duration: var(--calcite-animation-timing);\n}\n\n.calcite-animate__in {\n  animation-name: in;\n}\n\n.calcite-animate__in-down {\n  animation-name: in-down;\n}\n\n.calcite-animate__in-up {\n  animation-name: in-up;\n}\n\n.calcite-animate__in-scale {\n  animation-name: in-scale;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  :root {\n    --calcite-internal-duration-factor: 0.01;\n  }\n}\n/* helper to properly scale internal durations */\n/**\n* Currently only used in Checkbox.\n*/\n:host {\n  /* Base \":host\" styles for the component */\n  box-sizing: border-box;\n  background-color: var(--calcite-ui-foreground-1);\n  color: var(--calcite-ui-text-2);\n  font-size: var(--calcite-font-size--1);\n}\n:host * {\n  box-sizing: border-box;\n}\n\n:root {\n  --calcite-floating-ui-transition: var(--calcite-animation-timing);\n  --calcite-floating-ui-z-index: 600;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host {\n  position: relative;\n  display: flex;\n  inline-size: 100%;\n  flex: 1 1 auto;\n  align-items: stretch;\n  overflow: hidden;\n  background-color: transparent;\n}\n:host .frame {\n  position: relative;\n  margin: 0px;\n  display: flex;\n  inline-size: 100%;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-items: stretch;\n  padding: 0px;\n}\n:host ::slotted(calcite-flow-item),\n:host ::slotted(calcite-panel) {\n  block-size: 100%;\n}\n:host ::slotted(.calcite-match-height:last-child) {\n  display: flex;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n:host .frame--advancing {\n  animation: calcite-frame-advance var(--calcite-animation-timing);\n}\n:host .frame--retreating {\n  animation: calcite-frame-retreat var(--calcite-animation-timing);\n}\n@keyframes calcite-frame-advance {\n  0% {\n    --tw-bg-opacity: 0.5;\n    transform: translate3d(50px, 0, 0);\n  }\n  100% {\n    --tw-bg-opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes calcite-frame-retreat {\n  0% {\n    --tw-bg-opacity: 0.5;\n    transform: translate3d(-50px, 0, 0);\n  }\n  100% {\n    --tw-bg-opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.2.0\n */\nimport { h } from \"@stencil/core\";\nimport { createObserver } from \"../../utils/observers\";\nimport { CSS } from \"./resources\";\n/**\n * @slot - A slot for adding `calcite-flow-item` elements to the component.\n */\nexport class Flow {\n  constructor() {\n    this.itemMutationObserver = createObserver(\"mutation\", () => this.updateFlowProps());\n    this.getFlowDirection = (oldFlowItemCount, newFlowItemCount) => {\n      const allowRetreatingDirection = oldFlowItemCount > 1;\n      const allowAdvancingDirection = oldFlowItemCount && newFlowItemCount > 1;\n      if (!allowAdvancingDirection && !allowRetreatingDirection) {\n        return null;\n      }\n      return newFlowItemCount < oldFlowItemCount ? \"retreating\" : \"advancing\";\n    };\n    this.updateFlowProps = () => {\n      const { el, items } = this;\n      const newItems = Array.from(el.querySelectorAll(\"calcite-flow-item\")).filter((flowItem) => flowItem.closest(\"calcite-flow\") === el);\n      const oldItemCount = items.length;\n      const newItemCount = newItems.length;\n      const activeItem = newItems[newItemCount - 1];\n      const previousItem = newItems[newItemCount - 2];\n      if (newItemCount && activeItem) {\n        newItems.forEach((itemNode) => {\n          itemNode.showBackButton = itemNode === activeItem && newItemCount > 1;\n          itemNode.hidden = itemNode !== activeItem;\n        });\n      }\n      if (previousItem) {\n        previousItem.menuOpen = false;\n      }\n      this.items = newItems;\n      if (oldItemCount !== newItemCount) {\n        const flowDirection = this.getFlowDirection(oldItemCount, newItemCount);\n        this.itemCount = newItemCount;\n        this.flowDirection = flowDirection;\n      }\n    };\n    this.flowDirection = null;\n    this.itemCount = 0;\n    this.items = [];\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * Removes the currently active `calcite-flow-item`.\n   */\n  async back() {\n    const { items } = this;\n    const lastItem = items[items.length - 1];\n    if (!lastItem) {\n      return;\n    }\n    const beforeBack = lastItem.beforeBack\n      ? lastItem.beforeBack\n      : () => Promise.resolve();\n    return beforeBack.call(lastItem).then(() => {\n      lastItem.remove();\n      return lastItem;\n    });\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    this.itemMutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.updateFlowProps();\n  }\n  disconnectedCallback() {\n    this.itemMutationObserver?.disconnect();\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  handleItemBackClick() {\n    this.back();\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n  render() {\n    const { flowDirection } = this;\n    const frameDirectionClasses = {\n      [CSS.frame]: true,\n      [CSS.frameAdvancing]: flowDirection === \"advancing\",\n      [CSS.frameRetreating]: flowDirection === \"retreating\"\n    };\n    return (h(\"div\", { class: frameDirectionClasses }, h(\"slot\", null)));\n  }\n  static get is() { return \"calcite-flow\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"flow.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"flow.css\"]\n    };\n  }\n  static get states() {\n    return {\n      \"flowDirection\": {},\n      \"itemCount\": {},\n      \"items\": {}\n    };\n  }\n  static get methods() {\n    return {\n      \"back\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<HTMLCalciteFlowItemElement>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"HTMLCalciteFlowItemElement\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<HTMLCalciteFlowItemElement>\"\n        },\n        \"docs\": {\n          \"text\": \"Removes the currently active `calcite-flow-item`.\",\n          \"tags\": []\n        }\n      }\n    };\n  }\n  static get elementRef() { return \"el\"; }\n  static get listeners() {\n    return [{\n        \"name\": \"calciteFlowItemBack\",\n        \"method\": \"handleItemBackClick\",\n        \"target\": undefined,\n        \"capture\": false,\n        \"passive\": false\n      }];\n  }\n}\n"],"mappings":";;;;;GAKO,MAAMA,EAAM,CACjBC,MAAO,QACPC,eAAgB,mBAChBC,gBAAiB,qBCRnB,MAAMC,EAAU,o3E,MCWHC,EAAI,MACfC,YAAAC,G,UACEC,KAAKC,qBAAuBC,EAAe,YAAY,IAAMF,KAAKG,oBAClEH,KAAKI,iBAAmB,CAACC,EAAkBC,KACzC,MAAMC,EAA2BF,EAAmB,EACpD,MAAMG,EAA0BH,GAAoBC,EAAmB,EACvE,IAAKE,IAA4BD,EAA0B,CACzD,OAAO,I,CAET,OAAOD,EAAmBD,EAAmB,aAAe,WAAW,EAEzEL,KAAKG,gBAAkB,KACrB,MAAMM,GAAEA,EAAEC,MAAEA,GAAUV,KACtB,MAAMW,EAAWC,MAAMC,KAAKJ,EAAGK,iBAAiB,sBAAsBC,QAAQC,GAAaA,EAASC,QAAQ,kBAAoBR,IAChI,MAAMS,EAAeR,EAAMS,OAC3B,MAAMC,EAAeT,EAASQ,OAC9B,MAAME,EAAaV,EAASS,EAAe,GAC3C,MAAME,EAAeX,EAASS,EAAe,GAC7C,GAAIA,GAAgBC,EAAY,CAC9BV,EAASY,SAASC,IAChBA,EAASC,eAAiBD,IAAaH,GAAcD,EAAe,EACpEI,EAASE,OAASF,IAAaH,CAAU,G,CAG7C,GAAIC,EAAc,CAChBA,EAAaK,SAAW,K,CAE1B3B,KAAKU,MAAQC,EACb,GAAIO,IAAiBE,EAAc,CACjC,MAAMQ,EAAgB5B,KAAKI,iBAAiBc,EAAcE,GAC1DpB,KAAK6B,UAAYT,EACjBpB,KAAK4B,cAAgBA,C,GAGzB5B,KAAK4B,cAAgB,KACrB5B,KAAK6B,UAAY,EACjB7B,KAAKU,MAAQ,E,CAUfoB,aACE,MAAMpB,MAAEA,GAAUV,KAClB,MAAM+B,EAAWrB,EAAMA,EAAMS,OAAS,GACtC,IAAKY,EAAU,CACb,M,CAEF,MAAMC,EAAaD,EAASC,WACxBD,EAASC,WACT,IAAMC,QAAQC,UAClB,OAAOF,EAAWG,KAAKJ,GAAUK,MAAK,KACpCL,EAASM,SACT,OAAON,CAAQ,G,CAQnBO,oB,OACEC,EAAAvC,KAAKC,wBAAoB,MAAAsC,SAAA,SAAAA,EAAEC,QAAQxC,KAAKS,GAAI,CAAEgC,UAAW,KAAMC,QAAS,OACxE1C,KAAKG,iB,CAEPwC,uB,OACEJ,EAAAvC,KAAKC,wBAAoB,MAAAsC,SAAA,SAAAA,EAAEK,Y,CAO7BC,sBACE7C,KAAK8C,M,CAOPC,SACE,MAAMnB,cAAEA,GAAkB5B,KAC1B,MAAMgD,EAAwB,CAC5B,CAACxD,EAAIC,OAAQ,KACb,CAACD,EAAIE,gBAAiBkC,IAAkB,YACxC,CAACpC,EAAIG,iBAAkBiC,IAAkB,cAE3C,OAAQqB,EAAE,MAAO,CAAEC,MAAOF,GAAyBC,EAAE,OAAQ,M"}